import{x as C,i as v,c as V,o as t,w as N,a as o,b as A,g as h,e as n,d as a,h as d,n as u,j as r,A as c,t as l,z as b,F as k,l as w,Q as q}from"./app-DPrmhUy0.js";import{A as E}from"./AppLayout-Bo5cs2cL.js";import{F}from"./FeatureLimitModal-Dho-LO5_.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const M={class:"container-xxl flex-grow-1 container-p-y"},D={class:"row"},S={class:"col-xl"},B={class:"card mb-4"},j={class:"card-body"},I={class:"mb-3"},z={key:0,class:"invalid-feedback"},O={class:"mb-3"},P={key:0,class:"invalid-feedback"},T={class:"mb-3"},Y={key:0,class:"invalid-feedback"},G={class:"mb-3"},H={key:0,class:"invalid-feedback"},J={class:"mb-3"},Q={key:0,class:"invalid-feedback"},R={class:"mb-3"},K=["value"],W={key:0,class:"invalid-feedback"},X={class:"mb-3"},Z=["value"],$={key:0,class:"invalid-feedback"},ee={class:"mb-3"},se={class:"form-check"},oe={key:0,class:"invalid-feedback"},re=["disabled"],ie={key:0},te={key:1},ae={__name:"Create",props:{groups:Object,designations:Array,examineeLimit:Number,examinerLimit:Number,currentexamineeCount:Number,currentexaminerCount:Number},setup(_){const m=_,s=C({name:"",email:"",unique_code:"",password:"",user_type:"",designation_id:null,groups:[],notify_user:!1}),f=v(!1),y=v(""),x=v("");function g(p,e){y.value=p,x.value=e,f.value=!0}const U=()=>{const p=m.currentexamineeCount<m.examineeLimit,e=m.currentexaminerCount<m.examinerLimit;if(s.user_type=="examinee"&&!p){g("Add Examinee","You have reached the examinee limit. Upgrade your plan to add more examinees.");return}if(s.user_type=="examiner"&&!e){g("Add Examiner","You have reached the examiner limit. Upgrade your plan to add more examiners.");return}s.post("/examiner/user")};return(p,e)=>(t(),V(E,{title:"Add User"},{default:N(()=>[o("div",M,[e[21]||(e[21]=o("h4",{class:"fw-bold py-3 mb-4"},"Create a User",-1)),o("div",D,[o("div",S,[o("div",B,[e[20]||(e[20]=o("div",{class:"card-header d-flex justify-content-between align-items-center"},[o("h5",{class:"mb-0"},"Login Details"),o("small",{class:"text-muted float-end"},"Required fields")],-1)),o("div",j,[o("form",{onSubmit:h(U,["prevent"])},[o("div",I,[e[9]||(e[9]=o("label",{class:"form-label",for:"name"},"Full Name",-1)),n(o("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>r(s).name=i),type:"text",class:u(["form-control",{"is-invalid":r(s).errors.name}]),id:"name",placeholder:"John Doe"},null,2),[[c,r(s).name]]),r(s).errors.name?(t(),a("div",z,l(r(s).errors.name),1)):d("",!0)]),o("div",O,[e[10]||(e[10]=o("label",{class:"form-label",for:"email"},"Email",-1)),n(o("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>r(s).email=i),type:"email",class:u(["form-control",{"is-invalid":r(s).errors.email}]),id:"email",placeholder:"email@example.com"},null,2),[[c,r(s).email]]),r(s).errors.email?(t(),a("div",P,l(r(s).errors.email),1)):d("",!0)]),o("div",T,[e[11]||(e[11]=o("label",{class:"form-label",for:"unique_code"},"Identification Number",-1)),n(o("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>r(s).unique_code=i),type:"text",class:u(["form-control",{"is-invalid":r(s).errors.unique_code}]),id:"unique_code",placeholder:"U09CH1767"},null,2),[[c,r(s).unique_code]]),r(s).errors.unique_code?(t(),a("div",Y,l(r(s).errors.unique_code),1)):d("",!0)]),o("div",G,[e[12]||(e[12]=o("label",{class:"form-label",for:"password"},"Password",-1)),n(o("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>r(s).password=i),type:"password",class:u(["form-control",{"is-invalid":r(s).errors.password}]),id:"password",placeholder:"Password"},null,2),[[c,r(s).password]]),r(s).errors.password?(t(),a("div",H,l(r(s).errors.password),1)):d("",!0)]),o("div",J,[e[14]||(e[14]=o("label",{for:"user_type",class:"form-label"},"User Type",-1)),n(o("select",{"onUpdate:modelValue":e[4]||(e[4]=i=>r(s).user_type=i),class:u(["form-select",{"is-invalid":r(s).errors.user_type}]),id:"user_type"},e[13]||(e[13]=[o("option",{disabled:"",value:""},"Select One",-1),o("option",{value:"examiner"},"Examiner (full access)",-1),o("option",{value:"instructor"},"Instructor (staff/teacher)",-1),o("option",{value:"examinee"},"Examinee (student/candidate)",-1)]),2),[[b,r(s).user_type]]),r(s).errors.user_type?(t(),a("div",Q,l(r(s).errors.user_type),1)):d("",!0)]),o("div",R,[e[16]||(e[16]=o("label",{for:"designation_id",class:"form-label"},"Designation",-1)),n(o("select",{"onUpdate:modelValue":e[5]||(e[5]=i=>r(s).designation_id=i),class:u(["form-select",{"is-invalid":r(s).errors.designation_id}]),id:"designation_id"},[e[15]||(e[15]=o("option",{disabled:"",value:""},"Select Designation",-1)),(t(!0),a(k,null,w(_.designations,i=>(t(),a("option",{key:i.id,value:i.id},l(i.name),9,K))),128))],2),[[b,r(s).designation_id]]),r(s).errors.designation_id?(t(),a("div",W,l(r(s).errors.designation_id),1)):d("",!0)]),o("div",X,[e[18]||(e[18]=o("label",{for:"groups",class:"form-label"},"Assign Group",-1)),n(o("select",{"onUpdate:modelValue":e[6]||(e[6]=i=>r(s).group=i),class:u(["form-select",{"is-invalid":r(s).errors.group}]),id:"groups"},[e[17]||(e[17]=o("option",{disabled:"",value:""},"-- Select a group --",-1)),(t(!0),a(k,null,w(m.groups.data,i=>(t(),a("option",{key:i.id,value:i.id},l(i.name),9,Z))),128))],2),[[b,r(s).group]]),r(s).errors.group?(t(),a("div",$,l(r(s).errors.group),1)):d("",!0)]),o("div",ee,[o("div",se,[n(o("input",{"onUpdate:modelValue":e[7]||(e[7]=i=>r(s).notify_user=i),class:u(["form-check-input",{"is-invalid":r(s).errors.notify_user}]),type:"checkbox",id:"notify-user"},null,2),[[q,r(s).notify_user]]),e[19]||(e[19]=o("label",{class:"form-check-label",for:"notify-user"}," Notify user via email about account creation ",-1)),r(s).errors.notify_user?(t(),a("div",oe,l(r(s).errors.notify_user),1)):d("",!0)])]),o("button",{type:"submit",class:"btn btn-success",disabled:r(s).processing},[r(s).processing?(t(),a("span",ie,"Creating...")):(t(),a("span",te,"Create User"))],8,re)],32)])])])])]),A(F,{modelValue:f.value,"onUpdate:modelValue":e[8]||(e[8]=i=>f.value=i),featureName:y.value,message:x.value},null,8,["modelValue","featureName","message"])]),_:1}))}},pe=L(ae,[["__scopeId","data-v-b4743dcf"]]);export{pe as default};
