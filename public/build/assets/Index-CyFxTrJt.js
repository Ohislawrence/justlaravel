import{A as k}from"./AppLayout-DUw_ZWTf.js";import{i as x,L as C,d as n,o as a,a as e,c as q,h as v,e as A,s as z,F as y,l as b,t as r,W as w,w as h,b as _,j as M,S as N,k as Q}from"./app-Do1sSIaC.js";import{F as P}from"./FeatureLimitModal-DgxIgkN8.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"relative"},V=["value"],L={__name:"PoolSelector",props:{pools:Array,questionId:Number,showCreate:{type:Boolean,default:!0}},setup(c){const o=c,d=x(""),u=x(!1),p=()=>{d.value&&(w.post(route("pools.attach-question",{pool_id:d.value,question_id:o.questionId}),{preserveScroll:!0}),d.value="")},f=m=>{o.pools.push(m),d.value=m.id,p()};return(m,l)=>{const g=C("PoolCreateModal");return a(),n(y,null,[e("div",F,[A(e("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>d.value=t),onChange:p,class:"block w-full p-2 border rounded"},[l[3]||(l[3]=e("option",{value:""},"Add to pool...",-1)),(a(!0),n(y,null,b(c.pools,t=>(a(),n("option",{key:t.id,value:t.id},r(t.name)+" ("+r(t.questions_count)+") ",9,V))),128))],544),[[z,d.value]]),c.showCreate&&d.value===""?(a(),n("button",{key:0,onClick:l[1]||(l[1]=t=>u.value=!0),class:"absolute right-0 top-0 p-2"}," + ")):v("",!0)]),u.value?(a(),q(g,{key:0,onClose:l[2]||(l[2]=t=>u.value=!1),onCreated:f})):v("",!0)],64)}}},S={class:"font-semibold text-xl text-gray-800 leading-tight"},B={class:"py-6"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-6 bg-white border-b border-gray-200"},T={class:"mb-8"},E={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},I={class:"flex justify-between"},U={class:"font-medium"},O={class:"text-sm text-gray-500"},W={class:"text-sm text-gray-600 mt-1"},Y={class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200"},G={class:"bg-white divide-y divide-gray-200"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm font-medium text-gray-900"},K={key:0,class:"text-sm text-gray-500"},X={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},te={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},se={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ie={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ae=["onClick"],pe={__name:"Index",props:{quiz:Object,questions:Array,pools:Array,availablePools:Array,questionsLimit:Number,currentQuestionsCount:Number},setup(c){const o=c;function d(t){return{multiple_choice:"Multiple Choice",true_false:"True/False",short_answer:"Short Answer",essay:"Essay",fill_in_blank:"Fill in Blank",matching:"Matching",ordering:"Ordering"}[t]||t}const u=x(!1),p=x(""),f=x("");function m(t,i){p.value=t,f.value=i,u.value=!0}function l(){if(!(o.currentQuestionsCount<o.questionsLimit)){m("Add Question","You have reached the question limit. Upgrade your plan to add more questions.");return}w.visit(route("examiner.quizzes.questions.create",o.quiz.id))}function g(t){confirm("Are you sure you want to delete this question?")&&w.delete(route("examiner.quizzes.questions.destroy",{quiz:o.quiz.id,question:t.id}))}return(t,i)=>(a(),q(k,{title:o.quiz.title},{header:h(()=>[e("h2",S," Questions for "+r(o.quiz.title),1)]),default:h(()=>[e("div",B,[e("div",$,[e("div",j,[e("div",D,[e("div",{class:"flex justify-between mb-6"},[i[1]||(i[1]=e("h3",{class:"text-lg font-medium"},"Manage Questions",-1)),e("button",{onClick:l,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 active:bg-blue-900 focus:outline-none focus:border-blue-900 focus:ring focus:ring-blue-300 disabled:opacity-25 transition"}," Add New Question ")]),e("div",T,[i[2]||(i[2]=e("h4",{class:"font-medium mb-2"},"Question Pools",-1)),e("div",E,[(a(!0),n(y,null,b(o.pools,s=>(a(),n("div",{key:s.id,class:"border rounded p-4"},[e("div",I,[e("h5",U,r(s.name),1),e("span",O,r(s.questions_count)+" questions",1)]),e("p",W,r(s.description),1)]))),128))])]),e("div",Y,[e("table",R,[i[4]||(i[4]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Question"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Points"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Required"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pools"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",G,[(a(!0),n(y,null,b(o.questions,s=>(a(),n("tr",{key:s.id},[e("td",H,[e("div",J,r(s.question),1),s.description?(a(),n("div",K,r(s.description),1)):v("",!0)]),e("td",X,r(d(s.type)),1),e("td",Z,r(s.points),1),e("td",ee,[s.is_required?(a(),n("span",te,"Yes")):(a(),n("span",se,"No"))]),e("td",oe,[_(L,{pools:o.availablePools,"question-id":s.id},null,8,["pools","question-id"])]),e("td",ie,[_(M(N),{href:t.route("examiner.quizzes.questions.edit",{quiz:o.quiz.id,question:s.id}),class:"text-blue-600 hover:text-blue-900 mr-3"},{default:h(()=>i[3]||(i[3]=[Q("Edit")])),_:2,__:[3]},1032,["href"]),e("button",{onClick:ne=>g(s),class:"text-red-600 hover:text-red-900"},"Delete",8,ae)])]))),128))])])])])])])]),_(P,{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=s=>u.value=s),featureName:p.value,message:f.value},null,8,["modelValue","featureName","message"])]),_:1},8,["title"]))}};export{pe as default};
