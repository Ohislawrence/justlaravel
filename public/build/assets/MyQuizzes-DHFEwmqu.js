import{i as z,f as M,c as C,o,w as u,a as e,d as r,h as p,e as y,s as b,F as c,l as _,t as n,n as j,k as l,b as f,j as x,S as v,W as B}from"./app-Do1sSIaC.js";import{l as A}from"./lodash-DMgXO6nE.js";import{A as V}from"./AppLayout-DUw_ZWTf.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"py-6"},N={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},S={class:"mb-8"},D={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},E={class:"flex flex-col sm:flex-row gap-3"},F={class:"relative"},L={class:"relative"},R=["value"],U={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},I={class:"px-5 py-6"},O={class:"flex items-start justify-between"},T={class:"min-w-0 flex-1"},W={class:"text-lg font-semibold text-gray-900 truncate"},Y={class:"mt-1 text-sm text-gray-500 truncate"},H={class:"mt-5 space-y-3"},P={class:"flex items-center text-sm text-gray-600"},$={class:"flex items-center text-sm text-gray-600"},G={key:0},J={key:1},K={key:2},X={key:3},Z={key:0,class:"flex items-center text-sm text-gray-600"},q={key:0,class:"text-green-600 font-medium"},ee={key:1,class:"text-red-600 font-medium"},te={class:"mt-6"},se={key:0},oe={key:1},re={key:2},ne={key:3},ae={disabled:"",class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-gray-500 bg-gray-100 cursor-not-allowed"},ie={key:0},le={key:1},de={key:0,class:"bg-white text-center rounded-xl shadow-sm border border-gray-100 px-6 py-16"},fe={__name:"MyQuizzes",props:{quizzes:Array,organizations:Array,filters:Object},setup(h){const m=h,a=z({status:m.filters.status||"all",organization:m.filters.organization||"all"}),w=M(()=>m.quizzes.filter(i=>!(a.value.status!=="all"&&i.status!==a.value.status||a.value.organization!=="all"&&i.organization.id!==parseInt(a.value.organization)))),g=()=>{B.get(route("examinee.quizzes.index"),A.pickBy(a.value),{preserveState:!0,replace:!0})},k=()=>{a.value={status:"all",organization:"all"},g()},d=i=>{if(!i)return"";const s={year:"numeric",month:"short",day:"numeric"};return new Date(i).toLocaleDateString(void 0,s)};return(i,s)=>(o(),C(V,{title:"My Quizzes"},{default:u(()=>[e("div",Q,[e("div",N,[e("div",S,[e("div",D,[s[6]||(s[6]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"My Quizzes"),e("p",{class:"mt-2 text-gray-600"},"All quizzes assigned to you")],-1)),e("div",E,[e("div",F,[y(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>a.value.status=t),onChange:g,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-4 pr-10 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},s[2]||(s[2]=[e("option",{value:"all"},"All Statuses",-1),e("option",{value:"available"},"Available",-1),e("option",{value:"upcoming"},"Upcoming",-1),e("option",{value:"expired"},"Expired",-1),e("option",{value:"completed"},"Completed",-1)]),544),[[b,a.value.status]]),s[3]||(s[3]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500"},[e("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))]),e("div",L,[y(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>a.value.organization=t),onChange:g,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-4 pr-10 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},[s[4]||(s[4]=e("option",{value:"all"},"All Organizations",-1)),(o(!0),r(c,null,_(h.organizations,t=>(o(),r("option",{key:t.id,value:t.id},n(t.name),9,R))),128))],544),[[b,a.value.organization]]),s[5]||(s[5]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500"},[e("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])])]),e("div",U,[(o(!0),r(c,null,_(w.value,t=>(o(),r("div",{key:t.id,class:"bg-white overflow-hidden rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-200"},[e("div",I,[e("div",O,[e("div",T,[e("h3",W,n(t.title),1),e("p",Y,n(t.organization.name),1)]),e("span",{class:j(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ml-3 flex-shrink-0 whitespace-nowrap",{"bg-blue-50 text-blue-700 border border-blue-100":t.status==="available","bg-gray-50 text-gray-700 border border-gray-100":t.status==="upcoming","bg-red-50 text-red-700 border border-red-100":t.status==="expired","bg-green-50 text-green-700 border border-green-100":t.status==="completed"}])},n(t.statusDisplay),3)]),e("div",H,[e("div",P,[s[7]||(s[7]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,[l(n(t.time_limit?`${t.time_limit} min`:"No time limit")+" ",1),t.attempts_remaining!==null?(o(),r(c,{key:0},[l(" â€¢ "+n(t.attempts_remaining)+" "+n(t.attempts_remaining===1?"attempt":"attempts")+" left ",1)],64)):p("",!0)])]),e("div",$,[s[8]||(s[8]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t.starts_at&&t.ends_at?(o(),r("span",G,n(d(t.starts_at))+" - "+n(d(t.ends_at)),1)):t.starts_at?(o(),r("span",J," Starts "+n(d(t.starts_at)),1)):t.ends_at?(o(),r("span",K," Ends "+n(d(t.ends_at)),1)):(o(),r("span",X," Always available "))]),t.best_attempt?(o(),r("div",Z,[s[9]||(s[9]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,[l(" Best score: "+n(t.best_attempt.percentage)+"% ",1),t.best_attempt.is_passed?(o(),r("span",q,"(Passed)")):(o(),r("span",ee,"(Failed)"))])])):p("",!0)]),e("div",te,[t.status==="available"?(o(),r("div",se,[f(x(v),{href:i.route("quiz.show",{quiz:t.id,token:t.share_token}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"},{default:u(()=>s[10]||(s[10]=[l(" Take Quiz ")])),_:2,__:[10]},1032,["href"])])):t.status==="completed"&&t.attempts_remaining>0?(o(),r("div",oe,[f(x(v),{href:i.route("quiz.show",{quiz:t.id,token:t.share_token}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200"},{default:u(()=>s[11]||(s[11]=[l(" Retake Quiz ")])),_:2,__:[11]},1032,["href"])])):t.status==="completed"?(o(),r("div",re,[f(x(v),{href:i.route("examinee.quiz.results",{quiz:t.id,attemptId:t.best_attempt.id}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},{default:u(()=>s[12]||(s[12]=[l(" View Results ")])),_:2,__:[12]},1032,["href"])])):(o(),r("div",ne,[e("button",ae,[t.status==="upcoming"?(o(),r("span",ie,"Not Available Yet")):(o(),r("span",le,"Quiz Expired"))])]))])])]))),128))]),w.value.length===0?(o(),r("div",de,[e("div",{class:"mx-auto max-w-sm"},[s[13]||(s[13]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s[14]||(s[14]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No quizzes found",-1)),s[15]||(s[15]=e("p",{class:"mt-2 text-gray-500"},"You don't have any quizzes matching your current filters.",-1)),e("div",{class:"mt-6"},[e("button",{onClick:k,type:"button",class:"inline-flex items-center px-4 py-2.5 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"}," Reset Filters ")])])])):p("",!0)])])]),_:1}))}};export{fe as default};
