import{d as a,o as r,a as e,i as z,f as x,c as g,w as m,b as l,k as d,t as i,G as v,j as c,S as p,e as Q,q as j,F as w,l as _,n as q}from"./app-BCsY4iWa.js";import{A as C}from"./AppLayout-zf7Q_ny_.js";import{S as h}from"./SummaryCard-CHewEmeg.js";import{L as N}from"./LineChart-BmJUzbMs.js";import{D}from"./DoughnutChart-CVTvU5k8.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */import"./CheckCircleIcon-B0Vq8_yA.js";import"./ClockIcon-D1bGinOU.js";import"./chart-DUfl3Dpl.js";function S(s,o){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function B(s,o){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"})])}function M(s,o){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}const U={class:"flex justify-between items-center"},O={class:"flex space-x-2"},T={class:"py-6"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},H={class:"p-6 bg-white border-b border-gray-200"},$={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},E={class:"border rounded-lg p-4"},F={class:"flex justify-between items-start"},I={class:"text-2xl font-semibold mt-1"},G={class:"text-sm font-normal text-gray-500"},Z={class:"mt-3"},J={class:"w-full bg-gray-200 rounded-full h-2"},K={class:"flex justify-between text-xs text-gray-500 mt-1"},W={class:"border rounded-lg p-4"},X={class:"flex justify-between items-start"},Y={class:"text-2xl font-semibold mt-1"},ee={class:"text-sm font-normal text-gray-500"},te={class:"mt-3"},se={class:"w-full bg-gray-200 rounded-full h-2"},oe={class:"flex justify-between text-xs text-gray-500 mt-1"},ie={class:"border rounded-lg p-4"},ne={class:"flex justify-between items-start"},re={class:"text-2xl font-semibold mt-1"},ae={class:"text-sm font-normal text-gray-500"},le={class:"mt-3"},de={class:"w-full bg-gray-200 rounded-full h-2"},ce={class:"flex justify-between text-xs text-gray-500 mt-1"},ue={class:"mt-4 pt-4 border-t border-gray-200"},me={class:"flex justify-between items-center"},ge={class:"text-lg font-semibold"},pe={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},he={class:"lg:col-span-2 bg-white overflow-hidden shadow-sm sm:rounded-lg"},xe={class:"p-6 bg-white border-b border-gray-200"},ve={class:"flex justify-between items-center mb-4"},fe={class:"chart-container"},be={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},we={class:"p-6 bg-white border-b border-gray-200"},_e={key:0,class:"text-center py-4 text-gray-500"},ye={key:1,class:"space-y-4"},Ae={class:"flex-shrink-0 h-10 w-10 rounded-full bg-green-50 flex items-center justify-center"},ke={class:"text-green-600"},ze={class:"ml-3"},Qe={class:"text-sm font-medium text-gray-900"},je={class:"text-sm text-gray-500"},qe={class:"text-xs text-gray-400 mt-1"},Ce={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Ne={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},De={class:"p-6 bg-white border-b border-gray-200"},Le={class:"chart-container"},Se={class:"lg:col-span-2 bg-white overflow-hidden shadow-sm sm:rounded-lg"},Be={class:"p-6 bg-white border-b border-gray-200"},Me={class:"flex justify-between items-center mb-4"},Ue={key:0,class:"text-center py-4 text-gray-500"},Oe={key:1,class:"overflow-x-auto"},Te={class:"min-w-full divide-y divide-gray-200"},Ve={class:"bg-white divide-y divide-gray-200"},Pe={class:"px-6 py-4 whitespace-nowrap"},Re={class:"flex items-center"},He={class:"text-sm font-medium text-gray-900"},$e={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Fe={class:"px-6 py-4 whitespace-nowrap"},Ie={__name:"Dashboard",props:{stats:{type:Object,required:!0},recentActivity:{type:Array,default:()=>[]},topQuizzes:{type:Array,default:()=>[]},performanceData:{type:Object,required:!0},quizTypes:{type:Object,required:!0},organization:Object,planCurrent:String,AllowedQuestionLimit:Number,UsedQuestion:Number,UsedAttempt:Number,AllowedAttemptLimit:Number,UsedAiQuestion:Number,AllowedAiQuestiontLimit:Number,percentageQuestionUsed:Number,remainingQuestion:Number,percentageAttempt:Number,remainingAttempts:Number,percentageAiused:Number,remainingAiQuestion:Number,accountStats:{type:Object,required:!0,default:()=>({questions_created:0,questions_allowed:1e3,questions_percentage:50,questions_remaining:1e3,questions_created_monthly:0,questions_allowed_monthly:500,questions_monthly_percentage:50,questions_monthly_remaining:500,quizzes_created:0,quizzes_allowed:50,quizzes_percentage:50,quizzes_remaining:50,active_subscriptions:1,subscription_plan:"Basic Plan"})}},setup(s){const o=s,f=z("7");x(()=>o.organization.active_subscription||o.organization.current_subscription);const y=x(()=>({labels:o.performanceData.labels,datasets:[{label:"Average Score",data:o.performanceData.avg_scores,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,tension:.3},{label:"Attempts",data:o.performanceData.attempts,borderColor:"#059669",backgroundColor:"rgba(5, 150, 105, 0.1)",fill:!0,tension:.3}]})),A=x(()=>({labels:Object.keys(o.quizTypes),datasets:[{data:Object.values(o.quizTypes),backgroundColor:["#10B981","#059669","#047857","#166534","#14532d"],hoverOffset:4}]})),b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}},k=u=>new Date(u).toLocaleString();return(u,t)=>(r(),g(C,{title:"Quiz Dashboard"},{header:m(()=>[e("div",U,[t[2]||(t[2]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Quiz Dashboard ",-1)),e("div",O,[l(c(p),{href:u.route("examiner.quizzes.create"),class:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out"},{default:m(()=>t[1]||(t[1]=[d(" Create New Exam ")])),_:1,__:[1]},8,["href"])])])]),default:m(()=>[e("div",T,[e("div",V,[e("div",P,[l(h,{title:"Total Quizzes",value:s.stats.total_quizzes,icon:"document-text",trend:"up","trend-value":s.stats.quizzes_growth},null,8,["value","trend-value"]),l(h,{title:"Active Attempts",value:s.stats.active_attempts,icon:"users",trend:"down","trend-value":s.stats.attempts_change},null,8,["value","trend-value"]),l(h,{title:"Avg. Score",value:`${s.stats.avg_score}%`,icon:"chart-bar",trend:"neutral"},null,8,["value"]),l(h,{title:"Pass Rate",value:`${s.stats.pass_rate}%`,icon:"check-circle",trend:"up","trend-value":s.stats.pass_rate_change},null,8,["value","trend-value"])]),e("div",R,[e("div",H,[t[11]||(t[11]=e("h3",{class:"text-lg font-medium mb-4"},"Account Usage",-1)),e("div",$,[e("div",E,[e("div",F,[e("div",null,[t[3]||(t[3]=e("h4",{class:"text-sm font-medium text-gray-500"},"Questions",-1)),e("p",I,[d(i(s.UsedQuestion)+" ",1),e("span",G,"/ "+i(o.AllowedQuestionLimit),1)])]),t[4]||(t[4]=e("div",{class:"bg-green-100 p-2 rounded-lg"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),e("div",Z,[e("div",J,[e("div",{class:"bg-green-600 h-2 rounded-full",style:v({width:o.percentageQuestionUsed+"%"})},null,4)]),e("div",K,[e("span",null,i(o.percentageQuestionUsed)+"% used",1),e("span",null,i(o.remainingQuestion)+" remaining",1)])])]),e("div",W,[e("div",X,[e("div",null,[t[5]||(t[5]=e("h4",{class:"text-sm font-medium text-gray-500"},"Question Attempts",-1)),e("p",Y,[d(i(s.UsedAttempt)+" ",1),e("span",ee,"/ "+i(s.AllowedAttemptLimit),1)])]),t[6]||(t[6]=e("div",{class:"bg-emerald-100 p-2 rounded-lg"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),e("div",te,[e("div",se,[e("div",{class:"bg-emerald-600 h-2 rounded-full",style:v({width:o.percentageAttempt+"%"})},null,4)]),e("div",oe,[e("span",null,i(o.percentageAttempt)+"% used",1),e("span",null,i(o.remainingAttempts)+" remaining",1)])])]),e("div",ie,[e("div",ne,[e("div",null,[t[7]||(t[7]=e("h4",{class:"text-sm font-medium text-gray-500"},"AI Questions",-1)),e("p",re,[d(i(s.UsedAiQuestion)+" ",1),e("span",ae,"/ "+i(s.AllowedAiQuestiontLimit),1)])]),t[8]||(t[8]=e("div",{class:"bg-teal-100 p-2 rounded-lg"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))]),e("div",le,[e("div",de,[e("div",{class:"bg-teal-600 h-2 rounded-full",style:v({width:o.percentageAiused+"%"})},null,4)]),e("div",ce,[e("span",null,i(o.percentageAiused)+"% used",1),e("span",null,i(o.remainingAiQuestion)+" remaining",1)])])])]),e("div",ue,[e("div",me,[e("div",null,[t[9]||(t[9]=e("h4",{class:"text-sm font-medium text-gray-500"},"Subscription Plan",-1)),e("p",ge,i(s.planCurrent),1)]),l(c(p),{href:u.route("examiner.subscription.plans"),class:"text-sm text-green-600 hover:text-green-800 font-medium"},{default:m(()=>t[10]||(t[10]=[d(" Manage Subscription → ")])),_:1,__:[10]},8,["href"])])])])]),e("div",pe,[e("div",he,[e("div",xe,[e("div",ve,[t[13]||(t[13]=e("h3",{class:"text-lg font-medium"},"Performance Overview",-1)),Q(e("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>f.value=n),class:"block pl-3 pr-8 py-2 text-base border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},t[12]||(t[12]=[e("option",{value:"7"},"Last 7 days",-1),e("option",{value:"30"},"Last 30 days",-1),e("option",{value:"90"},"Last 90 days",-1)]),512),[[j,f.value]])]),e("div",fe,[l(N,{data:y.value,options:b},null,8,["data"])])])]),e("div",be,[e("div",we,[t[14]||(t[14]=e("h3",{class:"text-lg font-medium mb-4"},"Recent Activity",-1)),!s.recentActivity||s.recentActivity.length===0?(r(),a("div",_e," No recent activity. ")):(r(),a("ul",ye,[(r(!0),a(w,null,_(s.recentActivity,n=>(r(),a("li",{key:n.id,class:"flex items-start"},[e("div",Ae,[e("span",ke,[n.type==="quiz_completed"?(r(),g(c(B),{key:0,class:"h-5 w-5"})):n.type==="quiz_created"?(r(),g(c(M),{key:1,class:"h-5 w-5"})):(r(),g(c(S),{key:2,class:"h-5 w-5"}))])]),e("div",ze,[e("p",Qe,i(n.title),1),e("p",je,i(n.description),1),e("p",qe,i(k(n.timestamp)),1)])]))),128))]))])])]),e("div",Ce,[e("div",Ne,[e("div",De,[t[15]||(t[15]=e("h3",{class:"text-lg font-medium mb-4"},"Quiz Types",-1)),e("div",Le,[l(D,{data:A.value,options:b},null,8,["data"])])])]),e("div",Se,[e("div",Be,[e("div",Me,[t[17]||(t[17]=e("h3",{class:"text-lg font-medium"},"Top Quizzes",-1)),l(c(p),{href:u.route("examiner.quizzes.index"),class:"text-sm text-green-600 hover:text-green-800"},{default:m(()=>t[16]||(t[16]=[d(" View All ")])),_:1,__:[16]},8,["href"])]),!s.topQuizzes||s.topQuizzes.length===0?(r(),a("div",Ue," No quizzes found. ")):(r(),a("div",Oe,[e("table",Te,[t[18]||(t[18]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Quiz "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Attempts "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Avg. Score "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Pass Rate ")])],-1)),e("tbody",Ve,[(r(!0),a(w,null,_(s.topQuizzes,n=>(r(),a("tr",{key:n.id},[e("td",Pe,[e("div",Re,[e("div",He,[l(c(p),{href:u.route("examiner.quizzes.show",n.id)},{default:m(()=>[d(i(n.title),1)]),_:2},1032,["href"])])])]),e("td",$e,i(n.attempts_count),1),e("td",Ee,i(n.avg_score)+"% ",1),e("td",Fe,[e("span",{class:q(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",n.pass_rate>=70?"bg-green-100 text-green-800":n.pass_rate>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},i(n.pass_rate)+"% ",3)])]))),128))])])]))])])])])])]),_:1}))}},ot=L(Ie,[["__scopeId","data-v-aefd4d4c"]]);export{ot as default};
