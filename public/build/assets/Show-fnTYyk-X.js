import{c as h,o,w as c,a as e,j as k,u as w,W as r,m as b,v as p,e as n,f as d,F as m,h as g,t as u}from"./app-BYM1Msdw.js";import{A}from"./AppLayout-AFbEt38E.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"font-semibold text-xl text-gray-800 leading-tight"},Q={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"p-6 bg-white border-b border-gray-200"},N={class:"mb-8"},S={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"mb-8"},G={class:"mb-6"},B={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},V=["value"],D={key:0,class:"text-gray-500"},I={class:"space-y-2"},$=["onClick"],F={key:0,class:"text-gray-500"},L={class:"mb-6"},O={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},R=["value"],W={key:0,class:"text-gray-500"},E={class:"space-y-2"},T=["onClick"],H={key:0,class:"text-gray-500"},X={__name:"Show",props:{organization:Object,group:Object,availableUsers:Array,availableQuizzes:Array},setup(i){const a=i,v=()=>{const l=Array.from(document.querySelectorAll('input[name="user_ids[]"]:checked')).map(t=>t.value);r.post(route("examiner.groups.addMembers",{organization:a.organization.slug,group:a.group.id}),{user_ids:l})},x=()=>{const l=Array.from(document.querySelectorAll('input[name="quiz_ids[]"]:checked')).map(t=>t.value);r.post(route("examiner.groups.assignQuizzes",{organization:a.organization.slug,group:a.group.id}),{quiz_ids:l})},y=l=>{r.delete(route("examiner.groups.removeMember",{organization:a.organization.slug,group:a.group.id,user:l}))},z=l=>{r.delete(route("examiner.groups.removeQuiz",{organization:a.organization.slug,group:a.group.id,quiz:l}))};return(l,t)=>(o(),h(A,{title:"Manage Group"},{header:c(()=>[e("h2",M," Manage Group: "+u(i.group.name),1)]),default:c(()=>[e("div",Q,[e("div",C,[e("div",j,[e("div",q,[e("div",N,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium mb-2"},"Group Information",-1)),e("form",{onSubmit:t[2]||(t[2]=k(s=>w(r).put(l.route("examiner.groups.update",{organization:i.organization.slug,group:i.group.id}),i.group),["prevent"]))},[e("div",S,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.group.name=s),type:"text",class:"mt-1 block w-full"},null,512),[[p,i.group.name]])]),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.group.description=s),type:"text",class:"mt-1 block w-full"},null,512),[[p,i.group.description]])])]),t[5]||(t[5]=e("button",{type:"submit",class:"btn btn-primary mt-4"}," Update Group ",-1))],32)]),e("div",U,[e("div",{class:"flex justify-between items-center mb-4"},[t[7]||(t[7]=e("h3",{class:"text-lg font-medium"},"Group Members",-1)),e("button",{onClick:v,class:"btn btn-primary"}," Add Selected Members ")]),e("div",G,[t[8]||(t[8]=e("h4",{class:"font-medium mb-2"},"Available Members",-1)),e("div",B,[(o(!0),n(m,null,g(i.availableUsers,s=>(o(),n("div",{key:s.id,class:"flex items-center"},[e("input",{type:"checkbox",name:"user_ids[]",value:s.id,class:"mr-2"},null,8,V),e("span",null,u(s.name),1)]))),128)),i.availableUsers.length===0?(o(),n("p",D," No available members to add ")):d("",!0)])]),e("div",null,[t[9]||(t[9]=e("h4",{class:"font-medium mb-2"},"Current Members",-1)),e("div",I,[(o(!0),n(m,null,g(i.group.members,s=>(o(),n("div",{key:s.id,class:"flex justify-between items-center p-2 bg-gray-50 rounded"},[e("span",null,u(s.name),1),e("button",{onClick:f=>y(s.id),class:"text-red-600 hover:text-red-800"}," Remove ",8,$)]))),128)),i.group.members.length===0?(o(),n("p",F," No members in this group ")):d("",!0)])])]),e("div",null,[e("div",{class:"flex justify-between items-center mb-4"},[t[10]||(t[10]=e("h3",{class:"text-lg font-medium"},"Assigned Quizzes",-1)),e("button",{onClick:x,class:"btn btn-primary"}," Assign Selected Quizzes ")]),e("div",L,[t[11]||(t[11]=e("h4",{class:"font-medium mb-2"},"Available Quizzes",-1)),e("div",O,[(o(!0),n(m,null,g(i.availableQuizzes,s=>(o(),n("div",{key:s.id,class:"flex items-center"},[e("input",{type:"checkbox",name:"quiz_ids[]",value:s.id,class:"mr-2"},null,8,R),e("span",null,u(s.title),1)]))),128)),i.availableQuizzes.length===0?(o(),n("p",W," No available quizzes to assign ")):d("",!0)])]),e("div",null,[t[12]||(t[12]=e("h4",{class:"font-medium mb-2"},"Assigned Quizzes",-1)),e("div",E,[(o(!0),n(m,null,g(i.group.quizzes,s=>(o(),n("div",{key:s.id,class:"flex justify-between items-center p-2 bg-gray-50 rounded"},[e("span",null,u(s.title),1),e("button",{onClick:f=>z(s.id),class:"text-red-600 hover:text-red-800"}," Remove ",8,T)]))),128)),i.group.quizzes.length===0?(o(),n("p",H," No quizzes assigned to this group ")):d("",!0)])])])])])])])]),_:1}))}};export{X as default};
