import{d as r,o as a,b as l,w as t,e as L,a as s,r as u,v as W,T as z,c as E,f as Y,u as q,g as G,h as y,n as x,x as h,i as w,j as c,k as m,F as A,l as S,t as k}from"./app-CQ_fbwu6.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as P}from"./Checkbox-NJoyyuhb.js";import{_ as H}from"./ConfirmationModal-i57nY5wD.js";import{_ as J}from"./Modal-CeLHKP9U.js";import{_ as K}from"./InputError-O2pp9sqX.js";import{_ as T}from"./InputLabel-DTfhWW93.js";import{_ as B}from"./PrimaryButton-BHryhkep.js";import{_ as O}from"./TextInput-D4EqTBtV.js";const Q={class:"text-sm text-gray-600"},R={__name:"ActionMessage",props:{on:Boolean},setup(o){return(d,n)=>(a(),r("div",null,[l(z,{"leave-active-class":"transition ease-in duration-1000","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:t(()=>[L(s("div",Q,[u(d.$slots,"default")],512),[[W,o.on]])]),_:3})]))}},X={},Z={class:"md:col-span-1 flex justify-between"},ee={class:"px-4 sm:px-0"},se={class:"text-lg font-medium text-gray-900"},te={class:"mt-1 text-sm text-gray-600"},oe={class:"px-4 sm:px-0"};function ne(o,d){return a(),r("div",Z,[s("div",ee,[s("h3",se,[u(o.$slots,"title")]),s("p",te,[u(o.$slots,"description")])]),s("div",oe,[u(o.$slots,"aside")])])}const F=j(X,[["render",ne]]),ie={class:"md:grid md:grid-cols-3 md:gap-6"},le={class:"mt-5 md:mt-0 md:col-span-2"},ae={class:"px-4 py-5 sm:p-6 bg-white shadow sm:rounded-lg"},re={__name:"ActionSection",setup(o){return(d,n)=>(a(),r("div",ie,[l(F,null,{title:t(()=>[u(d.$slots,"title")]),description:t(()=>[u(d.$slots,"description")]),_:3}),s("div",le,[s("div",ae,[u(d.$slots,"content")])])]))}},de=["type"],ue={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(o){return(d,n)=>(a(),r("button",{type:o.type,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"},[u(d.$slots,"default")],8,de))}},me={class:"px-6 py-4"},ce={class:"text-lg font-medium text-gray-900"},pe={class:"mt-4 text-sm text-gray-600"},fe={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 text-end"},D={__name:"DialogModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:d}){const n=d,p=()=>{n("close")};return(f,$)=>(a(),E(J,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:p},{default:t(()=>[s("div",me,[s("div",ce,[u(f.$slots,"title")]),s("div",pe,[u(f.$slots,"content")])]),s("div",fe,[u(f.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},_e={class:"md:grid md:grid-cols-3 md:gap-6"},ve={class:"mt-5 md:mt-0 md:col-span-2"},ge={class:"grid grid-cols-6 gap-6"},ye={key:0,class:"flex items-center justify-end px-4 py-3 bg-gray-50 text-end sm:px-6 shadow sm:rounded-bl-md sm:rounded-br-md"},$e={__name:"FormSection",emits:["submitted"],setup(o){const d=Y(()=>!!q().actions);return(n,p)=>(a(),r("div",_e,[l(F,null,{title:t(()=>[u(n.$slots,"title")]),description:t(()=>[u(n.$slots,"description")]),_:3}),s("div",ve,[s("form",{onSubmit:p[0]||(p[0]=G(f=>n.$emit("submitted"),["prevent"]))},[s("div",{class:x(["px-4 py-5 bg-white sm:p-6 shadow",d.value?"sm:rounded-tl-md sm:rounded-tr-md":"sm:rounded-md"])},[s("div",ge,[u(n.$slots,"form")])],2),d.value?(a(),r("div",ye,[u(n.$slots,"actions")])):y("",!0)],32)])]))}},be=["type"],C={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(o){return(d,n)=>(a(),r("button",{type:o.type,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[u(d.$slots,"default")],8,be))}},ke={},xe={class:"hidden sm:block"};function he(o,d){return a(),r("div",xe,d[0]||(d[0]=[s("div",{class:"py-8"},[s("div",{class:"border-t border-gray-200"})],-1)]))}const we=j(ke,[["render",he]]),Ae={class:"col-span-6 sm:col-span-4"},Se={key:0,class:"col-span-6"},Ce={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},Pe={class:"flex items-center"},Te={class:"ms-2 text-sm text-gray-600"},Be={key:0},De={class:"mt-10 sm:mt-0"},je={class:"space-y-6"},Fe={class:"break-all"},Ie={class:"flex items-center ms-2"},Ve={key:0,class:"text-sm text-gray-400"},Me=["onClick"],Ne=["onClick"],Ue={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500 break-all"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},We={class:"flex items-center"},ze={class:"ms-2 text-sm text-gray-600"},Re={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(o){const n=h({name:"",permissions:o.defaultPermissions}),p=h({permissions:[]}),f=h({}),$=w(!1),v=w(null),g=w(null),I=()=>{n.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{$.value=!0,n.reset()}})},V=_=>{p.permissions=_.abilities,v.value=_},M=()=>{p.put(route("api-tokens.update",v.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>v.value=null})},N=_=>{g.value=_},U=()=>{f.delete(route("api-tokens.destroy",g.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>g.value=null})};return(_,e)=>(a(),r("div",null,[l($e,{onSubmitted:I},{title:t(()=>e[9]||(e[9]=[m(" Create API Token ")])),description:t(()=>e[10]||(e[10]=[m(" API tokens allow third-party services to authenticate with our application on your behalf. ")])),form:t(()=>[s("div",Ae,[l(T,{for:"name",value:"Name"}),l(O,{id:"name",modelValue:c(n).name,"onUpdate:modelValue":e[0]||(e[0]=i=>c(n).name=i),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),l(K,{message:c(n).errors.name,class:"mt-2"},null,8,["message"])]),o.availablePermissions.length>0?(a(),r("div",Se,[l(T,{for:"permissions",value:"Permissions"}),s("div",Ce,[(a(!0),r(A,null,S(o.availablePermissions,i=>(a(),r("div",{key:i},[s("label",Pe,[l(P,{checked:c(n).permissions,"onUpdate:checked":e[1]||(e[1]=b=>c(n).permissions=b),value:i},null,8,["checked","value"]),s("span",Te,k(i),1)])]))),128))])])):y("",!0)]),actions:t(()=>[l(R,{on:c(n).recentlySuccessful,class:"me-3"},{default:t(()=>e[11]||(e[11]=[m(" Created. ")])),_:1,__:[11]},8,["on"]),l(B,{class:x({"opacity-25":c(n).processing}),disabled:c(n).processing},{default:t(()=>e[12]||(e[12]=[m(" Create ")])),_:1,__:[12]},8,["class","disabled"])]),_:1}),o.tokens.length>0?(a(),r("div",Be,[l(we),s("div",De,[l(re,null,{title:t(()=>e[13]||(e[13]=[m(" Manage API Tokens ")])),description:t(()=>e[14]||(e[14]=[m(" You may delete any of your existing tokens if they are no longer needed. ")])),content:t(()=>[s("div",je,[(a(!0),r(A,null,S(o.tokens,i=>(a(),r("div",{key:i.id,class:"flex items-center justify-between"},[s("div",Fe,k(i.name),1),s("div",Ie,[i.last_used_ago?(a(),r("div",Ve," Last used "+k(i.last_used_ago),1)):y("",!0),o.availablePermissions.length>0?(a(),r("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:b=>V(i)}," Permissions ",8,Me)):y("",!0),s("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:b=>N(i)}," Delete ",8,Ne)])]))),128))])]),_:1})])])):y("",!0),l(D,{show:$.value,onClose:e[3]||(e[3]=i=>$.value=!1)},{title:t(()=>e[15]||(e[15]=[m(" API Token ")])),content:t(()=>[e[16]||(e[16]=s("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),_.$page.props.jetstream.flash.token?(a(),r("div",Ue,k(_.$page.props.jetstream.flash.token),1)):y("",!0)]),footer:t(()=>[l(C,{onClick:e[2]||(e[2]=i=>$.value=!1)},{default:t(()=>e[17]||(e[17]=[m(" Close ")])),_:1,__:[17]})]),_:1},8,["show"]),l(D,{show:v.value!=null,onClose:e[6]||(e[6]=i=>v.value=null)},{title:t(()=>e[18]||(e[18]=[m(" API Token Permissions ")])),content:t(()=>[s("div",Le,[(a(!0),r(A,null,S(o.availablePermissions,i=>(a(),r("div",{key:i},[s("label",We,[l(P,{checked:c(p).permissions,"onUpdate:checked":e[4]||(e[4]=b=>c(p).permissions=b),value:i},null,8,["checked","value"]),s("span",ze,k(i),1)])]))),128))])]),footer:t(()=>[l(C,{onClick:e[5]||(e[5]=i=>v.value=null)},{default:t(()=>e[19]||(e[19]=[m(" Cancel ")])),_:1,__:[19]}),l(B,{class:x(["ms-3",{"opacity-25":c(p).processing}]),disabled:c(p).processing,onClick:M},{default:t(()=>e[20]||(e[20]=[m(" Save ")])),_:1,__:[20]},8,["class","disabled"])]),_:1},8,["show"]),l(H,{show:g.value!=null,onClose:e[8]||(e[8]=i=>g.value=null)},{title:t(()=>e[21]||(e[21]=[m(" Delete API Token ")])),content:t(()=>e[22]||(e[22]=[m(" Are you sure you would like to delete this API token? ")])),footer:t(()=>[l(C,{onClick:e[7]||(e[7]=i=>g.value=null)},{default:t(()=>e[23]||(e[23]=[m(" Cancel ")])),_:1,__:[23]}),l(ue,{class:x(["ms-3",{"opacity-25":c(f).processing}]),disabled:c(f).processing,onClick:U},{default:t(()=>e[24]||(e[24]=[m(" Delete ")])),_:1,__:[24]},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Re as default};
