import{x as U,c as $,o as i,w as b,a as e,g as M,d as m,F as x,l as w,t as f,b as s,j as n,e as j,q as B,k as y,n as D,h,W as N}from"./app-Ba3QO07z.js";import{A as G}from"./AppLayout-4TPH_oq1.js";import{_ as v}from"./InputError-Cqul_9-c.js";import{_ as d}from"./InputLabel-Chek1Wyb.js";import{_ as c}from"./TextInput-BN5ucXR0.js";import{_ as L}from"./Textarea-vbLWQgBC.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const E={class:"flex justify-between items-center"},O={class:"font-semibold text-xl text-gray-800 leading-tight"},q=["href"],R={class:"py-12"},J={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-100"},W={class:"p-6 bg-white border-b border-gray-200"},z={class:"grid grid-cols-1 gap-6"},F={class:"bg-gray-50 rounded-lg p-4 border border-gray-200"},H=["value"],T={class:"flex justify-between items-center mb-4"},I={class:"md:col-span-5 flex justify-end"},K=["onClick","disabled"],Q={class:"flex justify-between items-center pt-6 border-t border-gray-200"},X={class:"text-sm text-gray-500"},Y={key:0,class:"text-sm text-gray-500 ml-4"},Z={class:"flex space-x-3"},ee=["disabled"],te={key:0,class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},re={key:1,class:"flex items-center"},oe={key:2},se={__name:"Edit",props:{gradingSystem:Object,defaultSystems:Array},setup(u){const g=u,o=U({name:g.gradingSystem.name,type:g.gradingSystem.type,description:g.gradingSystem.description||"",grade_ranges:JSON.parse(JSON.stringify(g.gradingSystem.grade_ranges))}),k=()=>{o.grade_ranges.push({min:0,max:0,grade:"",points:null,interpretation:""})},_=p=>{o.grade_ranges.length>1&&o.grade_ranges.splice(p,1)},S=p=>{const t=g.defaultSystems.find(r=>r.id==p);t&&(o.name=t.name,o.type=t.type,o.grade_ranges=JSON.parse(JSON.stringify(t.grade_ranges)))},V=()=>{o.put(route("examiner.grading-systems.update",g.gradingSystem.id))},C=()=>{N.visit(route("examiner.grading-systems.index"))};return(p,t)=>(i(),$(G,{title:`Edit Grading System - ${u.gradingSystem.name}`},{header:b(()=>[e("div",E,[e("h2",O," Edit Grading System: "+f(u.gradingSystem.name),1),e("a",{href:p.route("examiner.grading-systems.index"),class:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 transition-colors duration-150"},t[4]||(t[4]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),y(" Back to Grading Systems ")]),8,q)])]),default:b(()=>[e("div",R,[e("div",J,[e("div",P,[e("div",W,[e("form",{onSubmit:M(V,["prevent"])},[e("div",z,[e("div",F,[t[7]||(t[7]=e("div",{class:"font-medium text-gray-900 mb-2"},"Load Default Template",-1)),e("div",null,[e("select",{onChange:t[0]||(t[0]=r=>S(r.target.value)),class:"w-full px-4 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200"},[t[5]||(t[5]=e("option",{value:""},"Select a template to load",-1)),(i(!0),m(x,null,w(u.defaultSystems,r=>(i(),m("option",{key:r.id,value:r.id},f(r.name)+" ("+f(r.type)+") ",9,H))),128))],32),t[6]||(t[6]=e("p",{class:"text-xs text-gray-500 mt-2"}," Warning: Loading a template will replace your current grade ranges. ",-1))])]),e("div",null,[s(d,{for:"name",value:"System Name *"}),s(c,{id:"name",modelValue:n(o).name,"onUpdate:modelValue":t[1]||(t[1]=r=>n(o).name=r),class:"mt-1 block w-full focus:ring-green-500 focus:border-green-500 transition-all duration-200",required:""},null,8,["modelValue"]),s(v,{class:"mt-2",message:n(o).errors.name},null,8,["message"])]),e("div",null,[s(d,{for:"type",value:"System Type *"}),j(e("select",{id:"type","onUpdate:modelValue":t[2]||(t[2]=r=>n(o).type=r),class:"mt-1 block w-full px-4 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200",required:""},t[8]||(t[8]=[e("option",{value:"4-point"},"4-Point Scale",-1),e("option",{value:"5-point"},"5-Point Scale",-1),e("option",{value:"waec"},"WAEC System",-1),e("option",{value:"pass-fail"},"Pass/Fail",-1),e("option",{value:"custom"},"Custom",-1)]),512),[[B,n(o).type]]),s(v,{class:"mt-2",message:n(o).errors.type},null,8,["message"])]),e("div",null,[s(d,{for:"description",value:"Description"}),s(L,{id:"description",modelValue:n(o).description,"onUpdate:modelValue":t[3]||(t[3]=r=>n(o).description=r),class:"mt-1 block w-full focus:ring-green-500 focus:border-green-500 transition-all duration-200",rows:"3"},null,8,["modelValue"]),s(v,{class:"mt-2",message:n(o).errors.description},null,8,["message"])]),e("div",null,[e("div",T,[s(d,{value:"Grade Ranges *"}),e("button",{type:"button",onClick:k,class:"inline-flex items-center text-sm text-green-600 hover:text-green-800 transition-colors duration-150"},t[9]||(t[9]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),y(" Add Range ")]))]),(i(!0),m(x,null,w(n(o).grade_ranges,(r,a)=>(i(),m("div",{key:a,class:"grid grid-cols-1 md:grid-cols-5 gap-3 mb-3 p-4 border border-gray-200 rounded-lg bg-white shadow-sm hover:shadow-md transition-all duration-200"},[e("div",null,[s(d,{for:`min-${a}`,value:"Min %"},null,8,["for"]),s(c,{id:`min-${a}`,modelValue:r.min,"onUpdate:modelValue":l=>r.min=l,modelModifiers:{number:!0},type:"number",min:"0",max:"100",class:"w-full focus:ring-green-500 focus:border-green-500 transition-all duration-200",required:""},null,8,["id","modelValue","onUpdate:modelValue"])]),e("div",null,[s(d,{for:`max-${a}`,value:"Max %"},null,8,["for"]),s(c,{id:`max-${a}`,modelValue:r.max,"onUpdate:modelValue":l=>r.max=l,modelModifiers:{number:!0},type:"number",min:"0",max:"100",class:"w-full focus:ring-green-500 focus:border-green-500 transition-all duration-200",required:""},null,8,["id","modelValue","onUpdate:modelValue"])]),e("div",null,[s(d,{for:`grade-${a}`,value:"Grade"},null,8,["for"]),s(c,{id:`grade-${a}`,modelValue:r.grade,"onUpdate:modelValue":l=>r.grade=l,class:"w-full focus:ring-green-500 focus:border-green-500 transition-all duration-200",required:"",maxlength:"10"},null,8,["id","modelValue","onUpdate:modelValue"])]),e("div",null,[s(d,{for:`points-${a}`,value:"Points"},null,8,["for"]),s(c,{id:`points-${a}`,modelValue:r.points,"onUpdate:modelValue":l=>r.points=l,modelModifiers:{number:!0},type:"number",step:"0.1",min:"0",class:"w-full focus:ring-green-500 focus:border-green-500 transition-all duration-200",placeholder:"Optional"},null,8,["id","modelValue","onUpdate:modelValue"])]),e("div",null,[s(d,{for:`interpretation-${a}`,value:"Interpretation"},null,8,["for"]),s(c,{id:`interpretation-${a}`,modelValue:r.interpretation,"onUpdate:modelValue":l=>r.interpretation=l,class:"w-full focus:ring-green-500 focus:border-green-500 transition-all duration-200",placeholder:"Optional",maxlength:"255"},null,8,["id","modelValue","onUpdate:modelValue"])]),e("div",I,[e("button",{type:"button",onClick:l=>_(a),disabled:n(o).grade_ranges.length<=1,class:D([{"opacity-50 cursor-not-allowed":n(o).grade_ranges.length<=1},"inline-flex items-center text-sm text-red-600 hover:text-red-800 transition-colors duration-150"])},t[10]||(t[10]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),y(" Remove ")]),10,K)])]))),128)),s(v,{class:"mt-2",message:n(o).errors.grade_ranges},null,8,["message"]),t[11]||(t[11]=e("p",{class:"text-xs text-gray-500 mt-2"}," Ensure grade ranges cover 0-100% without gaps or overlaps. ",-1))]),e("div",Q,[e("div",null,[e("span",X," Created: "+f(new Date(u.gradingSystem.created_at).toLocaleDateString()),1),u.gradingSystem.updated_at!==u.gradingSystem.created_at?(i(),m("span",Y," Updated: "+f(new Date(u.gradingSystem.updated_at).toLocaleDateString()),1)):h("",!0)]),e("div",Z,[e("button",{type:"button",onClick:C,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200"}," Cancel "),e("button",{type:"submit",disabled:n(o).processing,class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:ring focus:ring-green-300 disabled:opacity-25 transition-colors duration-200"},[n(o).processing?h("",!0):(i(),m("svg",te,t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))),n(o).processing?(i(),m("span",re,t[13]||(t[13]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),y(" Updating... ")]))):(i(),m("span",oe,"Update Grading System"))],8,ee)])])])],32)])])])])]),_:1},8,["title"]))}},ce=A(se,[["__scopeId","data-v-b4b7aca4"]]);export{ce as default};
