import{x as v,i as k,m as w,c as C,o as i,w as c,a as e,g as V,e as b,d as a,h as m,j as o,A as B,t as u,F as I,l as N,Q as g,b as p,k as U}from"./app-BL-VfoCG.js";import{A as E}from"./AppLayout-CMm9B8wa.js";import{Q as A}from"./vue-quill.snow-P6oZrG7j.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"py-12"},L={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 bg-white border-b border-gray-200"},j={class:"mb-4"},M={key:0,class:"text-red-500 text-xs italic"},Q={class:"mb-4"},S={class:"flex flex-wrap gap-2"},D=["value"],O={class:"ml-2 text-gray-700"},R={class:"mb-4"},$={key:0,class:"text-red-500 text-xs italic"},q={class:"mb-4"},z=["src"],G={key:1,class:"text-gray-500 text-sm mb-2"},H={class:"flex items-center space-x-4"},J={key:0,class:"ml-2 text-sm text-gray-600"},K={key:0,class:"mt-6"},W={class:"inline-flex items-center"},X={key:2,class:"text-red-500 text-xs italic"},Y={class:"mb-4"},Z={class:"inline-flex items-center"},ee={class:"flex items-center justify-between"},te=["disabled"],ne={__name:"Edit",props:{blog:Object,categories:Array},setup(n){const r=n,s=v({title:r.blog.title,content:r.blog.content,featured_image:null,remove_image:!1,is_published:r.blog.is_published,category_ids:r.blog.categories.map(d=>d.id)}),x=k(null),f=d=>{s.featured_image=d.target.files[0]},_=()=>{s.put(route("landlord.blogs.update",r.blog.id),{onSuccess:()=>s.reset()})};return(d,t)=>{const h=w("Link");return i(),C(E,{title:"Edit Blog Post"},{header:c(()=>t[6]||(t[6]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Edit Blog Post ",-1)])),default:c(()=>[e("div",F,[e("div",L,[e("div",P,[e("div",T,[e("form",{onSubmit:V(_,["prevent"])},[e("div",j,[t[7]||(t[7]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"title"}," Title ",-1)),b(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=l=>o(s).title=l),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Blog post title"},null,512),[[B,o(s).title]]),o(s).errors.title?(i(),a("p",M,u(o(s).errors.title),1)):m("",!0)]),e("div",Q,[t[8]||(t[8]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2"},"Categories",-1)),e("div",S,[(i(!0),a(I,null,N(n.categories,l=>(i(),a("label",{key:l.id,class:"inline-flex items-center"},[b(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=y=>o(s).category_ids=y),value:l.id,class:"form-checkbox h-5 w-5 text-blue-600"},null,8,D),[[g,o(s).category_ids]]),e("span",O,u(l.name),1)]))),128))])]),e("div",R,[t[9]||(t[9]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Content ",-1)),p(o(A),{content:o(s).content,"onUpdate:content":t[2]||(t[2]=l=>o(s).content=l),contentType:"html",theme:"snow",toolbar:"full",class:"h-64 mb-2"},null,8,["content"]),o(s).errors.content?(i(),a("p",$,u(o(s).errors.content),1)):m("",!0)]),e("div",q,[t[12]||(t[12]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Current Featured Image ",-1)),n.blog.featured_image&&!o(s).remove_image?(i(),a("img",{key:0,src:"/storage/"+n.blog.featured_image,class:"h-32 w-auto mb-2"},null,8,z)):(i(),a("div",G," No featured image ")),e("div",H,[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"featured_image"}," Change Image ",-1)),e("input",{id:"featured_image",ref_key:"fileInput",ref:x,type:"file",class:"hidden",onChange:f},null,544),e("button",{type:"button",class:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded",onClick:t[3]||(t[3]=l=>x.value.click())}," Choose New Image "),o(s).featured_image?(i(),a("span",J,u(o(s).featured_image.name),1)):m("",!0)]),n.blog.featured_image?(i(),a("div",K,[e("label",W,[b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).remove_image=l),type:"checkbox",class:"form-checkbox h-5 w-5 text-red-600"},null,512),[[g,o(s).remove_image]]),t[11]||(t[11]=e("span",{class:"ml-2 text-gray-700"},"Remove Image",-1))])])):m("",!0)]),o(s).errors.featured_image?(i(),a("p",X,u(o(s).errors.featured_image),1)):m("",!0)]),e("div",Y,[e("label",Z,[b(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>o(s).is_published=l),type:"checkbox",class:"form-checkbox h-5 w-5 text-blue-600"},null,512),[[g,o(s).is_published]]),t[13]||(t[13]=e("span",{class:"ml-2 text-gray-700"},"Publish this post",-1))])]),e("div",ee,[e("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:o(s).processing}," Update Post ",8,te),p(h,{href:d.route("landlord.blogs.index"),class:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800"},{default:c(()=>t[14]||(t[14]=[U(" Cancel ")])),_:1,__:[14]},8,["href"])])],32)])])])])]),_:1})}}};export{ne as default};
