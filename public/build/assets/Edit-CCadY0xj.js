import{x as S,f as T,m as A,c as E,o as d,w as g,a,g as C,b as l,j as s,d as u,h as v,F as b,l as k,t as m,k as h,n as D}from"./app-8v8ETHV2.js";import{A as $}from"./AppLayout-D2xumcyF.js";import{_ as n}from"./InputError-DJKMjxmt.js";import{_ as r}from"./InputLabel-B3f12Yrg.js";import{_ as f}from"./TextInput-jezyaXEV.js";import{_ as P}from"./Textarea-BXxZPQ4k.js";import{_ as p}from"./Checkbox-Baj7jAdL.js";import{_ as x}from"./SelectInput-BrnrxAXE.js";import{_ as w}from"./DateTimePicker-DVnxFVdB.js";import{R as q}from"./RichtextEditorNormal-Bk_SOHCD.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */import"./format-3b8xIHeq.js";const j={class:"flex justify-between items-center"},B={class:"font-semibold text-xl text-gray-800 leading-tight"},I={class:"py-12"},L={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},N={class:"bg-white shadow-sm sm:rounded-lg"},R={class:"p-6 bg-white border-b border-gray-200"},M={class:"grid grid-cols-1 gap-6"},G={class:"space-y-6"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},O=["value","selected"],Y=["value","selected"],H={key:0},J={class:"space-y-6"},K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},W={class:"flex items-center"},X={class:"flex items-center"},Z={class:"flex items-center"},ee={class:"flex items-center"},se={class:"flex items-center"},te={class:"flex items-center"},ie={class:"flex items-center"},le={class:"space-y-6"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},oe={class:"space-y-6"},re={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},de={class:"relative"},ne={class:"relative"},ue={class:"space-y-6"},me=["value","selected"],ce={key:0,class:"mt-3 p-3 bg-green-50 rounded"},_e={class:"font-medium"},pe={class:"mt-2"},ge={key:0},fe={key:1},ye={key:0,class:"text-sm text-gray-500"},ve={class:"space-y-6"},be={class:"card mt-4"},ke={class:"card-body"},xe={class:"form-check form-switch mb-3"},ze={key:0,class:"mt-3"},he={class:"mb-3"},we=["value","selected"],qe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={class:"flex items-center justify-end mt-6"},Ue=["disabled"],Se={__name:"Edit",props:{quiz:Object,quizTypes:Object,industries:Object,certificateTemplates:{type:Array,default:()=>[]},gradingSystems:{type:Array,default:()=>[]}},setup(_){const o=_,e=S({title:o.quiz.title,description:o.quiz.description||"",instructions:o.quiz.instructions,grading_system_id:o.quiz.grading_system_id||null,quiz_type:o.quiz.quiz_type,industry:o.quiz.industry||"",is_published:o.quiz.is_published,is_public:o.quiz.is_public,randomize_questions:o.quiz.randomize_questions,randomize_answers:o.quiz.randomize_answers,show_correct_answers:o.quiz.show_correct_answers,show_leaderboard:o.quiz.show_leaderboard,enable_discussions:o.quiz.enable_discussions,max_attempts:o.quiz.max_attempts,max_participants:o.quiz.max_participants,time_limit:o.quiz.time_limit,passing_score:o.quiz.passing_score,starts_at:o.quiz.starts_at||null,ends_at:o.quiz.ends_at||null,settings:o.quiz.settings,survey_thank_you_message:o.quiz.survey_thank_you_message,enable_certificates:o.quiz.enable_certificates||!1,certificate_template_id:o.quiz.certificate_template_id||null,certificate_pass_percentage:o.quiz.certificate_pass_percentage,certificate_expiry_days:o.quiz.certificate_expiry_days}),V=()=>{e.put(route("examiner.quizzes.update",o.quiz.id))},y=T(()=>e.grading_system_id?o.gradingSystems.find(z=>z.id==e.grading_system_id):null);return(z,i)=>{const U=A("Link");return d(),E($,{title:`Edit ${_.quiz.title}`},{header:g(()=>[a("div",j,[a("h2",B," Edit Quiz: "+m(_.quiz.title),1),l(U,{href:z.route("examiner.quizzes.show",_.quiz.id),class:"text-sm text-gray-600 hover:text-gray-900"},{default:g(()=>i[24]||(i[24]=[h(" Back to Quiz ")])),_:1,__:[24]},8,["href"])])]),default:g(()=>[a("div",I,[a("div",L,[a("div",N,[a("div",R,[a("form",{onSubmit:C(V,["prevent"])},[a("div",M,[a("div",G,[i[26]||(i[26]=a("h3",{class:"text-lg font-medium"},"Basic Information",-1)),a("div",null,[l(r,{for:"title",value:"Quiz Title *"}),l(f,{id:"title",modelValue:s(e).title,"onUpdate:modelValue":i[0]||(i[0]=t=>s(e).title=t),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.title},null,8,["message"])]),a("div",null,[l(r,{for:"description",value:"Description"}),l(q,{id:"description",modelValue:s(e).description,"onUpdate:modelValue":i[1]||(i[1]=t=>s(e).description=t),error:s(e).errors.description,content:s(e).description,class:"mt-1 block w-full"},null,8,["modelValue","error","content"]),l(n,{class:"mt-2",message:s(e).errors.description},null,8,["message"])]),a("div",null,[l(r,{for:"instructions",value:"Instructions"}),l(q,{id:"instructions",modelValue:s(e).instructions,"onUpdate:modelValue":i[2]||(i[2]=t=>s(e).instructions=t),content:s(e).instructions,error:s(e).errors.instructions,class:"mt-1 block w-full"},null,8,["modelValue","content","error"]),l(n,{class:"mt-2",message:s(e).errors.instructions},null,8,["message"])]),a("div",F,[a("div",null,[l(r,{for:"quiz_type",value:"Quiz Type *"}),l(x,{id:"quiz_type",modelValue:s(e).quiz_type,"onUpdate:modelValue":i[3]||(i[3]=t=>s(e).quiz_type=t),class:"mt-1 block w-full",required:""},{default:g(()=>[(d(!0),u(b,null,k(_.quizTypes,(t,c)=>(d(),u("option",{key:c,value:c,selected:s(e).quiz_type===c},m(t),9,O))),128))]),_:1},8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.quiz_type},null,8,["message"])]),a("div",null,[l(r,{for:"industry",value:"Industry"}),l(x,{id:"industry",modelValue:s(e).industry,"onUpdate:modelValue":i[4]||(i[4]=t=>s(e).industry=t),class:"mt-1 block w-full"},{default:g(()=>[i[25]||(i[25]=a("option",{value:null},"Select Industry",-1)),(d(!0),u(b,null,k(_.industries,(t,c)=>(d(),u("option",{key:c,value:c,selected:s(e).industry===c},m(t),9,Y))),128))]),_:1,__:[25]},8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.industry},null,8,["message"])]),s(e).quiz_type==="survey"?(d(),u("div",H,[l(r,{for:"survey_thank_you_message",value:"Survey Thank You Message"}),l(P,{id:"survey_thank_you_message",modelValue:s(e).survey_thank_you_message,"onUpdate:modelValue":i[5]||(i[5]=t=>s(e).survey_thank_you_message=t),class:"mt-1 block w-full",rows:"3",placeholder:"Thank you for completing our survey!"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.survey_thank_you_message},null,8,["message"])])):v("",!0)])]),a("div",J,[i[27]||(i[27]=a("h3",{class:"text-lg font-medium"},"Quiz Settings",-1)),a("div",K,[a("div",W,[l(p,{id:"is_published",checked:s(e).is_published,"onUpdate:checked":i[6]||(i[6]=t=>s(e).is_published=t)},null,8,["checked"]),l(r,{for:"is_published",value:"Publish Immediately",class:"ml-2"})]),a("div",X,[l(p,{id:"is_public",checked:s(e).is_public,"onUpdate:checked":i[7]||(i[7]=t=>s(e).is_public=t)},null,8,["checked"]),l(r,{for:"is_public",value:"Make Public",class:"ml-2"})]),a("div",Z,[l(p,{id:"randomize_questions",checked:s(e).randomize_questions,"onUpdate:checked":i[8]||(i[8]=t=>s(e).randomize_questions=t)},null,8,["checked"]),l(r,{for:"randomize_questions",value:"Randomize Questions",class:"ml-2"})]),a("div",ee,[l(p,{id:"randomize_answers",checked:s(e).randomize_answers,"onUpdate:checked":i[9]||(i[9]=t=>s(e).randomize_answers=t)},null,8,["checked"]),l(r,{for:"randomize_answers",value:"Randomize Answers",class:"ml-2"})]),a("div",se,[l(p,{id:"show_correct_answers",checked:s(e).show_correct_answers,"onUpdate:checked":i[10]||(i[10]=t=>s(e).show_correct_answers=t)},null,8,["checked"]),l(r,{for:"show_correct_answers",value:"Show Correct Answers",class:"ml-2"})]),a("div",te,[l(p,{id:"show_leaderboard",checked:s(e).show_leaderboard,"onUpdate:checked":i[11]||(i[11]=t=>s(e).show_leaderboard=t)},null,8,["checked"]),l(r,{for:"show_leaderboard",value:"Show Leaderboard",class:"ml-2"})]),a("div",ie,[l(p,{id:"enable_discussions",checked:s(e).enable_discussions,"onUpdate:checked":i[12]||(i[12]=t=>s(e).enable_discussions=t)},null,8,["checked"]),l(r,{for:"enable_discussions",value:"Enable Discussions",class:"ml-2"})])])]),a("div",le,[i[28]||(i[28]=a("h3",{class:"text-lg font-medium"},"Access Restrictions",-1)),a("div",ae,[a("div",null,[l(r,{for:"max_attempts",value:"Max Attempts (0 for unlimited)"}),l(f,{id:"max_attempts",modelValue:s(e).max_attempts,"onUpdate:modelValue":i[13]||(i[13]=t=>s(e).max_attempts=t),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.max_attempts},null,8,["message"])]),a("div",null,[l(r,{for:"max_participants",value:"Max Participants (0 for unlimited)"}),l(f,{id:"max_participants",modelValue:s(e).max_participants,"onUpdate:modelValue":i[14]||(i[14]=t=>s(e).max_participants=t),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.max_participants},null,8,["message"])]),a("div",null,[l(r,{for:"time_limit",value:"Time Limit (minutes)"}),l(f,{id:"time_limit",modelValue:s(e).time_limit,"onUpdate:modelValue":i[15]||(i[15]=t=>s(e).time_limit=t),type:"number",min:"1",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.time_limit},null,8,["message"])]),a("div",null,[l(r,{for:"passing_score",value:"Passing Score (%)"}),l(f,{id:"passing_score",modelValue:s(e).passing_score,"onUpdate:modelValue":i[16]||(i[16]=t=>s(e).passing_score=t),type:"number",min:"0",max:"100",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.passing_score},null,8,["message"])])])]),a("div",oe,[i[29]||(i[29]=a("h3",{class:"text-lg font-medium"},"Schedule",-1)),a("div",re,[a("div",de,[l(r,{for:"starts_at",value:"Start Date & Time"}),l(w,{id:"starts_at",modelValue:s(e).starts_at,"onUpdate:modelValue":i[17]||(i[17]=t=>s(e).starts_at=t),timezone:"UTC",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.starts_at},null,8,["message"])]),a("div",ne,[l(r,{for:"ends_at",value:"End Date & Time"}),l(w,{id:"ends_at",modelValue:s(e).ends_at,"onUpdate:modelValue":i[18]||(i[18]=t=>s(e).ends_at=t),timezone:"UTC",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.ends_at},null,8,["message"])])])]),a("div",ue,[i[31]||(i[31]=a("h3",{class:"text-lg font-medium"},"Grading System",-1)),a("div",null,[l(r,{for:"grading_system_id",value:"Select Grading System"}),l(x,{id:"grading_system_id",modelValue:s(e).grading_system_id,"onUpdate:modelValue":i[19]||(i[19]=t=>s(e).grading_system_id=t),class:"mt-1 block w-full"},{default:g(()=>[i[30]||(i[30]=a("option",{value:null},"Default (Pass/Fail)",-1)),(d(!0),u(b,null,k(_.gradingSystems,t=>(d(),u("option",{key:t.id,value:t.id,selected:s(e).grading_system_id==t.id},m(t.name)+" ("+m(t.type)+") ",9,me))),128))]),_:1,__:[30]},8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.grading_system_id},null,8,["message"]),y.value?(d(),u("div",ce,[a("h4",_e,m(y.value.name)+" Grade Ranges:",1),a("div",pe,[(d(!0),u(b,null,k(Array.isArray(y.value.grade_ranges)?y.value.grade_ranges:[],(t,c)=>(d(),u("div",{key:c,class:"text-sm"},[h(m(t.min)+"% - "+m(t.max)+"%: "+m(t.grade)+" ",1),t.points?(d(),u("span",ge,"("+m(t.points)+" points)",1)):v("",!0),t.interpretation?(d(),u("span",fe,"- "+m(t.interpretation),1)):v("",!0)]))),128)),!Array.isArray(y.value.grade_ranges)||y.value.grade_ranges.length===0?(d(),u("div",ye," No grade ranges defined for this system. ")):v("",!0)])])):v("",!0)])]),a("div",ve,[i[33]||(i[33]=a("h3",{class:"text-lg font-medium"},"Certificate Settings",-1)),a("div",be,[a("div",ke,[a("div",xe,[l(p,{id:"enable_certificates",checked:s(e).enable_certificates,"onUpdate:checked":i[20]||(i[20]=t=>s(e).enable_certificates=t)},null,8,["checked"]),l(r,{for:"enable_certificates",value:"Enable certificates for this quiz",class:"ml-2"}),l(n,{class:"mt-2",message:s(e).errors.enable_certificates},null,8,["message"])]),s(e).enable_certificates?(d(),u("div",ze,[a("div",he,[l(r,{for:"certificate_template_id",value:"Certificate Template"}),l(x,{id:"certificate_template_id",modelValue:s(e).certificate_template_id,"onUpdate:modelValue":i[21]||(i[21]=t=>s(e).certificate_template_id=t),class:"mt-1 block w-full"},{default:g(()=>[i[32]||(i[32]=a("option",{value:null},"Use Default Template",-1)),(d(!0),u(b,null,k(_.certificateTemplates,t=>(d(),u("option",{key:t.id,value:t.id,selected:s(e).certificate_template_id===t.id},m(t.name),9,we))),128))]),_:1,__:[32]},8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.certificate_template_id},null,8,["message"])]),a("div",qe,[a("div",null,[l(r,{for:"certificate_pass_percentage",value:"Passing Percentage"}),l(f,{id:"certificate_pass_percentage",modelValue:s(e).certificate_pass_percentage,"onUpdate:modelValue":i[22]||(i[22]=t=>s(e).certificate_pass_percentage=t),type:"number",min:"0",max:"100",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.certificate_pass_percentage},null,8,["message"])]),a("div",null,[l(r,{for:"certificate_expiry_days",value:"Expiry Days (leave blank for no expiry)"}),l(f,{id:"certificate_expiry_days",modelValue:s(e).certificate_expiry_days,"onUpdate:modelValue":i[23]||(i[23]=t=>s(e).certificate_expiry_days=t),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.certificate_expiry_days},null,8,["message"])])])])):v("",!0)])])]),a("div",Ve,[a("button",{type:"submit",class:D(["inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150",{"opacity-25":s(e).processing}]),disabled:s(e).processing}," Update Quiz ",10,Ue)])])],32)])])])])]),_:1},8,["title"])}}},Re=Q(Se,[["__scopeId","data-v-2bef8bac"]]);export{Re as default};
