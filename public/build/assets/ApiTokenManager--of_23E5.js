import{d as r,o as a,b as i,w as t,e as L,a as s,r as m,v as W,T as z,c as E,f as Y,u as q,g as G,h as y,n as x,x as h,i as w,j as c,k as u,F as A,l as S,t as b}from"./app-Do1sSIaC.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as P}from"./Checkbox-DtNwaiTW.js";import{_ as H,a as J}from"./DangerButton-D4VEbzGB.js";import{_ as K}from"./Modal-ggGwXBJY.js";import{_ as O}from"./InputError-BalbFUZ-.js";import{_ as T}from"./InputLabel-CoAPtlZS.js";import{_ as B}from"./PrimaryButton-Ch7jOFNf.js";import{_ as Q}from"./TextInput-CbC0PeBd.js";const R={class:"text-sm text-gray-600"},X={__name:"ActionMessage",props:{on:Boolean},setup(o){return(d,l)=>(a(),r("div",null,[i(z,{"leave-active-class":"transition ease-in duration-1000","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:t(()=>[L(s("div",R,[m(d.$slots,"default")],512),[[W,o.on]])]),_:3})]))}},Z={},ee={class:"md:col-span-1 flex justify-between"},se={class:"px-4 sm:px-0"},te={class:"text-lg font-medium text-gray-900"},oe={class:"mt-1 text-sm text-gray-600"},ne={class:"px-4 sm:px-0"};function ie(o,d){return a(),r("div",ee,[s("div",se,[s("h3",te,[m(o.$slots,"title")]),s("p",oe,[m(o.$slots,"description")])]),s("div",ne,[m(o.$slots,"aside")])])}const I=F(Z,[["render",ie]]),le={class:"md:grid md:grid-cols-3 md:gap-6"},ae={class:"mt-5 md:mt-0 md:col-span-2"},re={class:"px-4 py-5 sm:p-6 bg-white shadow sm:rounded-lg"},de={__name:"ActionSection",setup(o){return(d,l)=>(a(),r("div",le,[i(I,null,{title:t(()=>[m(d.$slots,"title")]),description:t(()=>[m(d.$slots,"description")]),_:3}),s("div",ae,[s("div",re,[m(d.$slots,"content")])])]))}},ue={class:"px-6 py-4"},me={class:"text-lg font-medium text-gray-900"},ce={class:"mt-4 text-sm text-gray-600"},pe={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 text-end"},D={__name:"DialogModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:d}){const l=d,p=()=>{l("close")};return(f,$)=>(a(),E(K,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:p},{default:t(()=>[s("div",ue,[s("div",me,[m(f.$slots,"title")]),s("div",ce,[m(f.$slots,"content")])]),s("div",pe,[m(f.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},fe={class:"md:grid md:grid-cols-3 md:gap-6"},_e={class:"mt-5 md:mt-0 md:col-span-2"},ve={class:"grid grid-cols-6 gap-6"},ge={key:0,class:"flex items-center justify-end px-4 py-3 bg-gray-50 text-end sm:px-6 shadow sm:rounded-bl-md sm:rounded-br-md"},ye={__name:"FormSection",emits:["submitted"],setup(o){const d=Y(()=>!!q().actions);return(l,p)=>(a(),r("div",fe,[i(I,null,{title:t(()=>[m(l.$slots,"title")]),description:t(()=>[m(l.$slots,"description")]),_:3}),s("div",_e,[s("form",{onSubmit:p[0]||(p[0]=G(f=>l.$emit("submitted"),["prevent"]))},[s("div",{class:x(["px-4 py-5 bg-white sm:p-6 shadow",d.value?"sm:rounded-tl-md sm:rounded-tr-md":"sm:rounded-md"])},[s("div",ve,[m(l.$slots,"form")])],2),d.value?(a(),r("div",ge,[m(l.$slots,"actions")])):y("",!0)],32)])]))}},$e=["type"],C={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(o){return(d,l)=>(a(),r("button",{type:o.type,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[m(d.$slots,"default")],8,$e))}},ke={},be={class:"hidden sm:block"};function xe(o,d){return a(),r("div",be,d[0]||(d[0]=[s("div",{class:"py-8"},[s("div",{class:"border-t border-gray-200"})],-1)]))}const he=F(ke,[["render",xe]]),we={class:"col-span-6 sm:col-span-4"},Ae={key:0,class:"col-span-6"},Se={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={class:"flex items-center"},Pe={class:"ms-2 text-sm text-gray-600"},Te={key:0},Be={class:"mt-10 sm:mt-0"},De={class:"space-y-6"},Fe={class:"break-all"},Ie={class:"flex items-center ms-2"},je={key:0,class:"text-sm text-gray-400"},Ve=["onClick"],Me=["onClick"],Ne={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500 break-all"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Le={class:"flex items-center"},We={class:"ms-2 text-sm text-gray-600"},Qe={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(o){const l=h({name:"",permissions:o.defaultPermissions}),p=h({permissions:[]}),f=h({}),$=w(!1),v=w(null),g=w(null),j=()=>{l.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{$.value=!0,l.reset()}})},V=_=>{p.permissions=_.abilities,v.value=_},M=()=>{p.put(route("api-tokens.update",v.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>v.value=null})},N=_=>{g.value=_},U=()=>{f.delete(route("api-tokens.destroy",g.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>g.value=null})};return(_,e)=>(a(),r("div",null,[i(ye,{onSubmitted:j},{title:t(()=>e[9]||(e[9]=[u(" Create API Token ")])),description:t(()=>e[10]||(e[10]=[u(" API tokens allow third-party services to authenticate with our application on your behalf. ")])),form:t(()=>[s("div",we,[i(T,{for:"name",value:"Name"}),i(Q,{id:"name",modelValue:c(l).name,"onUpdate:modelValue":e[0]||(e[0]=n=>c(l).name=n),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),i(O,{message:c(l).errors.name,class:"mt-2"},null,8,["message"])]),o.availablePermissions.length>0?(a(),r("div",Ae,[i(T,{for:"permissions",value:"Permissions"}),s("div",Se,[(a(!0),r(A,null,S(o.availablePermissions,n=>(a(),r("div",{key:n},[s("label",Ce,[i(P,{checked:c(l).permissions,"onUpdate:checked":e[1]||(e[1]=k=>c(l).permissions=k),value:n},null,8,["checked","value"]),s("span",Pe,b(n),1)])]))),128))])])):y("",!0)]),actions:t(()=>[i(X,{on:c(l).recentlySuccessful,class:"me-3"},{default:t(()=>e[11]||(e[11]=[u(" Created. ")])),_:1,__:[11]},8,["on"]),i(B,{class:x({"opacity-25":c(l).processing}),disabled:c(l).processing},{default:t(()=>e[12]||(e[12]=[u(" Create ")])),_:1,__:[12]},8,["class","disabled"])]),_:1}),o.tokens.length>0?(a(),r("div",Te,[i(he),s("div",Be,[i(de,null,{title:t(()=>e[13]||(e[13]=[u(" Manage API Tokens ")])),description:t(()=>e[14]||(e[14]=[u(" You may delete any of your existing tokens if they are no longer needed. ")])),content:t(()=>[s("div",De,[(a(!0),r(A,null,S(o.tokens,n=>(a(),r("div",{key:n.id,class:"flex items-center justify-between"},[s("div",Fe,b(n.name),1),s("div",Ie,[n.last_used_ago?(a(),r("div",je," Last used "+b(n.last_used_ago),1)):y("",!0),o.availablePermissions.length>0?(a(),r("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:k=>V(n)}," Permissions ",8,Ve)):y("",!0),s("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:k=>N(n)}," Delete ",8,Me)])]))),128))])]),_:1})])])):y("",!0),i(D,{show:$.value,onClose:e[3]||(e[3]=n=>$.value=!1)},{title:t(()=>e[15]||(e[15]=[u(" API Token ")])),content:t(()=>[e[16]||(e[16]=s("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),_.$page.props.jetstream.flash.token?(a(),r("div",Ne,b(_.$page.props.jetstream.flash.token),1)):y("",!0)]),footer:t(()=>[i(C,{onClick:e[2]||(e[2]=n=>$.value=!1)},{default:t(()=>e[17]||(e[17]=[u(" Close ")])),_:1,__:[17]})]),_:1},8,["show"]),i(D,{show:v.value!=null,onClose:e[6]||(e[6]=n=>v.value=null)},{title:t(()=>e[18]||(e[18]=[u(" API Token Permissions ")])),content:t(()=>[s("div",Ue,[(a(!0),r(A,null,S(o.availablePermissions,n=>(a(),r("div",{key:n},[s("label",Le,[i(P,{checked:c(p).permissions,"onUpdate:checked":e[4]||(e[4]=k=>c(p).permissions=k),value:n},null,8,["checked","value"]),s("span",We,b(n),1)])]))),128))])]),footer:t(()=>[i(C,{onClick:e[5]||(e[5]=n=>v.value=null)},{default:t(()=>e[19]||(e[19]=[u(" Cancel ")])),_:1,__:[19]}),i(B,{class:x(["ms-3",{"opacity-25":c(p).processing}]),disabled:c(p).processing,onClick:M},{default:t(()=>e[20]||(e[20]=[u(" Save ")])),_:1,__:[20]},8,["class","disabled"])]),_:1},8,["show"]),i(J,{show:g.value!=null,onClose:e[8]||(e[8]=n=>g.value=null)},{title:t(()=>e[21]||(e[21]=[u(" Delete API Token ")])),content:t(()=>e[22]||(e[22]=[u(" Are you sure you would like to delete this API token? ")])),footer:t(()=>[i(C,{onClick:e[7]||(e[7]=n=>g.value=null)},{default:t(()=>e[23]||(e[23]=[u(" Cancel ")])),_:1,__:[23]}),i(H,{class:x(["ms-3",{"opacity-25":c(f).processing}]),disabled:c(f).processing,onClick:U},{default:t(()=>e[24]||(e[24]=[u(" Delete ")])),_:1,__:[24]},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Qe as default};
