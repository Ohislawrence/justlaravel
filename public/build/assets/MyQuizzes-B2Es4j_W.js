import{i as j,f as C,c as B,o,w as d,a as e,d as r,h as g,F as c,l as w,t as a,b as f,j as p,S as x,k as l,e as b,q as _,n as Q,W as V}from"./app-6u0ri86-.js";import{l as A}from"./lodash-Br-JjIWi.js";import{A as S}from"./AppLayout-5Luvue_m.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"py-6"},N={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},L={key:0,class:"mb-10"},E={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},F={class:"px-5 py-6"},T={class:"flex items-start justify-between"},I={class:"min-w-0 flex-1"},R={class:"text-lg font-semibold text-gray-900 truncate"},U={class:"mt-1 text-sm text-gray-500 truncate"},$={class:"mt-5 space-y-3"},H={class:"flex items-center text-sm text-gray-600"},O={class:"flex items-center text-sm text-gray-600"},P={class:"mt-5"},W={class:"mb-8"},Y={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},G={class:"flex flex-col sm:flex-row gap-3"},J={class:"relative"},K={class:"relative"},X=["value"],Z={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},q={class:"px-5 py-6"},ee={class:"flex items-start justify-between"},te={class:"min-w-0 flex-1"},se={class:"text-lg font-semibold text-gray-900 truncate"},oe={class:"mt-1 text-sm text-gray-500 truncate"},re={class:"mt-5 space-y-3"},ne={class:"flex items-center text-sm text-gray-600"},ae={class:"flex items-center text-sm text-gray-600"},ie={key:0},le={key:1},de={key:2},ue={key:3},me={key:0,class:"flex items-center text-sm text-gray-600"},ge={key:0,class:"text-green-600 font-medium"},ce={key:1,class:"text-red-600 font-medium"},fe={class:"mt-5"},pe={key:0},xe={key:1},he={key:2},ve={key:3},we={disabled:"",class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-gray-500 bg-gray-100 cursor-not-allowed"},ye={key:0},be={key:1},_e={key:1,class:"bg-white text-center rounded-xl shadow-sm border border-gray-100 px-6 py-16"},Be={__name:"MyQuizzes",props:{quizzes:Array,organizations:Array,filters:Object,ongoingQuizzes:{type:Array,default:()=>[]}},setup(u){const h=u,i=j({status:h.filters.status||"all",organization:h.filters.organization||"all"}),y=C(()=>h.quizzes.filter(n=>!(i.value.status!=="all"&&n.status!==i.value.status||i.value.organization!=="all"&&n.organization.id!==parseInt(i.value.organization)))),k=n=>{if(!n)return"0:00";const s=Math.floor(n/60),t=n%60;return`${s}:${t.toString().padStart(2,"0")}`},z=n=>{if(!n)return"";const s={month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(n).toLocaleDateString(void 0,s)},v=()=>{V.get(route("examinee.quizzes.index"),A.pickBy(i.value),{preserveState:!0,replace:!0})},M=()=>{i.value={status:"all",organization:"all"},v()},m=n=>{if(!n)return"";const s={year:"numeric",month:"short",day:"numeric"};return new Date(n).toLocaleDateString(void 0,s)};return(n,s)=>(o(),B(S,{title:"My Quizzes"},{default:d(()=>[e("div",D,[e("div",N,[u.ongoingQuizzes.length>0?(o(),r("div",L,[s[6]||(s[6]=e("div",{class:"flex items-center justify-between mb-4"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Continue Quiz")],-1)),e("div",E,[(o(!0),r(c,null,w(u.ongoingQuizzes,t=>(o(),r("div",{key:t.id,class:"bg-white overflow-hidden rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-200"},[e("div",F,[e("div",T,[e("div",I,[e("h3",R,a(t.title),1),e("p",U,a(t.organization.name),1)]),s[2]||(s[2]=e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ml-3 flex-shrink-0 whitespace-nowrap bg-yellow-50 text-yellow-700 border border-yellow-100"}," In Progress ",-1))]),e("div",$,[e("div",H,[s[3]||(s[3]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null," Time spent: "+a(k(t.attempt.time_spent)),1)]),e("div",O,[s[4]||(s[4]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null," Started "+a(z(t.attempt.started_at)),1)])]),e("div",P,[f(p(x),{href:n.route("examinee.attempt",{quiz:t.id,attempt:t.attempt.id}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200"},{default:d(()=>s[5]||(s[5]=[l(" Continue Quiz ")])),_:2,__:[5]},1032,["href"])])])]))),128))])])):g("",!0),e("div",W,[e("div",Y,[s[11]||(s[11]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"My Quizzes"),e("p",{class:"mt-2 text-gray-600"},"All quizzes assigned to you")],-1)),e("div",G,[e("div",J,[b(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.value.status=t),onChange:v,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-4 pr-10 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},s[7]||(s[7]=[e("option",{value:"all"},"All Statuses",-1),e("option",{value:"available"},"Available",-1),e("option",{value:"upcoming"},"Upcoming",-1),e("option",{value:"expired"},"Expired",-1),e("option",{value:"completed"},"Completed",-1)]),544),[[_,i.value.status]]),s[8]||(s[8]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500"},[e("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))]),e("div",K,[b(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.value.organization=t),onChange:v,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-4 pr-10 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},[s[9]||(s[9]=e("option",{value:"all"},"All Organizations",-1)),(o(!0),r(c,null,w(u.organizations,t=>(o(),r("option",{key:t.id,value:t.id},a(t.name),9,X))),128))],544),[[_,i.value.organization]]),s[10]||(s[10]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500"},[e("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])])]),e("div",Z,[(o(!0),r(c,null,w(y.value,t=>(o(),r("div",{key:t.id,class:"bg-white overflow-hidden rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-200"},[e("div",q,[e("div",ee,[e("div",te,[e("h3",se,a(t.title),1),e("p",oe,a(t.organization.name),1)]),e("span",{class:Q(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ml-3 flex-shrink-0 whitespace-nowrap",{"bg-blue-50 text-blue-700 border border-blue-100":t.status==="available","bg-gray-50 text-gray-700 border border-gray-100":t.status==="upcoming","bg-red-50 text-red-700 border border-red-100":t.status==="expired","bg-green-50 text-green-700 border border-green-100":t.status==="completed"}])},a(t.statusDisplay),3)]),e("div",re,[e("div",ne,[s[12]||(s[12]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,[l(a(t.time_limit?`${t.time_limit} min`:"No time limit")+" ",1),t.attempts_remaining!==null?(o(),r(c,{key:0},[l(" â€¢ "+a(t.attempts_remaining)+" "+a(t.attempts_remaining===1?"attempt":"attempts")+" left ",1)],64)):g("",!0)])]),e("div",ae,[s[13]||(s[13]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t.starts_at&&t.ends_at?(o(),r("span",ie,a(m(t.starts_at))+" - "+a(m(t.ends_at)),1)):t.starts_at?(o(),r("span",le," Starts "+a(m(t.starts_at)),1)):t.ends_at?(o(),r("span",de," Ends "+a(m(t.ends_at)),1)):(o(),r("span",ue," Always available "))]),t.best_attempt?(o(),r("div",me,[s[14]||(s[14]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,[l(" Best score: "+a(t.best_attempt.percentage)+"% ",1),t.best_attempt.is_passed?(o(),r("span",ge,"(Passed)")):(o(),r("span",ce,"(Failed)"))])])):g("",!0)]),e("div",fe,[t.status==="available"?(o(),r("div",pe,[f(p(x),{href:n.route("quiz.show",{quiz:t.id,token:t.share_token}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200"},{default:d(()=>s[15]||(s[15]=[l(" Take Quiz ")])),_:2,__:[15]},1032,["href"])])):t.status==="completed"&&t.attempts_remaining>0?(o(),r("div",xe,[f(p(x),{href:n.route("quiz.show",{quiz:t.id,token:t.share_token}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200"},{default:d(()=>s[16]||(s[16]=[l(" Retake Quiz ")])),_:2,__:[16]},1032,["href"])])):t.status==="completed"?(o(),r("div",he,[f(p(x),{href:n.route("examinee.quiz.results",{quiz:t.id,attemptId:t.best_attempt.id}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},{default:d(()=>s[17]||(s[17]=[l(" View Results ")])),_:2,__:[17]},1032,["href"])])):(o(),r("div",ve,[e("button",we,[t.status==="upcoming"?(o(),r("span",ye,"Not Available Yet")):(o(),r("span",be,"Quiz Expired"))])]))])])]))),128))]),y.value.length===0?(o(),r("div",_e,[e("div",{class:"mx-auto max-w-sm"},[s[18]||(s[18]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s[19]||(s[19]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No quizzes found",-1)),s[20]||(s[20]=e("p",{class:"mt-2 text-gray-500"},"You don't have any quizzes matching your current filters.",-1)),e("div",{class:"mt-6"},[e("button",{onClick:M,type:"button",class:"inline-flex items-center px-4 py-2.5 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200"}," Reset Filters ")])])])):g("",!0)])])]),_:1}))}};export{Be as default};
