import{P as H,i,f as j,c as J,o as p,w as c,a,n as B,e as z,g as M,b as s,k as x,d as y,v as A,A as K,W as D}from"./app-Ch8PWEbJ.js";import{A as Q}from"./AppLayout-Yb1EywCv.js";import{_ as o}from"./InputLabel-IYh-jNrY.js";import{_ as g}from"./TextInput-WzhbOaF4.js";import{_ as F}from"./PrimaryButton-DUSua-16.js";import{_ as u}from"./InputError-CgF76udv.js";import{_ as w}from"./Checkbox-3Z_ynHNi.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const Y={class:"py-12"},Z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ee={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ae={class:"p-6 bg-white border-b border-gray-200"},se={class:"border-b border-gray-200 mb-6"},te={class:"-mb-px flex space-x-8","aria-label":"Tabs"},le=["aria-current"],oe=["aria-current"],ie={class:"space-y-4"},ne={class:"flex items-center"},re={class:"flex items-center"},de={class:"flex items-center"},ue={class:"flex items-center"},me={class:"flex items-center justify-end mt-8"},fe={key:0},ce={key:1},ge={class:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},pe={class:"mt-2 flex items-center gap-4"},_e=["src"],ve={class:"mt-2 flex items-center gap-4"},be=["src"],xe={class:"flex items-center justify-end mt-6"},ye={key:0},we={key:1},ze={__name:"Settings",props:{user:Object,organization:Object},setup(T){var k,V,S,U,C,O,q,P,E,N,W,$;const _=H(),n=T,f=i("organization");i({name:"",email:""}),i(!1),i({}),i({current_password:"",password:"",password_confirmation:""}),i(!1),i({});const m=i({email_quiz_results:((k=_.props.userPreferences)==null?void 0:k.email_quiz_results)??!0,email_new_assignments:((V=_.props.userPreferences)==null?void 0:V.email_new_assignments)??!0,email_reminders:((S=_.props.userPreferences)==null?void 0:S.email_reminders)??!0,in_app_notifications:((U=_.props.userPreferences)==null?void 0:U.in_app_notifications)??!0}),v=i(!1),h=i({}),l=i({name:((C=n.organization)==null?void 0:C.name)||"",description:((O=n.organization)==null?void 0:O.description)||"",website:((q=n.organization)==null?void 0:q.website)||"",industry:((P=n.organization)==null?void 0:P.industry)||"",office_address:((E=n.organization)==null?void 0:E.office_address)||"",official_phone_number:((N=n.organization)==null?void 0:N.official_phone_number)||"",official_email:((W=n.organization)==null?void 0:W.official_email)||"",official_Whatsapp_contact:(($=n.organization)==null?void 0:$.official_Whatsapp_contact)||"",logo:null,certificate_seal:null}),L=j(()=>{var d;return(d=n.organization)!=null&&d.logo?`/storage/${n.organization.logo}`:"/images/default-organization-logo.png"}),I=j(()=>{var d;return(d=n.organization)!=null&&d.certificate_seal?`/storage/${n.organization.certificate_seal}`:"/images/default-seal.png"}),b=i(!1),r=i({}),R=()=>{v.value=!0,h.value={},D.put(route("settings.notifications.update"),m.value,{preserveScroll:!0,onSuccess:()=>{console.log("Notifications updated")},onError:d=>{h.value=d},onFinish:()=>{v.value=!1}})},G=()=>{b.value=!0,r.value={};const d=new FormData;Object.keys(l.value).forEach(e=>{l.value[e]!==null&&d.append(e,l.value[e])}),D.post(route("examiner.settings.organization.update"),d,{preserveScroll:!0,onSuccess:()=>{l.value.logo=null,l.value.certificate_seal=null},onError:e=>{r.value=e},onFinish:()=>{b.value=!1},headers:{"Content-Type":"multipart/form-data"}})};return(d,e)=>(p(),J(Q,{title:"Settings"},{header:c(()=>e[16]||(e[16]=[a("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Settings ",-1)])),default:c(()=>[a("div",Y,[a("div",Z,[a("div",ee,[a("div",ae,[a("div",se,[a("nav",te,[a("button",{onClick:e[0]||(e[0]=t=>f.value="organization"),class:B([f.value==="organization"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"]),"aria-current":f.value==="organization"?"page":void 0}," Organization ",10,le),a("button",{onClick:e[1]||(e[1]=t=>f.value="notification"),class:B([f.value==="notification"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"]),"aria-current":f.value==="notification"?"page":void 0}," Notification ",10,oe)])]),a("div",null,[z(a("div",null,[e[21]||(e[21]=a("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Notification Preferences",-1)),a("form",{onSubmit:M(R,["prevent"])},[a("div",ie,[a("div",ne,[s(w,{id:"email_quiz_results",checked:m.value.email_quiz_results,"onUpdate:checked":e[2]||(e[2]=t=>m.value.email_quiz_results=t),class:"rounded border-gray-300 text-green-600 shadow-sm focus:ring-green-500"},null,8,["checked"]),s(o,{for:"email_quiz_results",class:"ml-2 block text-sm text-gray-700"},{default:c(()=>e[17]||(e[17]=[x(" Email quiz results to me ")])),_:1,__:[17]})]),a("div",re,[s(w,{id:"email_new_assignments",checked:m.value.email_new_assignments,"onUpdate:checked":e[3]||(e[3]=t=>m.value.email_new_assignments=t),class:"rounded border-gray-300 text-green-600 shadow-sm focus:ring-green-500"},null,8,["checked"]),s(o,{for:"email_new_assignments",class:"ml-2 block text-sm text-gray-700"},{default:c(()=>e[18]||(e[18]=[x(" Email me when assigned new quizzes ")])),_:1,__:[18]})]),a("div",de,[s(w,{id:"email_reminders",checked:m.value.email_reminders,"onUpdate:checked":e[4]||(e[4]=t=>m.value.email_reminders=t),class:"rounded border-gray-300 text-green-600 shadow-sm focus:ring-green-500"},null,8,["checked"]),s(o,{for:"email_reminders",class:"ml-2 block text-sm text-gray-700"},{default:c(()=>e[19]||(e[19]=[x(" Send email reminders for upcoming quizzes ")])),_:1,__:[19]})]),a("div",ue,[s(w,{id:"in_app_notifications",checked:m.value.in_app_notifications,"onUpdate:checked":e[5]||(e[5]=t=>m.value.in_app_notifications=t),class:"rounded border-gray-300 text-green-600 shadow-sm focus:ring-green-500"},null,8,["checked"]),s(o,{for:"in_app_notifications",class:"ml-2 block text-sm text-gray-700"},{default:c(()=>e[20]||(e[20]=[x(" Show in-app notifications ")])),_:1,__:[20]})])]),a("div",me,[s(F,{disabled:v.value},{default:c(()=>[v.value?(p(),y("span",fe,"Saving...")):(p(),y("span",ce,"Save Preferences"))]),_:1},8,["disabled"])])],32)],512),[[A,f.value==="notification"]]),z(a("div",null,[e[24]||(e[24]=a("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Organization Details",-1)),a("form",{onSubmit:M(G,["prevent"])},[a("div",ge,[a("div",null,[s(o,{for:"org_name",value:"Organization Name"}),s(g,{id:"org_name",modelValue:l.value.name,"onUpdate:modelValue":e[6]||(e[6]=t=>l.value.name=t),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(u,{message:r.value.name,class:"mt-2"},null,8,["message"])]),a("div",null,[s(o,{for:"org_description",value:"Description"}),z(a("textarea",{id:"org_description","onUpdate:modelValue":e[7]||(e[7]=t=>l.value.description=t),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-green-500 focus:ring-green-500",rows:"3"},null,512),[[K,l.value.description]]),s(u,{message:r.value.description,class:"mt-2"},null,8,["message"])]),a("div",null,[s(o,{for:"org_website",value:"Website"}),s(g,{id:"org_website",modelValue:l.value.website,"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.website=t),type:"url",class:"mt-1 block w-full"},null,8,["modelValue"]),s(u,{message:r.value.website,class:"mt-2"},null,8,["message"])]),a("div",null,[s(o,{for:"org_industry",value:"Industry"}),s(g,{id:"org_industry",modelValue:l.value.industry,"onUpdate:modelValue":e[9]||(e[9]=t=>l.value.industry=t),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),s(u,{message:r.value.industry,class:"mt-2"},null,8,["message"])]),a("div",null,[s(o,{for:"org_address",value:"Office Address"}),s(g,{id:"org_address",modelValue:l.value.office_address,"onUpdate:modelValue":e[10]||(e[10]=t=>l.value.office_address=t),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),s(u,{message:r.value.office_address,class:"mt-2"},null,8,["message"])]),a("div",null,[s(o,{for:"org_phone",value:"Official Phone Number"}),s(g,{id:"org_phone",modelValue:l.value.official_phone_number,"onUpdate:modelValue":e[11]||(e[11]=t=>l.value.official_phone_number=t),type:"tel",class:"mt-1 block w-full"},null,8,["modelValue"]),s(u,{message:r.value.official_phone_number,class:"mt-2"},null,8,["message"])]),a("div",null,[s(o,{for:"org_email",value:"Official Email"}),s(g,{id:"org_email",modelValue:l.value.official_email,"onUpdate:modelValue":e[12]||(e[12]=t=>l.value.official_email=t),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),s(u,{message:r.value.official_email,class:"mt-2"},null,8,["message"])]),a("div",null,[s(o,{for:"org_whatsapp",value:"WhatsApp Contact"}),s(g,{id:"org_whatsapp",modelValue:l.value.official_Whatsapp_contact,"onUpdate:modelValue":e[13]||(e[13]=t=>l.value.official_Whatsapp_contact=t),type:"tel",class:"mt-1 block w-full"},null,8,["modelValue"]),s(u,{message:r.value.official_Whatsapp_contact,class:"mt-2"},null,8,["message"])]),a("div",null,[s(o,{for:"org_logo",value:"Organization Logo"}),a("div",pe,[a("img",{src:L.value,alt:"Current logo",class:"h-16 w-16 rounded-full object-cover"},null,8,_e),a("input",{id:"org_logo",type:"file",onChange:e[14]||(e[14]=t=>l.value.logo=t.target.files[0]),accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"},null,32)]),s(u,{message:r.value.logo,class:"mt-2"},null,8,["message"]),e[22]||(e[22]=a("p",{class:"mt-1 text-xs text-gray-500"},"Recommended size: 256x256 pixels. Max 2MB.",-1))]),a("div",null,[s(o,{for:"org_seal",value:"Certificate Seal"}),a("div",ve,[a("img",{src:I.value,alt:"Current seal",class:"h-16 w-16 rounded-full object-cover"},null,8,be),a("input",{id:"org_seal",type:"file",onChange:e[15]||(e[15]=t=>l.value.certificate_seal=t.target.files[0]),accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"},null,32)]),s(u,{message:r.value.certificate_seal,class:"mt-2"},null,8,["message"]),e[23]||(e[23]=a("p",{class:"mt-1 text-xs text-gray-500"},"Recommended size: 200x200 pixels. Max 2MB.",-1))])]),a("div",xe,[s(F,{disabled:b.value},{default:c(()=>[b.value?(p(),y("span",ye,"Saving...")):(p(),y("span",we,"Save Changes"))]),_:1},8,["disabled"])])],32)],512),[[A,f.value==="organization"]])])])])])])]),_:1}))}},Ee=X(ze,[["__scopeId","data-v-ba67a8d6"]]);export{Ee as default};
