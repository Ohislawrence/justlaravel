import{i as x,y as w,m as H,d as N,o as k,c as Y,h as T,a as l,n as $,e as C,A as V}from"./app-Wk1DVyub.js";import{c as B,t as M,m as I,a as z,i as p,f as y}from"./format-3b8xIHeq.js";function U(t,e){const a=()=>B(e==null?void 0:e.in,NaN),r=R(t);let i;if(r.date){const d=W(r.date,2);i=L(d.restDateString,d.year)}if(!i||isNaN(+i))return a();const u=+i;let c=0,m;if(r.time&&(c=j(r.time),isNaN(c)))return a();if(r.timezone){if(m=E(r.timezone),isNaN(m))return a()}else{const d=new Date(u+c),D=M(0,e==null?void 0:e.in);return D.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),D.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),D}return M(u+c+m,e==null?void 0:e.in)}const b={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},F=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,O=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Z=/^([+-])(\d{2})(?::?(\d{2}))?$/;function R(t){const e={},a=t.split(b.dateTimeDelimiter);let n;if(a.length>2)return e;if(/:/.test(a[0])?n=a[0]:(e.date=a[0],n=a[1],b.timeZoneDelimiter.test(e.date)&&(e.date=t.split(b.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const r=b.timezone.exec(n);r?(e.time=n.replace(r[1],""),e.timezone=r[1]):e.time=n}return e}function W(t,e){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(a);if(!n)return{year:NaN,restDateString:""};const r=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?r:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function L(t,e){if(e===null)return new Date(NaN);const a=t.match(F);if(!a)return new Date(NaN);const n=!!a[4],r=v(a[1]),i=v(a[2])-1,u=v(a[3]),c=v(a[4]),m=v(a[5])-1;if(n)return G(e,c,m)?P(e,c,m):new Date(NaN);{const d=new Date(0);return!A(e,i,u)||!J(e,r)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(r,u)),d)}}function v(t){return t?parseInt(t):1}function j(t){const e=t.match(O);if(!e)return NaN;const a=h(e[1]),n=h(e[2]),r=h(e[3]);return K(a,n,r)?a*I+n*z+r*1e3:NaN}function h(t){return t&&parseFloat(t.replace(",","."))||0}function E(t){if(t==="Z")return 0;const e=t.match(Z);if(!e)return 0;const a=e[1]==="+"?-1:1,n=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return Q(n,r)?a*(n*I+r*z):NaN}function P(t,e,a){const n=new Date(0);n.setUTCFullYear(t,0,4);const r=n.getUTCDay()||7,i=(e-1)*7+a+1-r;return n.setUTCDate(n.getUTCDate()+i),n}const q=[31,null,31,30,31,30,31,31,30,31,30,31];function S(t){return t%400===0||t%4===0&&t%100!==0}function A(t,e,a){return e>=0&&e<=11&&a>=1&&a<=(q[e]||(S(t)?29:28))}function J(t,e){return e>=1&&e<=(S(t)?366:365)}function G(t,e,a){return e>=1&&e<=53&&a>=0&&a<=6}function K(t,e,a){return t===24?e===0&&a===0:a>=0&&a<60&&e>=0&&e<60&&t>=0&&t<25}function Q(t,e){return e>=0&&e<=59}const X={class:"datetime-picker-container relative"},_={class:"relative"},ee=["id","value","disabled"],te={key:1,class:"absolute z-10 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700"},ae={class:"p-4 space-y-4"},ne=["min","max"],re={class:"flex justify-between pt-2"},ie={class:"space-x-2"},le={__name:"DateTimePicker",props:{modelValue:[String,Date],id:String,label:String,required:Boolean,disabled:Boolean,minDate:[String,Date],maxDate:[String,Date]},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=e,r=x(!1),i=x(""),u=x(""),c=()=>{if(!a.modelValue){i.value="",u.value="";return}try{const o=a.modelValue instanceof Date?a.modelValue:U(a.modelValue);p(o)&&(i.value=y(o,"yyyy-MM-dd"),u.value=y(o,"HH:mm"))}catch(o){console.error("Date parsing error:",o),i.value="",u.value=""}};c(),w(()=>a.modelValue,c),w([i,u],([o,s])=>{if(o&&s)try{const g=new Date(`${o}T${s}`);if(p(g)){const f=y(g,"yyyy-MM-dd HH:mm:ss");n("update:modelValue",f)}}catch(g){console.error("Date combination error:",g)}else n("update:modelValue",null)});const m=o=>{if(!o)return"";try{const s=o instanceof Date?o:U(o);return p(s)?y(s,"MMM d, yyyy h:mm a"):""}catch{return""}},d=()=>{const o=new Date;i.value=y(o,"yyyy-MM-dd"),u.value=y(o,"HH:mm")},D=()=>{i.value="",u.value="",n("update:modelValue",null)};return(o,s)=>{const g=H("InputLabel");return k(),N("div",X,[t.label?(k(),Y(g,{key:0,for:t.id,value:t.label,class:"mb-1"},null,8,["for","value"])):T("",!0),l("div",_,[l("input",{id:t.id,type:"text",readonly:"",value:m(t.modelValue),onClick:s[0]||(s[0]=f=>r.value=!r.value),class:$(["block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500","bg-white dark:bg-gray-800",t.disabled?"cursor-not-allowed bg-gray-100 dark:bg-gray-700":"cursor-pointer"]),disabled:t.disabled},null,10,ee),s[4]||(s[4]=l("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[l("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),r.value?(k(),N("div",te,[l("div",ae,[l("div",null,[s[5]||(s[5]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Date",-1)),C(l("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=f=>i.value=f),min:t.minDate,max:t.maxDate,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,8,ne),[[V,i.value]])]),l("div",null,[s[6]||(s[6]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Time",-1)),C(l("input",{type:"time","onUpdate:modelValue":s[2]||(s[2]=f=>u.value=f),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[V,u.value]])]),l("div",re,[l("button",{type:"button",onClick:d,class:"text-xs text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"}," Now "),l("div",ie,[l("button",{type:"button",onClick:D,class:"text-xs text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300"}," Clear "),l("button",{type:"button",onClick:s[3]||(s[3]=f=>r.value=!1),class:"text-xs text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"}," Done ")])])])])):T("",!0)])}}};export{le as _};
