import{P as _,i as f,W as y,c as k,o as n,w as l,a as e,d as a,h,b as d,e as z,j as u,A as C,S as c,k as p,F as j,l as A,t as r,n as v}from"./app-BbjuU1ab.js";import{A as S}from"./AppLayout-e8tIIA9R.js";import{_ as B}from"./Pagination-C89MvXzT.js";import{l as Q}from"./lodash-BVhj3HU_.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const q={class:"font-semibold text-xl text-gray-800 leading-tight"},D={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},V={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"p-4 sm:p-6 bg-white border-b border-gray-200"},I={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4"},T={class:"relative flex-grow w-full sm:w-auto"},F={class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200"},O={class:"bg-white divide-y divide-gray-200"},$={class:"px-6 py-4 whitespace-nowrap"},H={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-900"},P={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap"},W={class:"group relative inline-block"},G={key:0},U={key:1},J={key:0,class:"absolute z-10 hidden group-hover:block w-64 p-2 text-sm bg-gray-800 text-white rounded shadow-lg"},K={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-900"},R={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Y={class:"flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0"},Z=["onClick","disabled"],ee={key:0,class:"flex items-center justify-center"},te={key:1},se={key:0,class:"text-center py-12"},oe={class:"text-gray-500"},re={class:"text-sm"},ne={__name:"Index",props:{organization:Object,quizzes:Object,filters:Object},setup(x){const g=x,{flash:ae}=_().props,m=f(g.filters.search),i=f(null),w=Q.debounce(o=>{y.get(route("examiner.quizzes.index",g.organization.id),{search:o},{preserveState:!0})},300),b=o=>{confirm("Are you sure you want to delete this quiz?")&&(i.value=o.id,y.delete(route("examiner.quizzes.destroy",o.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{i.value=null},onError:s=>{i.value=null,console.error("Delete error:",s)},onFinish:()=>{i.value=null}}))};return(o,s)=>(n(),k(S,{title:"All Quizzes"},{header:l(()=>[e("h2",q," Quizzes in "+r(x.organization.name),1)]),default:l(()=>[e("div",D,[e("div",N,[e("div",V,[e("div",E,[e("div",I,[e("div",T,[s[4]||(s[4]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),z(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>m.value=t),onInput:s[1]||(s[1]=t=>u(w)(t.target.value)),type:"text",placeholder:"Search quizzes...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white"},null,544),[[C,m.value]]),m.value?(n(),a("div",{key:0,onClick:s[2]||(s[2]=t=>m.value=""),class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer"},s[3]||(s[3]=[e("svg",{class:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):h("",!0)]),d(u(c),{href:o.route("examiner.quizzes.create",g.organization.id),class:"w-full sm:w-auto text-center bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-6 rounded-lg transition duration-150 ease-in-out flex items-center justify-center gap-2"},{default:l(()=>s[5]||(s[5]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),p(" Create New Exam ")])),_:1,__:[5]},8,["href"])]),e("div",F,[e("table",L,[s[11]||(s[11]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Title "),e("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Questions "),e("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Attempts "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",O,[(n(!0),a(j,null,A(x.quizzes.data,t=>(n(),a("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",$,[d(u(c),{href:o.route("examiner.quizzes.show",t.id),class:"text-green-600 hover:text-green-800 font-medium"},{default:l(()=>[p(r(t.title),1)]),_:2},1032,["href"])]),e("td",H,r(t.quiz_type),1),e("td",P,[e("div",W,[d(u(c),{href:o.route("examiner.quizzes.questions.index",{quiz:t.id}),class:"text-green-600 hover:text-green-800 font-medium"},{default:l(()=>[t.questions_count===t.total_questions?(n(),a("span",G,r(t.questions_count),1)):(n(),a("span",U,r(t.questions_count)+" ("+r(t.total_questions)+" total) ",1)),s[6]||(s[6]=e("i",{class:"fas fa-list-ul ml-1"},null,-1))]),_:2,__:[6]},1032,["href"]),t.questions_count!==t.total_questions?(n(),a("span",J,r(t.questions_count)+" direct questions + "+r(t.total_questions-t.questions_count)+" from pools ",1)):h("",!0)])]),e("td",K,r(t.attempts_count),1),e("td",R,[e("span",{class:v([{"bg-green-100 text-green-800":t.is_published,"bg-gray-100 text-gray-800":!t.is_published},"px-2 py-1 text-xs font-medium rounded-full"])},r(t.is_published?"Published":"Draft"),3)]),e("td",X,[e("div",Y,[d(u(c),{href:o.route("examiner.quizzes.edit",t.id),class:"px-2.5 py-1.5 text-center text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 rounded-md transition duration-150 ease-in-out"},{default:l(()=>s[7]||(s[7]=[p(" Edit ")])),_:2,__:[7]},1032,["href"]),d(u(c),{href:o.route("examiner.quizzes.questions.index",{quiz:t.id}),class:"px-2.5 py-1.5 text-center text-emerald-600 hover:text-emerald-900 bg-emerald-50 hover:bg-emerald-100 rounded-md transition duration-150 ease-in-out",title:"Manage Questions"},{default:l(()=>s[8]||(s[8]=[p(" Questions ")])),_:2,__:[8]},1032,["href"]),d(u(c),{href:o.route("examiner.quizzes.analysis.index",{quiz:t.id}),class:"px-2.5 py-1.5 text-center text-teal-600 hover:text-teal-900 bg-teal-50 hover:bg-teal-100 rounded-md transition duration-150 ease-in-out",title:"Analyze Quiz"},{default:l(()=>s[9]||(s[9]=[p(" Analyze ")])),_:2,__:[9]},1032,["href"]),e("button",{onClick:ie=>b(t),disabled:i.value===t.id,class:v([{"opacity-50 cursor-not-allowed":i.value===t.id,"hover:text-red-900 hover:bg-red-100":i.value!==t.id},"px-2.5 py-1.5 text-center text-red-600 bg-red-50 rounded-md transition duration-150 ease-in-out"])},[i.value===t.id?(n(),a("span",ee,s[10]||(s[10]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" Deleting... ")]))):(n(),a("span",te,"Delete"))],10,Z)])])]))),128))])])]),x.quizzes.data.length===0?(n(),a("div",se,[e("div",oe,[s[12]||(s[12]=e("i",{class:"fas fa-clipboard-list text-3xl sm:text-4xl mb-4"},null,-1)),s[13]||(s[13]=e("p",{class:"text-lg mb-2"},"No quizzes found",-1)),e("p",re,r(m.value?"Try adjusting your search terms":"Get started by creating your first quiz"),1)])])):h("",!0),d(B,{links:x.quizzes.links,class:"mt-6"},null,8,["links"])])])])])]),_:1}))}},me=M(ne,[["__scopeId","data-v-9b6b3216"]]);export{me as default};
