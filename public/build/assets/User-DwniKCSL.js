import{i as l,P as N,c as D,o as a,w as p,a as e,b as i,k as g,d as n,h as U,F as A,l as S,t as u,j as V,S as M,g as L,W as f}from"./app-BbjuU1ab.js";import{A as E}from"./AppLayout-e8tIIA9R.js";import{_ as F}from"./InputLabel-Dj8hVTBN.js";import{_ as $}from"./TextInput-C2O-PSK_.js";import{_ as j}from"./Modal-BeLRSDTy.js";import{_ as z}from"./Pagination-C89MvXzT.js";import{F as B}from"./FeatureLimitModal-DxruP3pf.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const I={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},H={class:"p-6 bg-white border-b border-gray-200"},P={class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200"},T={class:"bg-white divide-y divide-gray-200"},Y={class:"px-6 py-4 whitespace-nowrap"},G={class:"text-sm font-medium text-gray-900"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},K={class:"px-6 py-4 whitespace-nowrap"},Q={key:0,class:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800"},X={key:1,class:"text-sm text-gray-500"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={class:"px-2 py-1 text-xs font-medium rounded-full bg-emerald-100 text-emerald-800"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},se={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},oe={class:"flex justify-start items-center gap-2"},ae=["onClick"],ne={key:0},re={class:"p-6"},ie={class:"mb-4"},de={class:"flex justify-end gap-2 mt-6"},le=["disabled"],ue={key:0},me={key:1},ce={__name:"User",props:{users:Object,designations:Array,organization_id:Object,examineeLimit:Number,examinerLimit:Number,currentexamineeCount:Number,currentexaminerCount:Number},setup(m){const c=m,x=l(!1),y=l(""),v=l("");function h(o,t){y.value=o,v.value=t,x.value=!0}N();const d=l(!1),r=l({name:"",organization_id:null}),b=()=>{d.value=!0},w=()=>{f.post(route("examiner.users.designations.store"),r.value,{preserveScroll:!0,onSuccess:()=>{d.value=!1,r.value.name=""},onError:o=>{console.error("Error creating designation:",o)}})},k=o=>{confirm("Are you sure you want to delete this user?")&&f.delete(route("examiner.user.destroy",o),{preserveScroll:!0})};function C(){const o=c.currentexamineeCount<c.examineeLimit,t=c.currentexaminerCount<c.examinerLimit;if(!o&&!t){h("Add User","You have reached the user limit. Upgrade your plan to add more users.");return}f.visit(route("examiner.user.create"))}return(o,t)=>(a(),D(E,{title:"Users"},{header:p(()=>t[4]||(t[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," User Management ",-1)])),default:p(()=>[e("div",I,[e("div",O,[e("div",W,[e("div",H,[e("div",{class:"flex flex-col sm:flex-row justify-end items-start sm:items-center mb-6 gap-2"},[e("button",{onClick:b,class:"w-full sm:w-auto text-center bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out"},t[5]||(t[5]=[e("i",{class:"bx bx-plus mr-1"},null,-1),g(" New Designation ")])),e("button",{onClick:C,class:"w-full sm:w-auto text-center bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out"},t[6]||(t[6]=[e("i",{class:"bx bx-plus mr-1"},null,-1),g(" Add User ")]))]),e("div",P,[e("table",R,[t[10]||(t[10]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Designation "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Unique ID "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created On "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",T,[(a(!0),n(A,null,S(m.users.data,s=>{var _;return a(),n("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Y,[e("div",G,u(s.name),1)]),e("td",J,u(s.email),1),e("td",K,[(_=s.organization_member)!=null&&_.designation?(a(),n("span",Q,u(s.organization_member.designation.name),1)):(a(),n("span",X,"-"))]),e("td",Z,[e("span",ee,u(s.organization_member.unique_code||"No ID"),1)]),e("td",te,u(new Date(s.created_at).toLocaleDateString()),1),t[8]||(t[8]=e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("span",{class:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800"}," Active ")],-1)),e("td",se,[e("div",oe,[i(V(M),{href:o.route("examiner.user.edit",s.id),class:"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 px-3 py-1 rounded-md transition duration-150 ease-in-out"},{default:p(()=>t[7]||(t[7]=[g(" Edit ")])),_:2,__:[7]},1032,["href"]),e("button",{onClick:pe=>k(s.id),class:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-3 py-1 rounded-md transition duration-150 ease-in-out"}," Delete ",8,ae)])])])}),128)),m.users.data.length===0?(a(),n("tr",ne,t[9]||(t[9]=[e("td",{colspan:"7",class:"px-6 py-4 text-center text-sm text-gray-500"}," No users found. ",-1)]))):U("",!0)])])]),i(z,{links:m.users.links,class:"mt-6"},null,8,["links"])])])])]),i(j,{show:d.value,onClose:t[2]||(t[2]=s=>d.value=!1),maxWidth:"md"},{default:p(()=>[e("div",re,[t[11]||(t[11]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Create New Designation",-1)),e("form",{onSubmit:L(w,["prevent"])},[e("div",ie,[i(F,{for:"designation",value:"Designation Name"}),i($,{id:"designation",modelValue:r.value.name,"onUpdate:modelValue":t[0]||(t[0]=s=>r.value.name=s),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",placeholder:"e.g. Senior Developer, HR Manager"},null,8,["modelValue"])]),e("div",de,[e("button",{type:"button",onClick:t[1]||(t[1]=s=>d.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",disabled:r.value.processing},[r.value.processing?(a(),n("span",ue,"Creating...")):(a(),n("span",me,"Create Designation"))],8,le)])],32)])]),_:1},8,["show"]),i(B,{modelValue:x.value,"onUpdate:modelValue":t[3]||(t[3]=s=>x.value=s),featureName:y.value,message:v.value},null,8,["modelValue","featureName","message"])]),_:1}))}},ke=q(ce,[["__scopeId","data-v-c33aae18"]]);export{ke as default};
