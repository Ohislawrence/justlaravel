import{i as k,K as S,x as M,f as T,c as C,o as n,w as c,d,h as y,a as o,j as e,t as _,g as D,b as l,F as w,l as h,n as $,k as A}from"./app-Do1sSIaC.js";import{A as Q}from"./AppLayout-DUw_ZWTf.js";import{_ as r}from"./InputError-BalbFUZ-.js";import{_ as i}from"./InputLabel-CoAPtlZS.js";import{_ as j}from"./PrimaryButton-Ch7jOFNf.js";import{_ as p}from"./TextInput-CbC0PeBd.js";import{_ as V}from"./Textarea-uqrTs8Yb.js";import{_ as m}from"./Checkbox-DtNwaiTW.js";import{_ as z}from"./SelectInput-M835gHNO.js";import{_ as N,a as q}from"./RichTextArea-YfmLPoHm.js";import"./multiselect--COp2nW2.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const B={class:"font-semibold text-xl text-gray-800 leading-tight"},E={key:0,class:"mb-4 mx-auto max-w-7xl sm:px-6 lg:px-8"},L={class:"bg-green-100 border border-green-400 text-green-2 px-4 py-3 rounded"},O={key:1,class:"mb-4 mx-auto max-w-7xl sm:px-6 lg:px-8"},R={class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},F={class:"py-12"},K={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"bg-white shadow-sm sm:rounded-lg"},G={class:"p-6 bg-white border-b border-gray-200"},H={class:"grid grid-cols-1 gap-6"},J={class:"space-y-6"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},X=["value"],Z=["value"],ss={key:0},es={class:"space-y-6"},ts={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ls={class:"flex items-center"},as={class:"flex items-center"},os={class:"flex items-center"},is={class:"flex items-center"},rs={class:"flex items-center"},ns={class:"flex items-center"},ds={class:"flex items-center"},ms={class:"space-y-6"},us={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},cs={class:"space-y-6"},_s={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ps={class:"relative"},fs={class:"relative"},gs={class:"flex items-center justify-end"},vs={__name:"Create",props:{organization:Object,availablePools:Array,quizTypes:Object,industries:Object,availableQuestions:Array,quiz:{type:Object,default:()=>({pools:[]})}},setup(f){const b=f,x=k(null),{flash:g}=S().props,s=M({title:"",description:"",instructions:"",quiz_type:"test",industry:null,is_published:!1,is_public:!1,randomize_questions:!1,randomize_answers:!1,show_correct_answers:!1,show_leaderboard:!1,enable_discussions:!1,max_attempts:null,max_participants:"",time_limit:"",passing_score:"",starts_at:"",ends_at:"",settings:{},pools:b.quiz.pools||[],survey_thank_you_message:""}),U=T(()=>s.title&&(!x.value||x.value.getPoolData().every(v=>v.questions.length>0))),I=()=>{const v={...s.data(),max_attempts:s.max_attempts!==null?parseInt(s.max_attempts):null,max_participants:s.max_participants!==null?parseInt(s.max_participants):null,time_limit:s.time_limit!==null?parseInt(s.time_limit):null,passing_score:s.passing_score!==null?parseInt(s.passing_score):null,starts_at:s.starts_at?s.starts_at:null,ends_at:s.ends_at?s.ends_at:null};s.transform(()=>v).post(route("examiner.quizzes.store",b.organization.id),{onSuccess:()=>{s.reset()},onError:t=>{console.error("Validation errors:",t)}})};return k([]),(v,t)=>(n(),C(Q,{title:"Create New Quiz"},{header:c(()=>[o("h2",B," Create New Quiz for "+_(f.organization.name),1)]),default:c(()=>[e(g).success?(n(),d("div",E,[o("div",L,_(e(g).success),1)])):y("",!0),e(g).error?(n(),d("div",O,[o("div",R,_(e(g).error),1)])):y("",!0),o("div",F,[o("div",K,[o("div",Y,[o("div",G,[o("form",{onSubmit:D(I,["prevent"])},[o("div",H,[o("div",J,[t[23]||(t[23]=o("h3",{class:"text-lg font-medium"},"Basic Information",-1)),o("div",null,[l(i,{for:"title",value:"Quiz Title *"}),l(p,{id:"title",modelValue:e(s).title,"onUpdate:modelValue":t[0]||(t[0]=a=>e(s).title=a),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),l(r,{class:"mt-2",message:e(s).errors.title},null,8,["message"])]),o("div",null,[l(i,{for:"description",value:"Description"}),l(V,{id:"description",modelValue:e(s).description,"onUpdate:modelValue":t[1]||(t[1]=a=>e(s).description=a),class:"mt-1 block w-full",rows:"3"},null,8,["modelValue"]),l(r,{class:"mt-2",message:e(s).errors.description},null,8,["message"])]),o("div",null,[l(i,{for:"instructions",value:"Instructions"}),l(N,{id:"instructions",modelValue:e(s).instructions,"onUpdate:modelValue":t[2]||(t[2]=a=>e(s).instructions=a),label:"Instructions",error:e(s).errors.instructions},null,8,["modelValue","error"])]),o("div",W,[o("div",null,[l(i,{for:"quiz_type",value:"Quiz Type *"}),l(z,{id:"quiz_type",modelValue:e(s).quiz_type,"onUpdate:modelValue":t[3]||(t[3]=a=>e(s).quiz_type=a),class:"mt-1 block w-full",required:""},{default:c(()=>[(n(!0),d(w,null,h(f.quizTypes,(a,u)=>(n(),d("option",{key:u,value:u},_(a),9,X))),128))]),_:1},8,["modelValue"]),l(r,{class:"mt-2",message:e(s).errors.quiz_type},null,8,["message"])]),o("div",null,[l(i,{for:"industry",value:"Industry"}),l(z,{id:"industry",modelValue:e(s).industry,"onUpdate:modelValue":t[4]||(t[4]=a=>e(s).industry=a),class:"mt-1 block w-full"},{default:c(()=>[t[22]||(t[22]=o("option",{value:null},"Select Industry",-1)),(n(!0),d(w,null,h(f.industries,(a,u)=>(n(),d("option",{key:u,value:u},_(a),9,Z))),128))]),_:1,__:[22]},8,["modelValue"]),l(r,{class:"mt-2",message:e(s).errors.industry},null,8,["message"])]),e(s).quiz_type==="survey"?(n(),d("div",ss,[l(i,{for:"survey_thank_you_message",value:"Survey Thank You Message"}),l(V,{id:"survey_thank_you_message",modelValue:e(s).survey_thank_you_message,"onUpdate:modelValue":t[5]||(t[5]=a=>e(s).survey_thank_you_message=a),class:"mt-1 block w-full",rows:"3",placeholder:"Thank you for completing our survey!"},null,8,["modelValue"]),l(r,{class:"mt-2",message:e(s).errors.survey_thank_you_message},null,8,["message"])])):y("",!0)])]),o("div",es,[t[24]||(t[24]=o("h3",{class:"text-lg font-medium"},"Quiz Settings",-1)),o("div",ts,[o("div",ls,[l(m,{id:"is_published",checked:e(s).is_published,"onUpdate:checked":t[6]||(t[6]=a=>e(s).is_published=a)},null,8,["checked"]),l(i,{for:"is_published",value:"Publish Immediately",class:"ml-2"})]),o("div",as,[l(m,{id:"is_public",checked:e(s).is_public,"onUpdate:checked":t[7]||(t[7]=a=>e(s).is_public=a)},null,8,["checked"]),l(i,{for:"is_public",value:"Make Public",class:"ml-2"})]),o("div",os,[l(m,{id:"randomize_questions",checked:e(s).randomize_questions,"onUpdate:checked":t[8]||(t[8]=a=>e(s).randomize_questions=a)},null,8,["checked"]),l(i,{for:"randomize_questions",value:"Randomize Questions",class:"ml-2"})]),o("div",is,[l(m,{id:"randomize_answers",checked:e(s).randomize_answers,"onUpdate:checked":t[9]||(t[9]=a=>e(s).randomize_answers=a)},null,8,["checked"]),l(i,{for:"randomize_answers",value:"Randomize Answers",class:"ml-2"})]),o("div",rs,[l(m,{id:"show_correct_answers",checked:e(s).show_correct_answers,"onUpdate:checked":t[10]||(t[10]=a=>e(s).show_correct_answers=a)},null,8,["checked"]),l(i,{for:"show_correct_answers",value:"Show Correct Answers",class:"ml-2"})]),o("div",ns,[l(m,{id:"show_leaderboard",checked:e(s).show_leaderboard,"onUpdate:checked":t[11]||(t[11]=a=>e(s).show_leaderboard=a)},null,8,["checked"]),l(i,{for:"show_leaderboard",value:"Show Leaderboard",class:"ml-2"})]),o("div",ds,[l(m,{id:"enable_discussions",checked:e(s).enable_discussions,"onUpdate:checked":t[12]||(t[12]=a=>e(s).enable_discussions=a)},null,8,["checked"]),l(i,{for:"enable_discussions",value:"Enable Discussions",class:"ml-2"})])])]),o("div",ms,[t[25]||(t[25]=o("h3",{class:"text-lg font-medium"},"Access Restrictions",-1)),o("div",us,[o("div",null,[l(i,{for:"max_attempts",value:"Max Attempts (0 for unlimited)"}),l(p,{id:"max_attempts",modelValue:e(s).max_attempts,"onUpdate:modelValue":t[13]||(t[13]=a=>e(s).max_attempts=a),type:"number",min:"0",class:"mt-1 block w-full",onInput:t[14]||(t[14]=a=>e(s).max_attempts=a.target.value===""?null:parseInt(a.target.value))},null,8,["modelValue"]),l(r,{class:"mt-2",message:e(s).errors.max_attempts},null,8,["message"])]),o("div",null,[l(i,{for:"max_participants",value:"Max Participants (0 for unlimited)"}),l(p,{id:"max_participants",modelValue:e(s).max_participants,"onUpdate:modelValue":t[15]||(t[15]=a=>e(s).max_participants=a),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(r,{class:"mt-2",message:e(s).errors.max_participants},null,8,["message"])]),o("div",null,[l(i,{for:"time_limit",value:"Time Limit (minutes)"}),l(p,{id:"time_limit",modelValue:e(s).time_limit,"onUpdate:modelValue":t[16]||(t[16]=a=>e(s).time_limit=a),type:"number",min:"1",class:"mt-1 block w-full"},null,8,["modelValue"]),l(r,{class:"mt-2",message:e(s).errors.time_limit},null,8,["message"])]),o("div",null,[l(i,{for:"passing_score",value:"Passing Score (%)"}),l(p,{id:"passing_score",modelValue:e(s).passing_score,"onUpdate:modelValue":t[17]||(t[17]=a=>e(s).passing_score=a),type:"number",min:"0",max:"100",class:"mt-1 block w-full"},null,8,["modelValue"]),l(r,{class:"mt-2",message:e(s).errors.passing_score},null,8,["message"])])])]),o("div",cs,[t[26]||(t[26]=o("h3",{class:"text-lg font-medium"},"Schedule",-1)),o("div",_s,[o("div",ps,[l(i,{for:"starts_at",value:"Start Date & Time"}),l(q,{id:"starts_at",modelValue:e(s).starts_at,"onUpdate:modelValue":[t[18]||(t[18]=a=>e(s).starts_at=a),t[19]||(t[19]=a=>e(s).starts_at=a)],class:"mt-1 block w-full","display-format":"MMM d, yyyy h:mm a","model-value":e(s).starts_at,label:"Start Date & Time"},null,8,["modelValue","model-value"]),l(r,{class:"mt-2",message:e(s).errors.starts_at},null,8,["message"])]),o("div",fs,[l(i,{for:"ends_at",value:"End Date & Time"}),l(q,{id:"ends_at",modelValue:e(s).ends_at,"onUpdate:modelValue":[t[20]||(t[20]=a=>e(s).ends_at=a),t[21]||(t[21]=a=>e(s).ends_at=a)],class:"mt-1 block w-full","display-format":"MMM d, yyyy h:mm a","model-value":e(s).ends_at,label:"Start Date & Time"},null,8,["modelValue","model-value"]),l(r,{class:"mt-2",message:e(s).errors.ends_at},null,8,["message"])])])]),o("div",gs,[l(j,{class:$({"opacity-25":e(s).processing}),disabled:e(s).processing||!U.value},{default:c(()=>t[27]||(t[27]=[A(" Create Quiz ")])),_:1,__:[27]},8,["class","disabled"])])])],32)])])])])]),_:1}))}},Ts=P(vs,[["__scopeId","data-v-f78aff44"]]);export{Ts as default};
