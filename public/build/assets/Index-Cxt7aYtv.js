import{P as k,i as y,W as v,c as z,o as n,w as d,a as e,d as i,h,j as o,t as r,b as u,e as C,A as j,S as p,k as x,F as M,l as A,n as b}from"./app-ikiBmV_m.js";import{A as B}from"./AppLayout-CjTcf7fp.js";import{_ as S}from"./Pagination-CmPKc3Gj.js";import{l as Q}from"./lodash-CfwBpvpd.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const D={class:"font-semibold text-xl text-gray-800 leading-tight"},N={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={key:0,class:"mb-4"},L={class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative"},T={class:"block sm:inline"},$={key:1,class:"mb-4"},E={class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"},F={class:"block sm:inline"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},H={class:"p-4 sm:p-6 bg-white border-b border-gray-200"},P={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4"},W={class:"relative flex-grow w-full sm:w-auto"},G={class:"overflow-x-auto"},U={class:"min-w-full divide-y divide-gray-200"},J={class:"bg-white divide-y divide-gray-200"},K={class:"px-6 py-4 whitespace-nowrap"},R={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-900"},X={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap"},Y={class:"group relative inline-block"},Z={key:0},ee={key:1},te={key:0,class:"absolute z-10 hidden group-hover:block w-64 p-2 text-sm bg-gray-800 text-white rounded shadow-lg"},se={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-900"},oe={class:"px-6 py-4 whitespace-nowrap"},re={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ne={class:"flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0"},le=["onClick","disabled"],ie={key:0,class:"flex items-center justify-center"},ae={key:1},de={key:0,class:"text-center py-12"},ue={class:"text-gray-500"},ce={class:"text-sm"},pe={__name:"Index",props:{organization:Object,quizzes:Object,filters:Object},setup(m){const f=m,{flash:c}=k().props,g=y(f.filters.search),a=y(null),w=Q.debounce(l=>{v.get(route("examiner.quizzes.index",f.organization.id),{search:l},{preserveState:!0})},300),_=l=>{confirm("Are you sure you want to delete this quiz?")&&(a.value=l.id,v.delete(route("examiner.quizzes.destroy",l.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{a.value=null},onError:t=>{a.value=null,console.error("Delete error:",t)},onFinish:()=>{a.value=null}}))};return(l,t)=>(n(),z(B,{title:"All Quizzes"},{header:d(()=>[e("h2",D," Quizzes in "+r(m.organization.name),1)]),default:d(()=>[e("div",N,[e("div",V,[o(c).success?(n(),i("div",I,[e("div",L,[e("span",T,r(o(c).success),1),e("button",{type:"button",onClick:t[0]||(t[0]=s=>o(c).success=null),class:"absolute top-0 bottom-0 right-0 px-4 py-3","aria-label":"Close success message"},t[5]||(t[5]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):h("",!0),o(c).error?(n(),i("div",$,[e("div",E,[e("span",F,r(o(c).error),1),e("button",{type:"button",onClick:t[1]||(t[1]=s=>o(c).error=null),class:"absolute top-0 bottom-0 right-0 px-4 py-3","aria-label":"Close error message"},t[6]||(t[6]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):h("",!0),e("div",O,[e("div",H,[e("div",P,[e("div",W,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),C(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>g.value=s),onInput:t[3]||(t[3]=s=>o(w)(s.target.value)),type:"text",placeholder:"Search quizzes...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white"},null,544),[[j,g.value]]),g.value?(n(),i("div",{key:0,onClick:t[4]||(t[4]=s=>g.value=""),class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer"},t[7]||(t[7]=[e("svg",{class:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):h("",!0)]),u(o(p),{href:l.route("examiner.quizzes.create",f.organization.id),class:"w-full sm:w-auto text-center bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-6 rounded-lg transition duration-150 ease-in-out flex items-center justify-center gap-2"},{default:d(()=>t[9]||(t[9]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),x(" Create New Quiz ")])),_:1,__:[9]},8,["href"])]),e("div",G,[e("table",U,[t[15]||(t[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Title "),e("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Questions "),e("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Attempts "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",J,[(n(!0),i(M,null,A(m.quizzes.data,s=>(n(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",K,[u(o(p),{href:l.route("examiner.quizzes.show",s.id),class:"text-green-600 hover:text-green-800 font-medium"},{default:d(()=>[x(r(s.title),1)]),_:2},1032,["href"])]),e("td",R,r(s.quiz_type),1),e("td",X,[e("div",Y,[u(o(p),{href:l.route("examiner.quizzes.questions.index",{quiz:s.id}),class:"text-green-600 hover:text-green-800 font-medium"},{default:d(()=>[s.questions_count===s.total_questions?(n(),i("span",Z,r(s.questions_count),1)):(n(),i("span",ee,r(s.questions_count)+" ("+r(s.total_questions)+" total) ",1)),t[10]||(t[10]=e("i",{class:"fas fa-list-ul ml-1"},null,-1))]),_:2,__:[10]},1032,["href"]),s.questions_count!==s.total_questions?(n(),i("span",te,r(s.questions_count)+" direct questions + "+r(s.total_questions-s.questions_count)+" from pools ",1)):h("",!0)])]),e("td",se,r(s.attempts_count),1),e("td",oe,[e("span",{class:b([{"bg-green-100 text-green-800":s.is_published,"bg-gray-100 text-gray-800":!s.is_published},"px-2 py-1 text-xs font-medium rounded-full"])},r(s.is_published?"Published":"Draft"),3)]),e("td",re,[e("div",ne,[u(o(p),{href:l.route("examiner.quizzes.edit",s.id),class:"px-2.5 py-1.5 text-center text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 rounded-md transition duration-150 ease-in-out"},{default:d(()=>t[11]||(t[11]=[x(" Edit ")])),_:2,__:[11]},1032,["href"]),u(o(p),{href:l.route("examiner.quizzes.questions.index",{quiz:s.id}),class:"px-2.5 py-1.5 text-center text-emerald-600 hover:text-emerald-900 bg-emerald-50 hover:bg-emerald-100 rounded-md transition duration-150 ease-in-out",title:"Manage Questions"},{default:d(()=>t[12]||(t[12]=[x(" Questions ")])),_:2,__:[12]},1032,["href"]),u(o(p),{href:l.route("examiner.quizzes.analysis.index",{quiz:s.id}),class:"px-2.5 py-1.5 text-center text-teal-600 hover:text-teal-900 bg-teal-50 hover:bg-teal-100 rounded-md transition duration-150 ease-in-out",title:"Analyze Quiz"},{default:d(()=>t[13]||(t[13]=[x(" Analyze ")])),_:2,__:[13]},1032,["href"]),e("button",{onClick:xe=>_(s),disabled:a.value===s.id,class:b([{"opacity-50 cursor-not-allowed":a.value===s.id,"hover:text-red-900 hover:bg-red-100":a.value!==s.id},"px-2.5 py-1.5 text-center text-red-600 bg-red-50 rounded-md transition duration-150 ease-in-out"])},[a.value===s.id?(n(),i("span",ie,t[14]||(t[14]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),x(" Deleting... ")]))):(n(),i("span",ae,"Delete"))],10,le)])])]))),128))])])]),m.quizzes.data.length===0?(n(),i("div",de,[e("div",ue,[t[16]||(t[16]=e("i",{class:"fas fa-clipboard-list text-3xl sm:text-4xl mb-4"},null,-1)),t[17]||(t[17]=e("p",{class:"text-lg mb-2"},"No quizzes found",-1)),e("p",ce,r(g.value?"Try adjusting your search terms":"Get started by creating your first quiz"),1)])])):h("",!0),u(S,{links:m.quizzes.links,class:"mt-6"},null,8,["links"])])])])])]),_:1}))}},be=q(pe,[["__scopeId","data-v-3f728f74"]]);export{be as default};
