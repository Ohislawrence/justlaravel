import{e as o,o as n,a as t,l as m,q as w,c as z,w as y,t as a,f as d,b as r,g as l,u as c,S as b,W as k}from"./app-BYM1Msdw.js";import{P as A}from"./PublicLayout-Dqb_Woy4.js";import{r as S}from"./ClockIcon-8HWf5iue.js";import{r as R}from"./CheckCircleIcon-BlnO3B2C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function v(e,i){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}const N={class:"max-w-3xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},B={class:"bg-white shadow rounded-lg overflow-hidden"},Q={class:"px-6 py-5 border-b border-gray-200 bg-gray-50"},C={class:"text-2xl font-bold text-gray-900"},T={class:"mt-1 flex items-center text-sm text-gray-500"},L={key:0,class:"ml-2 text-xs text-gray-400"},M={class:"px-6 py-5"},P={class:"mb-6"},V={class:"text-lg font-medium text-gray-900"},I=["innerHTML"],$={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},D={class:"mt-2 space-y-1 text-sm text-gray-600"},Y={class:"flex items-center"},j={key:0,class:"flex items-center"},H={key:1,class:"flex items-center"},W={class:"mt-2 space-y-1 text-sm text-gray-600"},E={class:"flex items-center"},G={key:0,class:"flex items-center"},O={key:0,class:"auth-prompt"},F={key:1,class:"assignment-warning"},J={key:2,class:"attempts-warning"},K={key:3},st={__name:"QuizLanding",props:{quiz:Object,organisation:String,attemptsRemaining:[Number,null],isAuthenticated:Boolean,isAssigned:Boolean},setup(e){const i=e,h=u=>new Date(u).toLocaleString(),q=()=>{k.post(route("examinee.start",i.quiz.id),{},{onSuccess:()=>{}})},x=m(()=>i.quiz.question_pools&&i.quiz.question_pools.length>0),p=m(()=>x.value?i.quiz.question_pools.reduce((u,s)=>{var f;const g=((f=s.pivot)==null?void 0:f.questions_to_show)??s.questions_count;return u+g},0):0),_=m(()=>i.quiz.questions.length+p.value);return m(()=>i.isAuthenticated&&i.isAssigned&&(i.attemptsRemaining===null||i.attemptsRemaining>0)),(u,s)=>{const g=w("RefreshIcon");return n(),z(A,{title:"Start Your Quiz."},{default:y(()=>[t("div",N,[t("div",B,[t("div",Q,[t("h1",C,a(e.quiz.title),1),t("div",T,[t("span",null,a(_.value)+" questions",1),x.value?(n(),o("span",L)):d("",!0)])]),t("div",M,[t("div",P,[t("h2",V,"Instructions form "+a(e.organisation),1),t("div",{class:"mt-2 prose max-w-none text-gray-600",innerHTML:e.quiz.instructions||"No specific instructions provided."},null,8,I)]),t("div",$,[t("div",null,[s[0]||(s[0]=t("h3",{class:"text-md font-medium text-gray-900"},"Timing",-1)),t("ul",D,[t("li",Y,[r(c(S),{class:"h-5 w-5 mr-2 text-gray-400"}),l(" "+a(e.quiz.time_limit?`${e.quiz.time_limit} minutes`:"No time limit"),1)]),e.quiz.starts_at?(n(),o("li",j,[r(c(v),{class:"h-5 w-5 mr-2 text-gray-400"}),l(" Available from: "+a(h(e.quiz.starts_at)),1)])):d("",!0),e.quiz.ends_at?(n(),o("li",H,[r(c(v),{class:"h-5 w-5 mr-2 text-gray-400"}),l(" Available until: "+a(h(e.quiz.ends_at)),1)])):d("",!0)])]),t("div",null,[s[1]||(s[1]=t("h3",{class:"text-md font-medium text-gray-900"},"Grading",-1)),t("ul",W,[t("li",E,[r(c(R),{class:"h-5 w-5 mr-2 text-gray-400"}),l(" Passing score: "+a(e.quiz.passing_score?`${e.quiz.passing_score}%`:"Not specified"),1)]),e.attemptsRemaining!==null?(n(),o("li",G,[r(g,{class:"h-5 w-5 mr-2 text-gray-400"}),l(" Attempts remaining: "+a(e.attemptsRemaining),1)])):d("",!0)])])]),e.isAuthenticated?e.isAssigned?e.attemptsRemaining!==null&&e.attemptsRemaining<=0?(n(),o("div",J,s[5]||(s[5]=[t("p",null,"You have no attempts remaining for this quiz",-1)]))):(n(),o("div",K,[t("button",{onClick:q,class:"btn btn-primary"}," Start Quiz ")])):(n(),o("div",F,s[4]||(s[4]=[t("p",null,"This quiz hasn't been assigned to you",-1),t("p",null,"Please contact your instructor for access",-1)]))):(n(),o("div",O,[s[3]||(s[3]=t("p",null,"You need to sign in to access this quiz",-1)),r(c(b),{href:u.route("login"),class:"btn btn-primary"},{default:y(()=>s[2]||(s[2]=[l(" Sign In ")])),_:1,__:[2]},8,["href"])]))])])])]),_:1})}}};export{st as default};
