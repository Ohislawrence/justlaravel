import{x as j,i as h,d as i,o as l,a as e,g as f,h as p,b as r,e as y,v as _,G as $,j as s,k as B,w as E,T as F,W as V}from"./app-Ba3QO07z.js";/* empty css                                                                  */import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as b}from"./InputError-Cqul_9-c.js";import{_ as g}from"./InputLabel-Chek1Wyb.js";import{_ as x}from"./TextInput-BN5ucXR0.js";const A={class:"p-6 bg-white border-b border-gray-200"},R={class:"max-w-3xl"},q={key:0,class:"mb-6"},z={class:"mt-2 flex items-center"},D={class:"mr-4"},L=["src","alt"],M={class:"mr-4"},W={class:"mb-6"},G={class:"mb-6"},O={key:0},Y={class:"text-sm mt-2 text-gray-600"},H={class:"mt-2 font-medium text-sm text-green-600"},J={class:"mb-6"},K={class:"flex items-center gap-4"},Q=["disabled"],X={key:0},Z={key:1},ee={key:0,class:"text-sm text-gray-600"},oe={__name:"UpdateProfileInformationForm",props:{user:Object},setup(u){const v=u,o=j({_method:"PUT",name:v.user.name,email:v.user.email,photo:null,idnumber:v.user.organizationMember.unique_code}),w=h(null),d=h(null),n=h(null),S=()=>{n.value&&(o.photo=n.value.files[0]),o.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>k()})},I=()=>{V.post(route("verification.send"),{},{onSuccess:()=>{w.value=!0}})},N=()=>{n.value.click()},U=()=>{const a=n.value.files[0];if(!a)return;const t=new FileReader;t.onload=m=>{d.value=m.target.result},t.readAsDataURL(a)},C=()=>{V.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{d.value=null,k()}})},k=()=>{var a;(a=n.value)!=null&&a.value&&(n.value.value=null)};return(a,t)=>{var m,P;return l(),i("div",A,[e("div",R,[t[4]||(t[4]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Profile Information",-1)),t[5]||(t[5]=e("p",{class:"text-gray-600 mb-6"},"Update your account's profile information and email address.",-1)),e("form",{onSubmit:f(S,["prevent"])},[(m=a.$page.props.jetstream)!=null&&m.managesProfilePhotos?(l(),i("div",q,[r(g,{for:"photo",value:"Photo",class:"mb-2"}),e("div",z,[y(e("div",D,[e("img",{src:u.user.profile_photo_url,alt:u.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,L)],512),[[_,!d.value]]),y(e("div",M,[e("span",{class:"block rounded-full h-20 w-20 bg-cover bg-no-repeat bg-center",style:$("background-image: url('"+d.value+"');")},null,4)],512),[[_,d.value]]),e("div",null,[e("input",{id:"photo",ref_key:"photoInput",ref:n,type:"file",class:"hidden",onChange:U},null,544),e("button",{type:"button",class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-25 transition ease-in-out duration-150",onClick:f(N,["prevent"])}," Select A New Photo "),u.user.profile_photo_path?(l(),i("button",{key:0,type:"button",class:"ml-2 inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-25 transition ease-in-out duration-150",onClick:f(C,["prevent"])}," Remove Photo ")):p("",!0)])]),r(b,{message:s(o).errors.photo,class:"mt-2"},null,8,["message"])])):p("",!0),e("div",W,[r(g,{for:"name",value:"Name",class:"mb-2"}),r(x,{id:"name",modelValue:s(o).name,"onUpdate:modelValue":t[0]||(t[0]=c=>s(o).name=c),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:"",autocomplete:"name"},null,8,["modelValue"]),r(b,{message:s(o).errors.name,class:"mt-2"},null,8,["message"])]),e("div",G,[r(g,{for:"email",value:"Email",class:"mb-2"}),r(x,{id:"email",modelValue:s(o).email,"onUpdate:modelValue":t[1]||(t[1]=c=>s(o).email=c),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",readonly:""},null,8,["modelValue"]),r(b,{message:s(o).errors.email,class:"mt-2"},null,8,["message"]),(P=a.$page.props.jetstream)!=null&&P.hasEmailVerification&&u.user.email_verified_at===null?(l(),i("div",O,[e("p",Y,[t[3]||(t[3]=B(" Your email address is unverified. ")),e("button",{type:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:f(I,["prevent"])}," Click here to re-send the verification email. ")]),y(e("div",H," A new verification link has been sent to your email address. ",512),[[_,w.value]])])):p("",!0)]),e("div",J,[r(g,{for:"idnumber",value:"Identification Number",class:"mb-2"}),r(x,{id:"idnumber",modelValue:s(o).idnumber,"onUpdate:modelValue":t[2]||(t[2]=c=>s(o).idnumber=c),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",readonly:""},null,8,["modelValue"]),r(b,{message:s(o).errors.idnumber,class:"mt-2"},null,8,["message"])]),e("div",K,[e("button",{type:"submit",disabled:s(o).processing,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition ease-in-out duration-150"},[s(o).processing?(l(),i("span",X,"Saving...")):(l(),i("span",Z,"Save"))],8,Q),r(F,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:E(()=>[s(o).recentlySuccessful?(l(),i("p",ee,"Saved.")):p("",!0)]),_:1})])],32)])])}}},le=T(oe,[["__scopeId","data-v-584ba6ce"]]);export{le as default};
