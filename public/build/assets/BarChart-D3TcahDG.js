import{C as c,r as p}from"./chart-DUfl3Dpl.js";import{_ as u}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{i as b,z as f,E as g,J as y,d as h,o as m,a as C}from"./app-D4wzVpQR.js";const _={class:"chart-container relative"},B={__name:"BarChart",props:{data:{type:Object,required:!0,validator:n=>Array.isArray(n.labels)&&Array.isArray(n.datasets)},options:{type:Object,default:()=>({responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}})},aspectRatio:{type:Number,default:2}},setup(n){c.register(...p);const t=n,l=b(null);let e=null;const i=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],d=()=>{if(!l.value)return;const o=t.data.datasets.map((a,r)=>({...a,backgroundColor:a.backgroundColor||i[r%i.length],borderColor:a.borderColor||"#FFFFFF",borderWidth:a.borderWidth||1,borderRadius:a.borderRadius||4,barPercentage:a.barPercentage||.8,categoryPercentage:a.categoryPercentage||.9})),s={labels:t.data.labels,datasets:o};e&&e.destroy(),e=new c(l.value,{type:"bar",data:s,options:{...t.options,aspectRatio:t.aspectRatio,plugins:{legend:{position:"top",labels:{boxWidth:12,padding:20}},tooltip:{enabled:!0,mode:"index",intersect:!1,callbacks:{label:function(a){let r=a.dataset.label||"";return r&&(r+=": "),a.parsed.y!==null&&(r+=a.parsed.y),r}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{drawBorder:!1},ticks:{precision:0}}},animation:{duration:800,easing:"easeOutQuart"},responsive:!0,maintainAspectRatio:!1}})};return f(()=>t.data,o=>{e&&(e.data.labels=o.labels,e.data.datasets=o.datasets.map((s,a)=>({...s,backgroundColor:s.backgroundColor||i[a%i.length]})),e.update())},{deep:!0}),g(()=>{d()}),y(()=>{e&&e.destroy()}),(o,s)=>(m(),h("div",_,[C("canvas",{ref_key:"chartCanvas",ref:l},null,512)]))}},A=u(B,[["__scopeId","data-v-13a61a9c"]]);export{A as B};
