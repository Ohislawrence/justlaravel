import{x as v,Q as w,c as k,o as n,w as u,a as e,g as A,e as m,d as l,h as y,n as f,j as i,F as N,l as S,t as r,y as _,b as z,k as C}from"./app-CZzrmgdQ.js";import{A as P}from"./AppLayout-DO-GNgXR.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"font-semibold text-xl text-gray-800 leading-tight"},B={class:"py-12"},j={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 bg-white border-b border-gray-200"},L={class:"mb-4"},M=["value"],Q={key:0,class:"text-red-500 text-xs italic"},D={class:"mb-4"},G={key:0,class:"text-red-500 text-xs italic"},O={class:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200"},U=["disabled"],Y={key:0},E={key:1},I={methods:{formatPrice(a){return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(a)}}},K=Object.assign(I,{__name:"Assign",props:{organization:Object,plans:Array},setup(a){var p,g,b;const c=a,o=v({plan_id:((g=(p=c.organization.active_subscription)==null?void 0:p.plan)==null?void 0:g.id)||"",billing_cycle:((b=c.organization.active_subscription)==null?void 0:b.billing_cycle)||"monthly"}),x=()=>{o.put(route("landlord.subscriptions.assign",c.organization.id))};return(d,t)=>{const h=w("Link");return n(),k(P,{title:`Assign Subscription - ${a.organization.name}`},{header:u(()=>[e("h2",V," Assign Subscription to "+r(a.organization.name),1)]),default:u(()=>[e("div",B,[e("div",j,[e("div",q,[e("div",F,[e("form",{onSubmit:A(x,["prevent"])},[e("div",L,[t[3]||(t[3]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"plan_id"}," Subscription Plan * ",-1)),m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>i(o).plan_id=s),class:f(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":i(o).errors.plan_id}]),id:"plan_id",required:""},[t[2]||(t[2]=e("option",{value:""},"Select a Plan",-1)),(n(!0),l(N,null,S(a.plans,s=>(n(),l("option",{key:s.id,value:s.id},r(s.name)+" - Monthly: "+r(d.formatPrice(s.monthly_price))+", Quarterly: "+r(d.formatPrice(s.quarterly_price))+", Yearly: "+r(d.formatPrice(s.yearly_price)),9,M))),128))],2),[[_,i(o).plan_id]]),i(o).errors.plan_id?(n(),l("p",Q,r(i(o).errors.plan_id),1)):y("",!0)]),e("div",D,[t[5]||(t[5]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"billing_cycle"}," Billing Cycle * ",-1)),m(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>i(o).billing_cycle=s),class:f(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":i(o).errors.billing_cycle}]),id:"billing_cycle",required:""},t[4]||(t[4]=[e("option",{value:"monthly"},"Monthly",-1),e("option",{value:"quarterly"},"Quarterly (10% discount)",-1),e("option",{value:"yearly"},"Yearly (20% discount)",-1)]),2),[[_,i(o).billing_cycle]]),i(o).errors.billing_cycle?(n(),l("p",G,r(i(o).errors.billing_cycle),1)):y("",!0)]),e("div",O,[z(h,{href:d.route("landlord.subscriptions.index"),class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},{default:u(()=>t[6]||(t[6]=[C(" Cancel ")])),_:1,__:[6]},8,["href"]),e("button",{type:"submit",class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",disabled:i(o).processing},[i(o).processing?(n(),l("span",Y,"Assigning...")):(n(),l("span",E,"Assign Subscription"))],8,U)])],32)])])])])]),_:1},8,["title"])}}});export{K as default};
