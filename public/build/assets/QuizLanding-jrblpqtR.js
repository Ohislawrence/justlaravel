import{d as a,o as n,a as t,f as u,c as B,w as p,t as o,k as r,b as l,j as d,h as m,S as Q,n as C,W as S}from"./app-QoN49EH_.js";import{P as D}from"./PublicLayout-Ez9jLf5V.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as b}from"./ClockIcon-BmQ-BG-4.js";import{r as y,a as _}from"./CheckCircleIcon-BtP7Z0kL.js";function T(s,i){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}const R={class:"py-12"},j={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},V={class:"px-6 py-5 sm:px-8 sm:py-6 border-b border-gray-200 bg-green-50"},$={class:"text-2xl sm:text-3xl font-bold text-gray-900"},E={class:"mt-2 flex flex-wrap items-center text-sm text-gray-600 gap-x-4 gap-y-1"},H={class:"flex items-center"},I={class:"px-6 py-5 sm:px-8 sm:py-6"},Y={class:"mb-8"},W={class:"text-lg font-semibold text-gray-900 mb-3"},G={class:"prose max-w-none text-gray-600 bg-gray-50 p-4 rounded-md border border-gray-200"},O=["innerHTML"],F={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},J={class:"bg-white p-4 rounded-md border border-gray-200 shadow-sm"},K={class:"text-md font-medium text-gray-900 flex items-center mb-3"},U={class:"space-y-2 text-sm text-gray-600"},X={class:"flex items-start"},Z={key:0,class:"flex items-start"},tt={class:"font-medium"},et={key:1,class:"flex items-start"},st={class:"font-medium"},it={class:"bg-white p-4 rounded-md border border-gray-200 shadow-sm"},nt={class:"text-md font-medium text-gray-900 flex items-center mb-3"},ot={class:"space-y-2 text-sm text-gray-600"},at={class:"flex items-start"},rt={class:"font-medium"},lt={key:0,class:"flex items-start"},dt={class:"font-medium"},ut={class:"flex flex-col items-center"},ct={key:0,class:"text-center mb-6"},mt={key:1,class:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 w-full max-w-md"},gt={key:2,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 w-full max-w-md"},xt={key:3,class:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 w-full max-w-md"},ft={class:"flex"},ht={class:"ml-3"},wt={class:"text-sm text-yellow-700"},vt={key:0},pt={key:1},bt={key:4,class:"mb-2"},yt=["disabled"],_t={__name:"QuizLanding",props:{quiz:Object,organisation:String,attemptsRemaining:[Number,null],isAuthenticated:Boolean,isAssigned:Boolean,remainingAttempt:Boolean},setup(s){const i=s,g=c=>new Date(c).toLocaleString(),z=()=>{S.post(route("examinee.start",i.quiz.id),{},{onSuccess:()=>{}})},k=u(()=>i.quiz.question_pools&&i.quiz.question_pools.length>0),q=u(()=>k.value?i.quiz.question_pools.reduce((c,e)=>{var v;const M=((v=e.pivot)==null?void 0:v.questions_to_show)??e.questions_count;return c+M},0):0),h=u(()=>i.quiz.questions.length+q.value),x=new Date,A=u(()=>i.quiz.starts_at&&new Date(i.quiz.starts_at)>x),L=u(()=>i.quiz.ends_at&&new Date(i.quiz.ends_at)<x),w=u(()=>i.quiz.starts_at&&new Date(i.quiz.starts_at)>x||i.quiz.ends_at&&new Date(i.quiz.ends_at)<x?!1:(i.remainingAttempt,!0)),f=u(()=>i.isAuthenticated&&i.isAssigned&&(i.attemptsRemaining===null||i.attemptsRemaining>0)&&w.value);return(c,e)=>(n(),B(D,{title:"Start Your Quiz"},{default:p(()=>[t("div",R,[t("div",j,[t("div",P,[t("div",V,[t("h1",$,o(s.quiz.title),1),t("div",E,[t("span",H,[e[0]||(e[0]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),r(" "+o(h.value)+" "+o(h.value===1?"question":"questions"),1)])])]),t("div",I,[t("div",Y,[t("h2",W,"Instructions from "+o(s.organisation),1),t("div",G,[t("div",{innerHTML:s.quiz.instructions||"<p class='text-gray-500 italic'>No specific instructions provided.</p>"},null,8,O)])]),t("div",F,[t("div",J,[t("h3",K,[l(d(b),{class:"h-5 w-5 mr-2 text-green-600"}),e[1]||(e[1]=t("span",{class:"font-medium text-green-700"},"Timing",-1))]),t("ul",U,[t("li",X,[l(d(b),{class:"h-4 w-4 mt-0.5 mr-2 text-gray-400 flex-shrink-0"}),t("span",null,o(s.quiz.time_limit?`${s.quiz.time_limit} minutes`:"No time limit"),1)]),s.quiz.starts_at?(n(),a("li",Z,[l(d(y),{class:"h-4 w-4 mt-0.5 mr-2 text-gray-400 flex-shrink-0"}),t("span",null,[e[2]||(e[2]=r("Available from: ")),t("span",tt,o(g(s.quiz.starts_at)),1)])])):m("",!0),s.quiz.ends_at?(n(),a("li",et,[l(d(y),{class:"h-4 w-4 mt-0.5 mr-2 text-gray-400 flex-shrink-0"}),t("span",null,[e[3]||(e[3]=r("Available until: ")),t("span",st,o(g(s.quiz.ends_at)),1)])])):m("",!0)])]),t("div",it,[t("h3",nt,[l(d(_),{class:"h-5 w-5 mr-2 text-green-600"}),e[4]||(e[4]=t("span",{class:"font-medium text-green-700"},"Grading",-1))]),t("ul",ot,[t("li",at,[l(d(_),{class:"h-4 w-4 mt-0.5 mr-2 text-gray-400 flex-shrink-0"}),t("span",null,[e[5]||(e[5]=r("Passing score: ")),t("span",rt,o(s.quiz.passing_score?`${s.quiz.passing_score}%`:"Not specified"),1)])]),s.attemptsRemaining!==null?(n(),a("li",lt,[l(d(T),{class:"h-4 w-4 mt-0.5 mr-2 text-gray-400 flex-shrink-0"}),t("span",null,[e[6]||(e[6]=r("Attempts remaining: ")),t("span",dt,o(s.attemptsRemaining),1)])])):m("",!0)])])]),t("div",ut,[s.isAuthenticated?s.isAssigned?s.attemptsRemaining!==null&&s.attemptsRemaining<=0?(n(),a("div",gt,e[10]||(e[10]=[t("div",{class:"flex"},[t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])]),t("div",{class:"ml-3"},[t("p",{class:"text-sm text-red-700"},[t("span",{class:"font-medium"},"No Attempts Left."),r(" You have no attempts remaining for this quiz. ")])])],-1)]))):w.value?(n(),a("div",bt,[t("button",{onClick:z,disabled:!f.value,class:C({"opacity-50 cursor-not-allowed":!f.value,"inline-flex items-center px-6 py-3 bg-green-600 border border-transparent rounded-md font-semibold text-base text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 transition ease-in-out duration-150":f.value})},e[13]||(e[13]=[r(" Start Quiz "),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),10,yt)])):(n(),a("div",xt,[t("div",ft,[e[12]||(e[12]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),t("div",ht,[t("p",wt,[e[11]||(e[11]=t("span",{class:"font-medium"},"Quiz Not Available.",-1)),A.value?(n(),a("span",vt,"This quiz will be available starting "+o(g(s.quiz.starts_at))+".",1)):m("",!0),L.value?(n(),a("span",pt,"This quiz was available until "+o(g(s.quiz.ends_at))+".",1)):m("",!0)])])])])):(n(),a("div",mt,e[9]||(e[9]=[t("div",{class:"flex"},[t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),t("div",{class:"ml-3"},[t("p",{class:"text-sm text-yellow-700"},[t("span",{class:"font-medium"},"Access Denied."),r(" This quiz hasn't been assigned to you. Please contact your instructor for access. ")])])],-1)]))):(n(),a("div",ct,[e[8]||(e[8]=t("p",{class:"text-gray-700 mb-4"},"You need to sign in to access this quiz.",-1)),l(d(Q),{href:c.route("login"),class:"inline-flex items-center px-5 py-2.5 bg-green-600 border border-transparent rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 transition ease-in-out duration-150"},{default:p(()=>e[7]||(e[7]=[r(" Sign In ")])),_:1,__:[7]},8,["href"])]))])])])])])]),_:1}))}},Mt=N(_t,[["__scopeId","data-v-73def9c4"]]);export{Mt as default};
