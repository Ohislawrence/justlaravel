import{f as b,x as z,c as h,o as n,w as g,a as r,g as A,d as m,h as E,b as i,j as s,e as f,q as _,F as x,l as V,t as w,n as S}from"./app-Ba3QO07z.js";import{A as G}from"./AppLayout-4TPH_oq1.js";import{_ as d}from"./InputError-Cqul_9-c.js";import{_ as u}from"./InputLabel-Chek1Wyb.js";import{_ as M}from"./PrimaryButton-Dk8AbubD.js";import{_ as c}from"./TextInput-BN5ucXR0.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const N={class:"font-semibold text-xl text-gray-800 leading-tight"},$={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-6 bg-white border-b border-gray-200"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T=["disabled"],F={key:0},L=["value"],O=["value"],P={class:"flex items-center justify-end mt-6"},R={key:0},H={key:1},J={__name:"Edit",props:{user:Object,groups:Array,quizzes:Array,roles:Array,designations:Array,organizationMember:Object,initialUserType:String,initialGroups:Array},setup(p){var v,y;const U=b(()=>{var l;return(l=t.user.roles)==null?void 0:l.some(o=>o.name==="examinee")}),t=p,k=b(()=>{var l;return((l=t.initialGroups)==null?void 0:l.length)>0?t.initialGroups[0].id:null}),e=z({name:t.user.name,email:t.user.email,user_type:t.initialUserType,group_id:k.value,unique_code:((v=t.organizationMember)==null?void 0:v.unique_code)||"",designation_id:((y=t.organizationMember)==null?void 0:y.designation_id)||null,quizzes:(t.user.assigned_quizzes||[]).map(l=>l.id),password:"",password_confirmation:""}),q=()=>{var l;e.put(route("examiner.user.update",{user:t.user.id,organization:(l=t.organizationMember)==null?void 0:l.organization_id}),{onSuccess:()=>e.reset("password","password_confirmation")})};return(l,o)=>(n(),h(G,{title:"Edit User"},{header:g(()=>[r("h2",N," Edit User: "+w(p.user.name),1)]),default:g(()=>[r("div",$,[r("div",j,[r("div",B,[r("div",D,[r("form",{onSubmit:A(q,["prevent"])},[r("div",I,[r("div",null,[i(u,{for:"name",value:"Name"}),i(c,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>s(e).name=a),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),i(d,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),r("div",null,[i(u,{for:"email",value:"Email"}),i(c,{id:"email",modelValue:s(e).email,"onUpdate:modelValue":o[1]||(o[1]=a=>s(e).email=a),type:"email",class:"mt-1 block w-full",required:"",readonly:!U.value},null,8,["modelValue","readonly"]),i(d,{class:"mt-2",message:s(e).errors.email},null,8,["message"])]),r("div",null,[i(u,{for:"user_type",value:"User Type"}),f(r("select",{"onUpdate:modelValue":o[2]||(o[2]=a=>s(e).user_type=a),class:"mt-1 block w-full border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm",disabled:p.user.id===l.$page.props.auth.user.id},o[8]||(o[8]=[r("option",{value:"examiner"},"Examiner",-1),r("option",{value:"instructor"},"Instructor",-1),r("option",{value:"examinee"},"Examinee",-1)]),8,T),[[_,s(e).user_type]]),i(d,{class:"mt-2",message:s(e).errors.user_type},null,8,["message"])]),s(e).user_type==="examinee"?(n(),m("div",F,[i(u,{for:"unique_code",value:"Unique Code"}),i(c,{id:"unique_code",modelValue:s(e).unique_code,"onUpdate:modelValue":o[3]||(o[3]=a=>s(e).unique_code=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),i(d,{class:"mt-2",message:s(e).errors.unique_code},null,8,["message"])])):E("",!0),r("div",null,[i(u,{for:"group_id",value:"Group"}),f(r("select",{"onUpdate:modelValue":o[4]||(o[4]=a=>s(e).group_id=a),class:"mt-1 block w-full border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm"},[o[9]||(o[9]=r("option",{value:""},"Select a Group",-1)),(n(!0),m(x,null,V(p.groups,a=>(n(),m("option",{value:a.id,key:a.id},w(a.name),9,L))),128))],512),[[_,s(e).group_id]]),i(d,{class:"mt-2",message:s(e).errors.group_id},null,8,["message"])]),r("div",null,[i(u,{for:"designation_id",value:"Designation"}),f(r("select",{"onUpdate:modelValue":o[5]||(o[5]=a=>s(e).designation_id=a),class:"mt-1 block w-full border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm"},[o[10]||(o[10]=r("option",{value:""},"Select Designation",-1)),(n(!0),m(x,null,V(p.designations,a=>(n(),m("option",{value:a.id,key:a.id},w(a.name),9,O))),128))],512),[[_,s(e).designation_id]]),i(d,{class:"mt-2",message:s(e).errors.designation_id},null,8,["message"])]),r("div",null,[i(u,{for:"password",value:"New Password"}),i(c,{id:"password",modelValue:s(e).password,"onUpdate:modelValue":o[6]||(o[6]=a=>s(e).password=a),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),i(d,{class:"mt-2",message:s(e).errors.password},null,8,["message"])]),r("div",null,[i(u,{for:"password_confirmation",value:"Confirm Password"}),i(c,{id:"password_confirmation",modelValue:s(e).password_confirmation,"onUpdate:modelValue":o[7]||(o[7]=a=>s(e).password_confirmation=a),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),i(d,{class:"mt-2",message:s(e).errors.password_confirmation},null,8,["message"])])]),r("div",P,[i(M,{class:S({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:g(()=>[s(e).processing?(n(),m("span",R,"Updating...")):(n(),m("span",H,"Update User"))]),_:1},8,["class","disabled"])])],32)])])])])]),_:1}))}},oe=C(J,[["__scopeId","data-v-11aca8d0"]]);export{oe as default};
