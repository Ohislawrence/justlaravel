import{A as C}from"./AppLayout-1-5X1ZUR.js";import{i as x,Q as A,d as r,o as n,a as e,c as q,h as w,e as z,y as M,F as h,l as b,t as l,W as k,w as v,b as y,k as _,j as Q,S as N}from"./app-CFKp1s14.js";import{F as B}from"./FeatureLimitModal-DyFhwKeK.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const V={class:"relative"},F=["value"],L={__name:"PoolSelector",props:{pools:Array,questionId:Number,showCreate:{type:Boolean,default:!0}},setup(c){const i=c,d=x(""),u=x(!1),p=()=>{d.value&&(k.post(route("pools.attach-question",{pool_id:d.value,question_id:i.questionId}),{preserveScroll:!0}),d.value="")},g=m=>{i.pools.push(m),d.value=m.id,p()};return(m,a)=>{const f=A("PoolCreateModal");return n(),r(h,null,[e("div",V,[z(e("select",{"onUpdate:modelValue":a[0]||(a[0]=t=>d.value=t),onChange:p,class:"block w-full p-2 border rounded"},[a[3]||(a[3]=e("option",{value:""},"Add to pool...",-1)),(n(!0),r(h,null,b(c.pools,t=>(n(),r("option",{key:t.id,value:t.id},l(t.name)+" ("+l(t.questions_count)+") ",9,F))),128))],544),[[M,d.value]]),c.showCreate&&d.value===""?(n(),r("button",{key:0,onClick:a[1]||(a[1]=t=>u.value=!0),class:"absolute right-0 top-0 p-2"}," + ")):w("",!0)]),u.value?(n(),q(f,{key:0,onClose:a[2]||(a[2]=t=>u.value=!1),onCreated:g})):w("",!0)],64)}}},j={class:"font-semibold text-xl text-gray-800 leading-tight"},S={class:"py-6"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-100"},D={class:"p-6 bg-white border-b border-gray-200"},H={class:"mb-8"},T={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},E={class:"flex justify-between"},U={class:"font-medium"},O={class:"text-sm text-gray-500"},W={class:"text-sm text-gray-600 mt-1"},Y={class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200"},G={class:"bg-white divide-y divide-gray-200"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"text-sm font-medium text-gray-900"},X={key:0,class:"text-sm text-gray-500"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},se={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},oe={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ne={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},re=["onClick"],ae={__name:"Index",props:{quiz:Object,questions:Array,pools:Array,availablePools:Array,questionsLimit:Number,currentQuestionsCount:Number},setup(c){const i=c;function d(t){return{multiple_choice:"Multiple Choice",true_false:"True/False",short_answer:"Short Answer",essay:"Essay",fill_in_blank:"Fill in Blank",matching:"Matching",ordering:"Ordering"}[t]||t}const u=x(!1),p=x(""),g=x("");function m(t,s){p.value=t,g.value=s,u.value=!0}function a(){if(!(i.currentQuestionsCount<i.questionsLimit)){m("Add Question","You have reached the question limit. Upgrade your plan to add more questions.");return}k.visit(route("examiner.quizzes.questions.create",i.quiz.id))}function f(t){confirm("Are you sure you want to delete this question?")&&k.delete(route("examiner.quizzes.questions.destroy",{quiz:i.quiz.id,question:t.id}))}return(t,s)=>(n(),q(C,{title:i.quiz.title},{header:v(()=>[e("h2",j," Questions for "+l(i.quiz.title),1)]),default:v(()=>[e("div",S,[e("div",$,[e("div",I,[e("div",D,[e("div",{class:"flex justify-between mb-6"},[s[2]||(s[2]=e("h3",{class:"text-lg font-medium"},"Manage Questions",-1)),e("button",{onClick:a,class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:ring focus:ring-green-300 disabled:opacity-25 transition"},s[1]||(s[1]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),_(" Add New Question ")]))]),e("div",H,[s[3]||(s[3]=e("h4",{class:"font-medium mb-2"},"Question Pools",-1)),e("div",T,[(n(!0),r(h,null,b(i.pools,o=>(n(),r("div",{key:o.id,class:"border rounded-lg p-4 hover:bg-gray-50 transition-all duration-200"},[e("div",E,[e("h5",U,l(o.name),1),e("span",O,l(o.questions_count)+" questions",1)]),e("p",W,l(o.description),1)]))),128))])]),e("div",Y,[e("table",R,[s[6]||(s[6]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Question"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Points"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Required"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pools"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",G,[(n(!0),r(h,null,b(i.questions,o=>(n(),r("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",J,[e("div",K,l(o.question),1),o.description?(n(),r("div",X,l(o.description),1)):w("",!0)]),e("td",Z,l(d(o.type)),1),e("td",ee,l(o.points),1),e("td",te,[o.is_required?(n(),r("span",se,"Yes")):(n(),r("span",oe,"No"))]),e("td",ie,[y(L,{pools:i.availablePools,"question-id":o.id},null,8,["pools","question-id"])]),e("td",ne,[y(Q(N),{href:t.route("examiner.quizzes.questions.edit",{quiz:i.quiz.id,question:o.id}),class:"inline-flex items-center text-green-600 hover:text-green-800 mr-3 transition-colors duration-150"},{default:v(()=>s[4]||(s[4]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),_(" Edit ")])),_:2,__:[4]},1032,["href"]),e("button",{onClick:le=>f(o),class:"inline-flex items-center text-red-600 hover:text-red-800 transition-colors duration-150"},s[5]||(s[5]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),_(" Delete ")]),8,re)])]))),128))])])])])])])]),y(B,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=o=>u.value=o),featureName:p.value,message:g.value},null,8,["modelValue","featureName","message"])]),_:1},8,["title"]))}},xe=P(ae,[["__scopeId","data-v-76dc0180"]]);export{xe as default};
