import{K as G,x as S,i as h,L as U,c as $,o as l,w as n,d,h as c,a as s,j as o,t as v,g as B,b as r,F as N,l as F,k as _,n as P}from"./app-Do1sSIaC.js";import{A as j}from"./AppLayout-DUw_ZWTf.js";import{_ as f}from"./InputError-BalbFUZ-.js";import{_ as u}from"./InputLabel-CoAPtlZS.js";import{_ as I}from"./PrimaryButton-Ch7jOFNf.js";import{_ as k}from"./TextInput-CbC0PeBd.js";import{_ as L}from"./Textarea-uqrTs8Yb.js";import{_ as w}from"./Checkbox-DtNwaiTW.js";import{_ as q}from"./SelectInput-M835gHNO.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const D={class:"flex items-center justify-between"},O={class:"flex items-center space-x-2"},Q={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4"},T={class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded"},E={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4"},K={class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},M={class:"py-8"},H={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},J={class:"bg-white shadow overflow-hidden sm:rounded-lg"},R={class:"px-4 py-5 sm:p-6"},W={class:"space-y-6"},X={class:"grid grid-cols-1 gap-4"},Y={key:0},Z=["value"],ee={class:"space-y-4"},se={class:"flex items-center"},te={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},oe={class:"mt-1 relative rounded-md shadow-sm"},re={class:"flex items-center"},ie={class:"flex justify-end pt-6 border-t border-gray-200"},le={__name:"Create",props:{organization:Object,parentGroups:Array},setup(g){const b=g,{flash:m}=G().props,t=S({name:"",description:"",price:null,is_active:!0,parent_id:null}),x=h(null),a=h(!1),V=()=>{t.post(route("examiner.quiz-groups.store"),{preserveScroll:!0,onSuccess:()=>{t.reset()}})},C=()=>{if(t.price){let p=t.price.toString().replace(/[^0-9.]/g,"");t.price=parseFloat(p).toFixed(2)}},z=()=>{a.value=!a.value,a.value&&x.value?x.value.focus():t.price=null};return(p,e)=>{const y=U("Link");return l(),$(j,{title:"Create Quiz Group"},{header:n(()=>[s("div",D,[e[7]||(e[7]=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create New Quiz Group ",-1)),s("div",O,[r(y,{href:p.route("examiner.quiz-groups.index",b.organization.id),class:"text-sm text-gray-600 hover:text-gray-900"},{default:n(()=>e[6]||(e[6]=[_(" Back to Groups ")])),_:1,__:[6]},8,["href"])])])]),default:n(()=>[o(m).success?(l(),d("div",Q,[s("div",T,v(o(m).success),1)])):c("",!0),o(m).error?(l(),d("div",E,[s("div",K,v(o(m).error),1)])):c("",!0),s("div",M,[s("div",H,[s("div",J,[s("div",R,[s("form",{onSubmit:B(V,["prevent"])},[s("div",W,[s("div",null,[e[9]||(e[9]=s("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"}," Basic Information ",-1)),s("div",X,[s("div",null,[r(u,{for:"name",value:"Group Name *"}),r(k,{id:"name",modelValue:o(t).name,"onUpdate:modelValue":e[0]||(e[0]=i=>o(t).name=i),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),r(f,{class:"mt-2",message:o(t).errors.name},null,8,["message"])]),s("div",null,[r(u,{for:"description",value:"Description"}),r(L,{id:"description",modelValue:o(t).description,"onUpdate:modelValue":e[1]||(e[1]=i=>o(t).description=i),class:"mt-1 block w-full",rows:"3"},null,8,["modelValue"]),r(f,{class:"mt-2",message:o(t).errors.description},null,8,["message"])]),g.parentGroups.length>0?(l(),d("div",Y,[r(u,{for:"parent_id",value:"Parent Group (optional)"}),r(q,{id:"parent_id",modelValue:o(t).parent_id,"onUpdate:modelValue":e[2]||(e[2]=i=>o(t).parent_id=i),class:"mt-1 block w-full"},{default:n(()=>[e[8]||(e[8]=s("option",{value:null},"No parent group",-1)),(l(!0),d(N,null,F(g.parentGroups,i=>(l(),d("option",{key:i.id,value:i.id},v(i.name),9,Z))),128))]),_:1,__:[8]},8,["modelValue"]),r(f,{class:"mt-2",message:o(t).errors.parent_id},null,8,["message"])])):c("",!0)])]),s("div",null,[e[13]||(e[13]=s("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"}," Pricing Options ",-1)),s("div",ee,[s("div",se,[r(w,{id:"has_price",checked:a.value,"onUpdate:checked":e[3]||(e[3]=i=>a.value=i),onChange:z},null,8,["checked"]),r(u,{for:"has_price",value:"This is a paid group",class:"ml-2"})]),a.value?(l(),d("div",te,[s("div",null,[r(u,{for:"price",value:"Price (USD)"}),s("div",oe,[e[10]||(e[10]=s("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[s("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),r(k,{ref_key:"priceInput",ref:x,id:"price",modelValue:o(t).price,"onUpdate:modelValue":e[4]||(e[4]=i=>o(t).price=i),type:"number",min:"0",step:"0.01",class:"block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",onBlur:C},null,8,["modelValue"]),e[11]||(e[11]=s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[s("span",{class:"text-gray-500 sm:text-sm"},"USD")],-1))]),e[12]||(e[12]=s("p",{class:"mt-1 text-sm text-gray-500"}," Set a price if this group contains premium content ",-1)),r(f,{class:"mt-2",message:o(t).errors.price},null,8,["message"])])])):c("",!0)])]),s("div",null,[e[14]||(e[14]=s("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"}," Status ",-1)),s("div",re,[r(w,{id:"is_active",checked:o(t).is_active,"onUpdate:checked":e[5]||(e[5]=i=>o(t).is_active=i)},null,8,["checked"]),r(u,{for:"is_active",value:"Active (visible to users)",class:"ml-2"})]),e[15]||(e[15]=s("p",{class:"mt-1 text-sm text-gray-500"}," Inactive groups won't be visible to students ",-1))]),s("div",ie,[r(y,{href:p.route("examiner.quiz-groups.index",b.organization.id),class:"px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:n(()=>e[16]||(e[16]=[_(" Cancel ")])),_:1,__:[16]},8,["href"]),r(I,{type:"submit",class:P(["ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",{"opacity-25":o(t).processing}]),disabled:o(t).processing},{default:n(()=>e[17]||(e[17]=[_(" Create Group ")])),_:1,__:[17]},8,["class","disabled"])])])],32)])])])])]),_:1})}}},_e=A(le,[["__scopeId","data-v-e9839f6b"]]);export{_e as default};
