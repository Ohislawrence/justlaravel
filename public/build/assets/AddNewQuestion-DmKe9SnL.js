import{A as I}from"./AppLayout-DUw_ZWTf.js";import{S as C,L as a,c as M,o as l,w as v,a as s,g as P,d as m,h as d,e as g,b as r,F as U,l as F,t as c,s as T,A as _,V as S,x as A}from"./app-Do1sSIaC.js";import{_ as B,a as L,b as Q,c as j,d as G,e as N,f as O}from"./OrderingEditor-Ym64U-gU.js";import{_ as z}from"./InputError-BalbFUZ-.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const R={components:{AppLayout:I,Link:C,MultipleChoiceEditor:O,TrueFalseEditor:N,ShortAnswerEditor:G,EssayEditor:j,FillInTheBlankEditor:Q,MatchingEditor:L,OrderingEditor:B,InputError:z},props:{pool:Object,questionTypes:Object,question:Object},data(){var u,e,f,p,o,i,n,b,y;return{form:A({type:((u=this.question)==null?void 0:u.type)||"multiple_choice",question:((e=this.question)==null?void 0:e.question)||"",description:((f=this.question)==null?void 0:f.description)||"",image:null,points:((p=this.question)==null?void 0:p.points)||1,time_limit:((o=this.question)==null?void 0:o.time_limit)||null,is_required:((i=this.question)==null?void 0:i.is_required)||!1,options:((n=this.question)==null?void 0:n.options)||null,correct_answers:((b=this.question)==null?void 0:b.correct_answers)||[],settings:{rubric:[],distractors:[]}}),imagePreview:((y=this.question)==null?void 0:y.image)||null,removeImage:!1}},computed:{editing(){return!!this.question}},methods:{handleImageChange(u){const e=u.target.files[0];if(e){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type)){alert("Please select a valid image file (JPEG, PNG, GIF, or WebP)"),u.target.value="";return}const p=5*1024*1024;if(e.size>p){alert("Image size must be less than 5MB"),u.target.value="";return}this.form.image=e;const o=new FileReader;o.onload=i=>{this.imagePreview=i.target.result},o.readAsDataURL(e),this.removeImage=!1}},removeCurrentImage(){this.form.image=null,this.imagePreview=null,this.removeImage=!0;const u=this.$refs.imageInput;u&&(u.value="")},submitForm(){this.removeImage&&this.editing&&(this.form.remove_image=!0),this.form.post(route("examiner.pools.questions.store",this.pool.id),{preserveScroll:!0,onSuccess:()=>{},onError:u=>{console.log("Validation errors:",u)}})},cancel(){this.$inertia.visit(route("examiner.pools.questions.create"))}}},J={class:"font-semibold text-xl text-gray-800 leading-tight"},W={class:"py-6"},H={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},K={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},X={class:"p-6 bg-white border-b border-gray-200"},Y={class:"grid grid-cols-1 gap-6"},Z=["value"],$={class:"mt-1"},ee={key:0,class:"mb-4"},oe={class:"relative inline-block"},se=["src"],te={class:"text-sm text-gray-500 mt-2"},re={class:"inline-flex items-center"},ie={key:0},le={key:1},ne={key:2},me={key:3},ue={key:4},de={key:5},ae={key:6},fe={key:7},ge={key:8},pe={key:9},ce={class:"flex justify-end"},be=["disabled"];function ye(u,e,f,p,o,i){const n=a("InputError"),b=a("MultipleChoiceEditor"),y=a("TrueFalseEditor"),h=a("ShortAnswerEditor"),w=a("EssayEditor"),k=a("FillInTheBlankEditor"),E=a("MatchingEditor"),V=a("OrderingEditor"),q=a("AppLayout");return l(),M(q,{title:"Add question"},{header:v(()=>[s("h2",J,c(i.editing?"Edit":"Create")+" Question for "+c(f.pool.name)+" Pool ",1)]),default:v(()=>[s("div",W,[s("div",H,[s("div",K,[s("div",X,[s("form",{onSubmit:e[16]||(e[16]=P((...t)=>i.submitForm&&i.submitForm(...t),["prevent"]))},[s("div",Y,[s("div",null,[e[17]||(e[17]=s("label",{class:"block text-sm font-medium text-gray-700"},"Question Type",-1)),g(s("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.type=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[(l(!0),m(U,null,F(f.questionTypes,(t,x)=>(l(),m("option",{key:x,value:x},c(t),9,Z))),128))],512),[[T,o.form.type]]),r(n,{message:o.form.errors.type,class:"mt-2"},null,8,["message"])]),s("div",null,[e[18]||(e[18]=s("label",{class:"block text-sm font-medium text-gray-700"},"Question Text",-1)),g(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.question=t),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,o.form.question]]),r(n,{message:o.form.errors.question,class:"mt-2"},null,8,["message"])]),s("div",null,[e[19]||(e[19]=s("label",{class:"block text-sm font-medium text-gray-700"},"Description (optional)",-1)),g(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.form.description=t),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,o.form.description]]),r(n,{message:o.form.errors.description,class:"mt-2"},null,8,["message"])]),s("div",null,[e[22]||(e[22]=s("label",{class:"block text-sm font-medium text-gray-700"},"Question Image (optional)",-1)),s("div",$,[o.imagePreview?(l(),m("div",ee,[s("div",oe,[s("img",{src:o.imagePreview,alt:"Question image",class:"max-w-xs max-h-48 rounded-lg border border-gray-300"},null,8,se),s("button",{type:"button",onClick:e[3]||(e[3]=(...t)=>i.removeCurrentImage&&i.removeCurrentImage(...t)),class:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500"},e[20]||(e[20]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("p",te,c(i.editing&&!o.form.image?"Current image":"Preview"),1)])):d("",!0),s("input",{ref:"imageInput",type:"file",accept:"image/*",onChange:e[4]||(e[4]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,544),e[21]||(e[21]=s("p",{class:"text-xs text-gray-500 mt-1"}," Supported formats: JPEG, PNG, GIF, WebP. Maximum size: 5MB. ",-1))]),r(n,{message:o.form.errors.image,class:"mt-2"},null,8,["message"])]),s("div",null,[e[23]||(e[23]=s("label",{class:"block text-sm font-medium text-gray-700"},"Points",-1)),g(s("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.form.points=t),type:"number",min:"0",step:"0.5",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,o.form.points]]),r(n,{message:o.form.errors.points,class:"mt-2"},null,8,["message"])]),s("div",null,[e[24]||(e[24]=s("label",{class:"block text-sm font-medium text-gray-700"},"Time Limit (seconds, optional)",-1)),g(s("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.form.time_limit=t),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,o.form.time_limit]]),r(n,{message:o.form.errors.time_limit,class:"mt-2"},null,8,["message"])]),s("div",null,[s("label",re,[g(s("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.form.is_required=t),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[S,o.form.is_required]]),e[25]||(e[25]=s("span",{class:"ml-2 text-sm text-gray-600"},"Required Question",-1))]),r(n,{message:o.form.errors.is_required,class:"mt-2"},null,8,["message"])]),o.form.type==="multiple_choice"?(l(),m("div",ie,[r(b,{modelValue:o.form,"onUpdate:modelValue":e[8]||(e[8]=t=>o.form=t)},null,8,["modelValue"])])):d("",!0),o.form.type==="true_false"?(l(),m("div",le,[r(y,{modelValue:o.form,"onUpdate:modelValue":e[9]||(e[9]=t=>o.form=t)},null,8,["modelValue"])])):d("",!0),o.form.type==="short_answer"?(l(),m("div",ne,[r(h,{modelValue:o.form,"onUpdate:modelValue":e[10]||(e[10]=t=>o.form=t)},null,8,["modelValue"])])):d("",!0),o.form.type==="essay"?(l(),m("div",me,[r(w,{modelValue:o.form,"onUpdate:modelValue":e[11]||(e[11]=t=>o.form=t)},null,8,["modelValue"])])):d("",!0),o.form.type==="fill_in_the_blank"?(l(),m("div",ue,[r(k,{modelValue:o.form,"onUpdate:modelValue":e[12]||(e[12]=t=>o.form=t)},null,8,["modelValue"])])):d("",!0),o.form.type==="matching"?(l(),m("div",de,[r(E,{modelValue:o.form,"onUpdate:modelValue":e[13]||(e[13]=t=>o.form=t)},null,8,["modelValue"])])):d("",!0),o.form.type==="ordering"?(l(),m("div",ae,[r(V,{modelValue:o.form,"onUpdate:modelValue":e[14]||(e[14]=t=>o.form=t)},null,8,["modelValue"])])):d("",!0),o.form.errors.options?(l(),m("div",fe,[r(n,{message:o.form.errors.options,class:"mt-2"},null,8,["message"])])):d("",!0),o.form.errors.correct_answers?(l(),m("div",ge,[r(n,{message:o.form.errors.correct_answers,class:"mt-2"},null,8,["message"])])):d("",!0),o.form.errors.settings?(l(),m("div",pe,[r(n,{message:o.form.errors.settings,class:"mt-2"},null,8,["message"])])):d("",!0),s("div",ce,[s("button",{type:"button",onClick:e[15]||(e[15]=(...t)=>i.cancel&&i.cancel(...t)),class:"mr-3 inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),s("button",{type:"submit",disabled:o.form.processing,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 active:bg-blue-900 focus:outline-none focus:border-blue-900 focus:ring focus:ring-blue-300 disabled:opacity-25 transition"},c(i.editing?"Update":"Create")+" Question ",9,be)])])],32)])])])])]),_:1})}const Ee=D(R,[["render",ye]]);export{Ee as default};
