import{A as M}from"./AppLayout-CMm9B8wa.js";import{P as $,i as x,f as i,d as l,o as n,a as e,h as p,t as r,k as g,F as C,l as P,e as z,q as D,n as b,W as V,c as w,w as k}from"./app-BL-VfoCG.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const F={class:"p-6"},A={class:"flex justify-between items-start"},E={class:"text-2xl font-bold text-gray-900"},I={key:0,class:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full self-center font-medium"},N={class:"mt-6"},O={class:"text-center"},T={key:0},W={key:1},H={class:"text-4xl font-bold text-green-700"},Q={class:"text-gray-600 ml-1"},R={key:0,class:"text-center text-sm text-green-600 mt-2 font-medium"},U={class:"inline-flex items-center"},Y={class:"mt-6"},G={class:"space-y-3"},J={class:"ml-3"},K={class:"text-gray-700 block"},X={class:"font-semibold text-gray-900"},Z={class:"text-gray-600"},ee={class:"mt-8 space-y-4"},te={key:0,class:"mt-4"},se=["disabled"],ne={value:"monthly",class:"py-2"},le={key:0,value:"quarterly",class:"py-2"},re={key:1,value:"yearly",class:"py-2"},oe=["disabled"],ae={key:0,class:"flex items-center justify-center"},ie={key:1,class:"flex items-center justify-center"},ce={key:0,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ue={__name:"PlanCard",props:{plan:{type:Object,required:!0},currentSubscription:{type:Object,default:null}},setup(o){$();const c=x(!1),t=o,u=x("monthly"),y=i(()=>t.plan.monthly_price?t.plan.monthly_price.toLocaleString():"0"),_=i(()=>t.plan.quarterly_price?t.plan.quarterly_price.toLocaleString():"0"),v=i(()=>t.plan.yearly_price?t.plan.yearly_price.toLocaleString():"0"),q=i(()=>{if(!t.plan.yearly_price||t.plan.monthly_price<=0)return 0;const d=t.plan.monthly_price*12,s=(d-t.plan.yearly_price)/d*100;return Math.round(s)}),a=i(()=>{var d;return((d=t.currentSubscription)==null?void 0:d.plan_id)===t.plan.id}),m=i(()=>t.plan.monthly_price==0&&t.plan.quarterly_price==0&&t.plan.yearly_price==0),j=i(()=>{switch(u.value){case"quarterly":return"quarter";case"yearly":return"year";default:return"month"}}),B=i(()=>[t.plan.monthly_price,t.plan.quarterly_price,t.plan.yearly_price].filter(s=>s!=null&&s>0).length>1),L=()=>{c.value||a.value||(c.value=!0,V.post(route("examiner.subscribe"),{plan_id:t.plan.id,billing_cycle:u.value},{onFinish:()=>{c.value=!1}}))};return(d,s)=>(n(),l("div",{class:b(["bg-white rounded-lg shadow-md overflow-hidden border",{"border-green-500 ring-2 ring-green-200":a.value}])},[e("div",F,[e("div",A,[e("h3",E,r(o.plan.name),1),a.value?(n(),l("span",I," Current Plan ")):p("",!0)]),e("div",N,[e("div",O,[m.value?(n(),l("div",T,s[1]||(s[1]=[e("span",{class:"text-4xl font-bold text-green-700"},"FREE",-1)]))):(n(),l("div",W,[e("span",H," ₦"+r(u.value==="yearly"?v.value:u.value==="quarterly"?_.value:y.value),1),e("span",Q,"/"+r(j.value),1)]))]),o.plan.yearly_price&&!m.value?(n(),l("div",R,[e("span",U,[s[2]||(s[2]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),g(" Save "+r(q.value)+"% with yearly billing ",1)])])):p("",!0)]),e("div",Y,[e("ul",G,[(n(!0),l(C,null,P(o.plan.features,(h,f)=>(n(),l("li",{key:f,class:"flex items-start"},[s[3]||(s[3]=e("div",{class:"flex-shrink-0 mt-1"},[e("svg",{class:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e("div",J,[e("span",K,[e("span",X,r(f),1),e("span",Z,": "+r(h),1)])])]))),128))])]),e("div",ee,[!m.value&&B.value?(n(),l("div",te,[s[4]||(s[4]=e("label",{for:"billing-cycle",class:"block text-sm font-medium text-gray-700 mb-2"},"Billing Cycle",-1)),z(e("select",{id:"billing-cycle","onUpdate:modelValue":s[0]||(s[0]=h=>u.value=h),disabled:a.value,class:"w-full border border-green-300 rounded-lg p-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:border-green-500 bg-white transition-all duration-200"},[e("option",ne,"Monthly (₦"+r(y.value)+")",1),o.plan.quarterly_price?(n(),l("option",le," Quarterly (₦"+r(_.value)+") ",1)):p("",!0),o.plan.yearly_price?(n(),l("option",re," Yearly (₦"+r(v.value)+") ",1)):p("",!0)],8,se),[[D,u.value]])])):p("",!0),e("button",{onClick:L,class:b(["w-full py-3 px-4 rounded-lg font-semibold transition-all duration-200 transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",{"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-lg hover:shadow-xl":!a.value,"bg-gray-100 text-gray-400 cursor-not-allowed":a.value}]),disabled:a.value||c.value},[c.value?(n(),l("span",ae,s[5]||(s[5]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),g(" Processing... ")]))):(n(),l("span",ie,[a.value?(n(),l("svg",ce,s[6]||(s[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):p("",!0),g(" "+r(a.value?"Current Plan":"Subscribe Now"),1)]))],10,oe)])])],2))}},de=S(ue,[["__scopeId","data-v-a0f944a5"]]),pe={class:"flex justify-between items-center"},ye={key:0,class:"text-sm text-green-600"},_e={key:0},ve={key:1},ge={class:"py-12"},me={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},he={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},fe={__name:"Index",props:{plans:Array,organization:Object},setup(o){const c=o,t=i(()=>c.organization.active_subscription||c.organization.current_subscription),u=y=>new Date(y).toLocaleDateString();return(y,_)=>(n(),w(M,{title:"Subscription Plans"},{header:k(()=>[e("div",pe,[_[0]||(_[0]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Choose a Subscription Plan ",-1)),t.value?(n(),l("div",ye,[g(" Current Plan: "+r(t.value.plan.name)+" ",1),t.value.plan.slug!=="free-tier"?(n(),l("span",_e," (Expires "+r(u(t.value.ends_at))+") ",1)):(n(),l("span",ve,"(Limited)"))])):p("",!0)])]),default:k(()=>[e("div",ge,[e("div",me,[e("div",he,[(n(!0),l(C,null,P(o.plans,v=>(n(),w(de,{key:v.id,plan:v,"current-subscription":t.value},null,8,["plan","current-subscription"]))),128))])])])]),_:1}))}},Ce=S(fe,[["__scopeId","data-v-0ddbfd04"]]);export{Ce as default};
