import{x as N,f as D,m as P,c as C,o as n,w as v,a as o,g as $,b as l,j as s,d as u,h as g,F as q,l as b,t as m,e as Q,q as R,k as z,n as j}from"./app-CLWqkp7k.js";import{A as B}from"./AppLayout-aGET_Cal.js";import{_ as d}from"./InputError-BQMT2mue.js";import{_ as r}from"./InputLabel-8lkTC4sl.js";import{_ as f}from"./TextInput-DVJYQVFM.js";import{_ as I}from"./Textarea-DaxvEXll.js";import{_ as c}from"./Checkbox-BnKLohVu.js";import{_ as k}from"./SelectInput-Bj5l8iuS.js";import{_ as S}from"./DateTimePicker-C-FiFB7y.js";import{R as T}from"./RichtextEditorNormal-D4XP-Agg.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */import"./format-3b8xIHeq.js";const G={class:"flex justify-between items-center"},L={class:"font-semibold text-xl text-gray-800 leading-tight"},F={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"bg-white shadow-sm sm:rounded-lg"},Y={class:"p-6 bg-white border-b border-gray-200"},H={class:"grid grid-cols-1 gap-6"},J={class:"space-y-6"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},X=["value","selected"],Z=["value","selected"],ee={key:0},se={class:"space-y-6"},te={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ie={class:"flex items-center"},le={class:"flex items-center"},oe={class:"flex items-center"},ae={class:"flex items-center"},re={class:"flex items-center"},ne={class:"flex items-center"},de={class:"flex items-center"},ue={class:"mb-4"},me={class:"flex items-center"},ce={key:0,class:"space-y-2 pt-4 mt-1"},_e={class:"flex items-center"},pe={key:0,class:"ml-6 space-y-3"},ge={class:"space-y-6"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ve={key:0},ye={key:1},qe={class:"space-y-6"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ke={class:"relative"},xe={class:"relative"},ze={class:"space-y-6"},he=["value","selected"],we={key:0,class:"mt-3 p-3 bg-green-50 rounded"},Ve={class:"font-medium"},Ue={class:"mt-2"},Se={key:0},Te={key:1},Ee={key:0,class:"text-sm text-gray-500"},Ae={class:"space-y-6"},Ne={class:"card mt-4"},De={class:"card-body"},Pe={class:"form-check form-switch mb-3"},Ce={key:0,class:"mt-3"},$e={class:"mb-3"},Qe=["value","selected"],Re={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},je={class:"flex items-center justify-end mt-6"},Be=["disabled"],Ie={__name:"Edit",props:{quiz:Object,quizTypes:Object,industries:Object,certificateTemplates:{type:Array,default:()=>[]},gradingSystems:{type:Array,default:()=>[]}},setup(p){var h,w,V,U;const a=p,e=N({title:a.quiz.title,description:a.quiz.description||"",instructions:a.quiz.instructions,grading_system_id:a.quiz.grading_system_id||null,quiz_type:a.quiz.quiz_type,industry:a.quiz.industry||"",is_published:a.quiz.is_published,is_public:a.quiz.is_public,require_guest_info:a.quiz.require_guest_info,guest_info_required:a.quiz.guest_info_required,is_proctored:a.quiz.is_proctored,randomize_questions:a.quiz.randomize_questions,randomize_answers:a.quiz.randomize_answers,show_correct_answers:a.quiz.show_correct_answers,show_leaderboard:a.quiz.show_leaderboard,enable_discussions:a.quiz.enable_discussions,max_attempts:a.quiz.max_attempts,max_participants:a.quiz.max_participants,time_limit:a.quiz.time_limit,passing_score:a.quiz.passing_score,starts_at:a.quiz.starts_at||null,ends_at:a.quiz.ends_at||null,settings:a.quiz.settings,survey_thank_you_message:a.quiz.survey_thank_you_message,enable_certificates:a.quiz.enable_certificates||!1,certificate_template_id:a.quiz.certificate_template_id||null,certificate_pass_percentage:a.quiz.certificate_pass_percentage,certificate_expiry_days:a.quiz.certificate_expiry_days,settings:{show_scores:((h=a.quiz.settings)==null?void 0:h.show_scores)||!1,review_questions:((w=a.quiz.settings)==null?void 0:w.review_questions)||!1,per_question_timing:((V=a.quiz.settings)==null?void 0:V.per_question_timing)||!1,default_time_per_question:(U=a.quiz.settings)==null?void 0:U.default_time_per_question}}),E=()=>{e.put(route("examiner.quizzes.update",a.quiz.id))},y=D(()=>e.grading_system_id?a.gradingSystems.find(x=>x.id==e.grading_system_id):null);return(x,t)=>{const A=P("Link");return n(),C(B,{title:`Edit ${p.quiz.title}`},{header:v(()=>[o("div",G,[o("h2",L," Edit Quiz: "+m(p.quiz.title),1),l(A,{href:x.route("examiner.quizzes.show",p.quiz.id),class:"text-sm text-gray-600 hover:text-gray-900"},{default:v(()=>t[28]||(t[28]=[z(" Back to Quiz ")])),_:1,__:[28]},8,["href"])])]),default:v(()=>[o("div",F,[o("div",O,[o("div",W,[o("div",Y,[o("form",{onSubmit:$(E,["prevent"])},[o("div",H,[o("div",J,[t[30]||(t[30]=o("h3",{class:"text-lg font-medium"},"Basic Information",-1)),o("div",null,[l(r,{for:"title",value:"Quiz Title *"}),l(f,{id:"title",modelValue:s(e).title,"onUpdate:modelValue":t[0]||(t[0]=i=>s(e).title=i),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.title},null,8,["message"])]),o("div",null,[l(r,{for:"description",value:"Description"}),l(T,{id:"description",modelValue:s(e).description,"onUpdate:modelValue":t[1]||(t[1]=i=>s(e).description=i),error:s(e).errors.description,content:s(e).description,class:"mt-1 block w-full"},null,8,["modelValue","error","content"]),l(d,{class:"mt-2",message:s(e).errors.description},null,8,["message"])]),o("div",null,[l(r,{for:"instructions",value:"Instructions"}),l(T,{id:"instructions",modelValue:s(e).instructions,"onUpdate:modelValue":t[2]||(t[2]=i=>s(e).instructions=i),content:s(e).instructions,error:s(e).errors.instructions,class:"mt-1 block w-full"},null,8,["modelValue","content","error"]),l(d,{class:"mt-2",message:s(e).errors.instructions},null,8,["message"])]),o("div",K,[o("div",null,[l(r,{for:"quiz_type",value:"Quiz Type *"}),l(k,{id:"quiz_type",modelValue:s(e).quiz_type,"onUpdate:modelValue":t[3]||(t[3]=i=>s(e).quiz_type=i),class:"mt-1 block w-full",required:""},{default:v(()=>[(n(!0),u(q,null,b(p.quizTypes,(i,_)=>(n(),u("option",{key:_,value:_,selected:s(e).quiz_type===_},m(i),9,X))),128))]),_:1},8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.quiz_type},null,8,["message"])]),o("div",null,[l(r,{for:"industry",value:"Industry"}),l(k,{id:"industry",modelValue:s(e).industry,"onUpdate:modelValue":t[4]||(t[4]=i=>s(e).industry=i),class:"mt-1 block w-full"},{default:v(()=>[t[29]||(t[29]=o("option",{value:null},"Select Industry",-1)),(n(!0),u(q,null,b(p.industries,(i,_)=>(n(),u("option",{key:_,value:_,selected:s(e).industry===_},m(i),9,Z))),128))]),_:1,__:[29]},8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.industry},null,8,["message"])]),s(e).quiz_type==="survey"?(n(),u("div",ee,[l(r,{for:"survey_thank_you_message",value:"Survey Thank You Message"}),l(I,{id:"survey_thank_you_message",modelValue:s(e).survey_thank_you_message,"onUpdate:modelValue":t[5]||(t[5]=i=>s(e).survey_thank_you_message=i),class:"mt-1 block w-full",rows:"3",placeholder:"Thank you for completing our survey!"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.survey_thank_you_message},null,8,["message"])])):g("",!0)])]),o("div",se,[t[31]||(t[31]=o("h3",{class:"text-lg font-medium"},"Quiz Settings",-1)),o("div",te,[o("div",ie,[l(c,{id:"is_published",checked:s(e).is_published,"onUpdate:checked":t[6]||(t[6]=i=>s(e).is_published=i)},null,8,["checked"]),l(r,{for:"is_published",value:"Publish",class:"ml-2"})]),o("div",le,[l(c,{id:"is_proctored",checked:s(e).is_proctored,"onUpdate:checked":t[7]||(t[7]=i=>s(e).is_proctored=i)},null,8,["checked"]),l(r,{for:"is_proctored",value:"Use Proctor",class:"ml-2"})]),o("div",oe,[l(c,{id:"randomize_questions",checked:s(e).randomize_questions,"onUpdate:checked":t[8]||(t[8]=i=>s(e).randomize_questions=i)},null,8,["checked"]),l(r,{for:"randomize_questions",value:"Randomize Questions",class:"ml-2"})]),o("div",ae,[l(c,{id:"randomize_answers",checked:s(e).randomize_answers,"onUpdate:checked":t[9]||(t[9]=i=>s(e).randomize_answers=i)},null,8,["checked"]),l(r,{for:"randomize_answers",value:"Randomize Answers",class:"ml-2"})]),o("div",re,[l(c,{id:"show_scores",checked:s(e).settings.show_scores,"onUpdate:checked":t[10]||(t[10]=i=>s(e).settings.show_scores=i)},null,8,["checked"]),l(r,{for:"show_scores",value:"Show scores summary when done",class:"ml-2"})]),o("div",ne,[l(c,{id:"review_questions",checked:s(e).settings.review_questions,"onUpdate:checked":t[11]||(t[11]=i=>s(e).settings.review_questions=i)},null,8,["checked"]),l(r,{for:"review_questions",value:"Show questions & answers when done",class:"ml-2"})]),o("div",de,[l(c,{id:"per_question_timing",checked:s(e).settings.per_question_timing,"onUpdate:checked":t[12]||(t[12]=i=>s(e).settings.per_question_timing=i)},null,8,["checked"]),l(r,{for:"per_question_timing",value:"Timed per question",class:"ml-2"})])])]),o("div",ue,[o("div",me,[l(c,{id:"is_public",checked:s(e).is_public,"onUpdate:checked":t[13]||(t[13]=i=>s(e).is_public=i)},null,8,["checked"]),l(r,{for:"is_public",value:"Make this quiz public (allow guests without accounts)",class:"ml-2"})]),l(d,{message:s(e).errors.is_public,class:"mt-2"},null,8,["message"]),s(e).is_public?(n(),u("div",ce,[o("div",_e,[l(c,{id:"require_guest_info",checked:s(e).require_guest_info,"onUpdate:checked":t[14]||(t[14]=i=>s(e).require_guest_info=i)},null,8,["checked"]),l(r,{for:"require_guest_info",value:"Require guest information",class:"ml-2"})]),l(d,{message:s(e).errors.require_guest_info,class:"mt-2"},null,8,["message"]),s(e).require_guest_info?(n(),u("div",pe,[o("div",null,[l(r,{for:"guest_info_required",value:"What information should guests provide?"}),Q(o("select",{id:"guest_info_required","onUpdate:modelValue":t[15]||(t[15]=i=>s(e).guest_info_required=i),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},t[32]||(t[32]=[o("option",{value:"none"},"No information required",-1),o("option",{value:"name"},"Name only",-1),o("option",{value:"email"},"Email only",-1),o("option",{value:"both"},"Name and Email",-1)]),512),[[R,s(e).guest_info_required]]),l(d,{message:s(e).errors.guest_info_required,class:"mt-2"},null,8,["message"]),t[33]||(t[33]=o("div",{class:"bg-blue-50 border border-blue-200 rounded-md p-3 mt-3"},[o("p",{class:"text-sm text-blue-800"},[o("strong",null,"Note:"),z(" Guests will be asked to provide this information before starting the quiz. ")])],-1))])])):g("",!0)])):g("",!0)]),o("div",ge,[t[36]||(t[36]=o("h3",{class:"text-lg font-medium"},"Access Restrictions",-1)),o("div",fe,[o("div",null,[l(r,{for:"max_attempts",value:"Max Attempts (0 for unlimited)"}),l(f,{id:"max_attempts",modelValue:s(e).max_attempts,"onUpdate:modelValue":t[16]||(t[16]=i=>s(e).max_attempts=i),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.max_attempts},null,8,["message"])]),o("div",null,[l(r,{for:"max_participants",value:"Max Participants (0 for unlimited)"}),l(f,{id:"max_participants",modelValue:s(e).max_participants,"onUpdate:modelValue":t[17]||(t[17]=i=>s(e).max_participants=i),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.max_participants},null,8,["message"])]),s(e).settings.per_question_timing?(n(),u("div",ve,[l(r,{for:"time_per_question",value:"Default Time per question (seconds)"}),l(f,{modelValue:s(e).settings.default_time_per_question,"onUpdate:modelValue":t[18]||(t[18]=i=>s(e).settings.default_time_per_question=i),type:"number",id:"default_time_per_question",min:"5",max:"300",class:"mt-1 block w-full",placeholder:"60"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors["settings.default_time_per_question"]},null,8,["message"]),t[34]||(t[34]=o("p",{class:"text-xs text-gray-500 mt-1"}," Each question will have a countdown timer. If a question does not have it own time, this will be used. Previous button is disabled. ",-1))])):(n(),u("div",ye,[l(r,{for:"time_limit",value:"Time Limit (minutes)"}),l(f,{id:"time_limit",modelValue:s(e).time_limit,"onUpdate:modelValue":t[19]||(t[19]=i=>s(e).time_limit=i),type:"number",min:"1",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.time_limit},null,8,["message"]),t[35]||(t[35]=o("p",{class:"text-xs text-gray-500 mt-1"}," Previous button is enabled. ",-1))])),o("div",null,[l(r,{for:"passing_score",value:"Passing Score (%)"}),l(f,{id:"passing_score",modelValue:s(e).passing_score,"onUpdate:modelValue":t[20]||(t[20]=i=>s(e).passing_score=i),type:"number",min:"0",max:"100",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.passing_score},null,8,["message"])])])]),o("div",qe,[t[37]||(t[37]=o("h3",{class:"text-lg font-medium"},"Schedule",-1)),o("div",be,[o("div",ke,[l(r,{for:"starts_at",value:"Start Date & Time"}),l(S,{id:"starts_at",modelValue:s(e).starts_at,"onUpdate:modelValue":t[21]||(t[21]=i=>s(e).starts_at=i),timezone:"UTC",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.starts_at},null,8,["message"])]),o("div",xe,[l(r,{for:"ends_at",value:"End Date & Time"}),l(S,{id:"ends_at",modelValue:s(e).ends_at,"onUpdate:modelValue":t[22]||(t[22]=i=>s(e).ends_at=i),timezone:"UTC",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.ends_at},null,8,["message"])])])]),o("div",ze,[t[39]||(t[39]=o("h3",{class:"text-lg font-medium"},"Grading System",-1)),o("div",null,[l(r,{for:"grading_system_id",value:"Select Grading System"}),l(k,{id:"grading_system_id",modelValue:s(e).grading_system_id,"onUpdate:modelValue":t[23]||(t[23]=i=>s(e).grading_system_id=i),class:"mt-1 block w-full"},{default:v(()=>[t[38]||(t[38]=o("option",{value:null},"Default (Pass/Fail)",-1)),(n(!0),u(q,null,b(p.gradingSystems,i=>(n(),u("option",{key:i.id,value:i.id,selected:s(e).grading_system_id==i.id},m(i.name)+" ("+m(i.type)+") ",9,he))),128))]),_:1,__:[38]},8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.grading_system_id},null,8,["message"]),y.value?(n(),u("div",we,[o("h4",Ve,m(y.value.name)+" Grade Ranges:",1),o("div",Ue,[(n(!0),u(q,null,b(Array.isArray(y.value.grade_ranges)?y.value.grade_ranges:[],(i,_)=>(n(),u("div",{key:_,class:"text-sm"},[z(m(i.min)+"% - "+m(i.max)+"%: "+m(i.grade)+" ",1),i.points?(n(),u("span",Se,"("+m(i.points)+" points)",1)):g("",!0),i.interpretation?(n(),u("span",Te,"- "+m(i.interpretation),1)):g("",!0)]))),128)),!Array.isArray(y.value.grade_ranges)||y.value.grade_ranges.length===0?(n(),u("div",Ee," No grade ranges defined for this system. ")):g("",!0)])])):g("",!0)])]),o("div",Ae,[t[41]||(t[41]=o("h3",{class:"text-lg font-medium"},"Certificate Settings",-1)),o("div",Ne,[o("div",De,[o("div",Pe,[l(c,{id:"enable_certificates",checked:s(e).enable_certificates,"onUpdate:checked":t[24]||(t[24]=i=>s(e).enable_certificates=i)},null,8,["checked"]),l(r,{for:"enable_certificates",value:"Enable certificates for this quiz",class:"ml-2"}),l(d,{class:"mt-2",message:s(e).errors.enable_certificates},null,8,["message"])]),s(e).enable_certificates?(n(),u("div",Ce,[o("div",$e,[l(r,{for:"certificate_template_id",value:"Certificate Template"}),l(k,{id:"certificate_template_id",modelValue:s(e).certificate_template_id,"onUpdate:modelValue":t[25]||(t[25]=i=>s(e).certificate_template_id=i),class:"mt-1 block w-full"},{default:v(()=>[t[40]||(t[40]=o("option",{value:null},"Use Default Template",-1)),(n(!0),u(q,null,b(p.certificateTemplates,i=>(n(),u("option",{key:i.id,value:i.id,selected:s(e).certificate_template_id===i.id},m(i.name),9,Qe))),128))]),_:1,__:[40]},8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.certificate_template_id},null,8,["message"])]),o("div",Re,[o("div",null,[l(r,{for:"certificate_pass_percentage",value:"Passing Percentage"}),l(f,{id:"certificate_pass_percentage",modelValue:s(e).certificate_pass_percentage,"onUpdate:modelValue":t[26]||(t[26]=i=>s(e).certificate_pass_percentage=i),type:"number",min:"0",max:"100",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.certificate_pass_percentage},null,8,["message"])]),o("div",null,[l(r,{for:"certificate_expiry_days",value:"Expiry Days (leave blank for no expiry)"}),l(f,{id:"certificate_expiry_days",modelValue:s(e).certificate_expiry_days,"onUpdate:modelValue":t[27]||(t[27]=i=>s(e).certificate_expiry_days=i),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:s(e).errors.certificate_expiry_days},null,8,["message"])])])])):g("",!0)])])]),o("div",je,[o("button",{type:"submit",class:j(["inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150",{"opacity-25":s(e).processing}]),disabled:s(e).processing}," Update Quiz ",10,Be)])])],32)])])])])]),_:1},8,["title"])}}},ss=M(Ie,[["__scopeId","data-v-9331649e"]]);export{ss as default};
