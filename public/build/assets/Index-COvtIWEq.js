import{K as k,i as f,W as b,c as z,o as i,w as d,a as e,d as l,h as g,j as o,t as r,b as u,e as C,A,S as p,k as x,F as S,l as j,n as v}from"./app-Do1sSIaC.js";import{A as Q}from"./AppLayout-DUw_ZWTf.js";import{_ as B}from"./Pagination-g71SnpNx.js";import{l as M}from"./lodash-DMgXO6nE.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"font-semibold text-xl text-gray-800 leading-tight"},D={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},V={key:0,class:"mb-4"},T={class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative"},E={class:"block sm:inline"},L={key:1,class:"mb-4"},$={class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"},F={class:"block sm:inline"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},O={class:"p-4 sm:p-6 bg-white border-b border-gray-200"},W={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4"},G={class:"overflow-x-auto"},H={class:"min-w-full divide-y divide-gray-200"},K={class:"bg-white divide-y divide-gray-200"},P={class:"px-6 py-4 whitespace-nowrap"},U={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-900"},J={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap"},R={class:"group relative inline-block"},X={key:0},Y={key:1},Z={key:0,class:"absolute z-10 hidden group-hover:block w-64 p-2 text-sm bg-gray-800 text-white rounded shadow-lg"},ee={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-900"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},oe={class:"flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0"},re=["onClick","disabled"],ne={key:0,class:"flex items-center justify-center"},ie={key:1},le={key:0,class:"text-center py-12"},ae={class:"text-gray-500"},de={class:"text-sm"},ye={__name:"Index",props:{organization:Object,quizzes:Object,filters:Object},setup(m){const h=m,{flash:c}=k().props,y=f(h.filters.search),a=f(null),_=M.debounce(n=>{b.get(route("examiner.quizzes.index",h.organization.id),{search:n},{preserveState:!0})},300),w=n=>{confirm("Are you sure you want to delete this quiz?")&&(a.value=n.id,b.delete(route("examiner.quizzes.destroy",n.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{a.value=null},onError:s=>{a.value=null,console.error("Delete error:",s)},onFinish:()=>{a.value=null}}))};return(n,s)=>(i(),z(Q,{title:"All Quizzes"},{header:d(()=>[e("h2",q," Quizzes in "+r(m.organization.name),1)]),default:d(()=>[e("div",D,[e("div",N,[o(c).success?(i(),l("div",V,[e("div",T,[e("span",E,r(o(c).success),1),e("button",{type:"button",onClick:s[0]||(s[0]=t=>o(c).success=null),class:"absolute top-0 bottom-0 right-0 px-4 py-3","aria-label":"Close success message"},s[4]||(s[4]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):g("",!0),o(c).error?(i(),l("div",L,[e("div",$,[e("span",F,r(o(c).error),1),e("button",{type:"button",onClick:s[1]||(s[1]=t=>o(c).error=null),class:"absolute top-0 bottom-0 right-0 px-4 py-3","aria-label":"Close error message"},s[5]||(s[5]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):g("",!0),e("div",I,[e("div",O,[e("div",W,[C(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>y.value=t),onInput:s[3]||(s[3]=t=>o(_)(t.target.value)),type:"text",placeholder:"Search quizzes...",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[A,y.value]]),u(o(p),{href:n.route("examiner.quizzes.create",h.organization.id),class:"w-full sm:w-auto text-center bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out"},{default:d(()=>s[6]||(s[6]=[x(" Create New Quiz ")])),_:1,__:[6]},8,["href"])]),e("div",G,[e("table",H,[s[12]||(s[12]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Title "),e("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Questions "),e("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Attempts "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",K,[(i(!0),l(S,null,j(m.quizzes.data,t=>(i(),l("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",P,[u(o(p),{href:n.route("examiner.quizzes.show",t.id),class:"text-blue-600 hover:text-blue-800 font-medium"},{default:d(()=>[x(r(t.title),1)]),_:2},1032,["href"])]),e("td",U,r(t.quiz_type),1),e("td",J,[e("div",R,[u(o(p),{href:n.route("examiner.quizzes.questions.index",{quiz:t.id}),class:"text-blue-600 hover:text-blue-800 font-medium"},{default:d(()=>[t.questions_count===t.total_questions?(i(),l("span",X,r(t.questions_count),1)):(i(),l("span",Y,r(t.questions_count)+" ("+r(t.total_questions)+" total) ",1)),s[7]||(s[7]=e("i",{class:"fas fa-list-ul ml-1"},null,-1))]),_:2,__:[7]},1032,["href"]),t.questions_count!==t.total_questions?(i(),l("span",Z,r(t.questions_count)+" direct questions + "+r(t.total_questions-t.questions_count)+" from pools ",1)):g("",!0)])]),e("td",ee,r(t.attempts_count),1),e("td",te,[e("span",{class:v([{"bg-green-100 text-green-800":t.is_published,"bg-gray-100 text-gray-800":!t.is_published},"px-2 py-1 text-xs font-medium rounded-full"])},r(t.is_published?"Published":"Draft"),3)]),e("td",se,[e("div",oe,[u(o(p),{href:n.route("examiner.quizzes.edit",t.id),class:"px-2.5 py-1.5 text-center text-indigo-600 hover:text-indigo-900 bg-indigo-50 hover:bg-indigo-100 rounded-md transition duration-150 ease-in-out"},{default:d(()=>s[8]||(s[8]=[x(" Edit ")])),_:2,__:[8]},1032,["href"]),u(o(p),{href:n.route("examiner.quizzes.questions.index",{quiz:t.id}),class:"px-2.5 py-1.5 text-center text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 rounded-md transition duration-150 ease-in-out",title:"Manage Questions"},{default:d(()=>s[9]||(s[9]=[x(" Questions ")])),_:2,__:[9]},1032,["href"]),u(o(p),{href:n.route("examiner.quizzes.analysis.index",{quiz:t.id}),class:"px-2.5 py-1.5 text-center text-purple-600 hover:text-purple-900 bg-purple-50 hover:bg-purple-100 rounded-md transition duration-150 ease-in-out",title:"Analyze Quiz"},{default:d(()=>s[10]||(s[10]=[x(" Analyze ")])),_:2,__:[10]},1032,["href"]),e("button",{onClick:ue=>w(t),disabled:a.value===t.id,class:v([{"opacity-50 cursor-not-allowed":a.value===t.id,"hover:text-red-900 hover:bg-red-100":a.value!==t.id},"px-2.5 py-1.5 text-center text-red-600 bg-red-50 rounded-md transition duration-150 ease-in-out"])},[a.value===t.id?(i(),l("span",ne,s[11]||(s[11]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),x(" Deleting... ")]))):(i(),l("span",ie,"Delete"))],10,re)])])]))),128))])])]),m.quizzes.data.length===0?(i(),l("div",le,[e("div",ae,[s[13]||(s[13]=e("i",{class:"fas fa-clipboard-list text-3xl sm:text-4xl mb-4"},null,-1)),s[14]||(s[14]=e("p",{class:"text-lg mb-2"},"No quizzes found",-1)),e("p",de,r(y.value?"Try adjusting your search terms":"Get started by creating your first quiz"),1)])])):g("",!0),u(B,{links:m.quizzes.links,class:"mt-6"},null,8,["links"])])])])])]),_:1}))}};export{ye as default};
