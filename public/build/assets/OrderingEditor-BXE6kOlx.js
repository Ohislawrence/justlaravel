import{d as g,o as b,a as e,i as q,f as S,z as D,F as $,l as C,h as I,b as k,j as V,k as A,e as p,Q as _,H as M,A as w,q as R,E as F,t as U,w as B,I as P}from"./app-CLWqkp7k.js";function j(n,h){return b(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function E(n,h){return b(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}function z(n,h){return b(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}const L={class:"space-y-4"},T=["checked","onChange","name"],N=["checked","onChange"],Z=["value","onInput"],H=["onClick"],G={class:"mt-2 space-y-2"},Q={class:"inline-flex items-center"},W={class:"inline-flex items-center"},vt={__name:"MultipleChoiceEditor",props:{modelValue:{type:Object,required:!0,default:()=>({options:[""],correct_answers:[],settings:{randomize:!1,multiple_selection:!1}})}},emits:["update:modelValue"],setup(n,{emit:h}){const i=n,s=h,u=q(Math.random().toString(36).substring(2)),r=S({get(){return i.modelValue},set(o){s("update:modelValue",o)}}),l=o=>Array.isArray(r.value.correct_answers)&&r.value.correct_answers.includes(o),c=o=>{r.value.settings.multiple_selection?y(o,!l(o)):r.value.correct_answers=[o]},y=(o,t)=>{let a=Array.isArray(r.value.correct_answers)?[...r.value.correct_answers]:[];t?a.includes(o)||a.push(o):a=a.filter(f=>f!==o),r.value.correct_answers=a},x=o=>{const t=r.value.options[o],a=[...r.value.options];if(a.splice(o,1),r.value.options=a,l(t)){const f=r.value.correct_answers.filter(v=>v!==t);r.value.correct_answers=f}},d=()=>{r.value.options=[...r.value.options,""]},m=(o,t)=>{const a=r.value.options[o],f=[...r.value.options];if(f[o]=t,r.value.options=f,l(a)){const v=r.value.correct_answers.map(O=>O===a?t:O);r.value.correct_answers=v}};return D(()=>r.value.settings.multiple_selection,o=>{!o&&Array.isArray(r.value.correct_answers)&&r.value.correct_answers.length>1&&(r.value.correct_answers=[r.value.correct_answers[0]])}),(o,t)=>(b(),g("div",L,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700"},"Options",-1)),(b(!0),g($,null,C(r.value.options,(a,f)=>(b(),g("div",{key:f,class:"mt-2 flex items-start"},[r.value.settings.multiple_selection?(b(),g("input",{key:1,checked:l(a),onChange:v=>y(a,v.target.checked),type:"checkbox",class:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded mt-1"},null,40,N)):(b(),g("input",{key:0,checked:l(a),onChange:v=>c(a),type:"radio",name:`correct-answer-${u.value}`,class:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 mt-1"},null,40,T)),e("input",{value:a,onInput:v=>m(f,v.target.value),type:"text",class:"ml-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Option text"},null,40,Z),r.value.options.length>1?(b(),g("button",{key:2,onClick:v=>x(f),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[k(V(z),{class:"h-4 w-4"})],8,H)):I("",!0)]))),128)),e("button",{onClick:d,type:"button",class:"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[k(V(E),{class:"-ml-0.5 mr-2 h-4 w-4"}),t[2]||(t[2]=A(" Add Option "))])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Settings",-1)),e("div",G,[e("label",Q,[p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.value.settings.randomize=a),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,r.value.settings.randomize]]),t[4]||(t[4]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize option order",-1))]),e("label",W,[p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.value.settings.multiple_selection=a),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,r.value.settings.multiple_selection]]),t[5]||(t[5]=e("span",{class:"ml-2 text-sm text-gray-600"},"Allow multiple correct answers",-1))])])])]))}},J={class:"space-y-6"},K={class:"flex items-center space-x-4"},X={class:"inline-flex items-center"},Y={class:"inline-flex items-center"},ee={class:"space-y-4"},te={class:"space-y-2"},se={class:"inline-flex items-center"},le={class:"inline-flex items-center"},yt={__name:"TrueFalseEditor",props:{modelValue:{type:Object,required:!0,default:()=>({type:"true_false",correct_answers:["true"],settings:{randomize:!1,show_feedback:!0,true_feedback:"",false_feedback:""}})}},emits:["update:modelValue"],setup(n,{emit:h}){return(i,s)=>(b(),g("div",J,[e("div",null,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Correct Answer",-1)),e("div",K,[e("label",X,[p(e("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>n.modelValue.correct_answers=u),type:"radio",value:["true"],class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[M,n.modelValue.correct_answers]]),s[6]||(s[6]=e("span",{class:"ml-2 text-sm text-gray-700"},"True",-1))]),e("label",Y,[p(e("input",{"onUpdate:modelValue":s[1]||(s[1]=u=>n.modelValue.correct_answers=u),type:"radio",value:["false"],class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[M,n.modelValue.correct_answers]]),s[7]||(s[7]=e("span",{class:"ml-2 text-sm text-gray-700"},"False",-1))])])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Feedback Messages",-1)),e("div",ee,[e("div",null,[s[9]||(s[9]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Feedback when answered True",-1)),p(e("input",{"onUpdate:modelValue":s[2]||(s[2]=u=>n.modelValue.settings.true_feedback=u),type:"text",placeholder:"Optional feedback message",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.true_feedback]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Feedback when answered False",-1)),p(e("input",{"onUpdate:modelValue":s[3]||(s[3]=u=>n.modelValue.settings.false_feedback=u),type:"text",placeholder:"Optional feedback message",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.false_feedback]])])])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Settings",-1)),e("div",te,[e("label",se,[p(e("input",{"onUpdate:modelValue":s[4]||(s[4]=u=>n.modelValue.settings.randomize=u),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,n.modelValue.settings.randomize]]),s[12]||(s[12]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize True/False order",-1))]),e("label",le,[p(e("input",{"onUpdate:modelValue":s[5]||(s[5]=u=>n.modelValue.settings.show_feedback=u),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,n.modelValue.settings.show_feedback]]),s[13]||(s[13]=e("span",{class:"ml-2 text-sm text-gray-600"},"Show feedback after answering",-1))])])])]))}},oe={class:"space-y-6"},ne={class:"space-y-2"},re=["onUpdate:modelValue"],ae=["onClick"],ue={class:"space-y-4"},ie={key:0},wt={__name:"ShortAnswerEditor",props:{modelValue:{type:Object,required:!0,default:()=>({type:"short_answer",correct_answers:[],settings:{case_sensitive:!1,matching_type:"exact",regex_pattern:"",feedback:""}})}},emits:["update:modelValue"],setup(n,{emit:h}){const i=n;D(()=>i.modelValue,r=>{Array.isArray(r.correct_answers)||(r.correct_answers=[])},{immediate:!0});const s=()=>{Array.isArray(i.modelValue.correct_answers)||(i.modelValue.correct_answers=[]),i.modelValue.correct_answers.push("")},u=r=>{i.modelValue.correct_answers.splice(r,1)};return(r,l)=>(b(),g("div",oe,[e("div",null,[l[5]||(l[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Accepted Answers",-1)),e("div",ne,[(b(!0),g($,null,C(n.modelValue.correct_answers,(c,y)=>(b(),g("div",{key:y,class:"flex items-center"},[p(e("input",{"onUpdate:modelValue":x=>n.modelValue.correct_answers[y]=x,type:"text",class:"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter an accepted answer"},null,8,re),[[w,n.modelValue.correct_answers[y]]]),e("button",{onClick:x=>u(y),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[k(V(z),{class:"h-4 w-4"})],8,ae)]))),128))]),e("button",{onClick:s,type:"button",class:"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[k(V(E),{class:"-ml-0.5 mr-2 h-4 w-4"}),l[4]||(l[4]=A(" Add Another Accepted Answer "))])]),e("div",null,[l[12]||(l[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Answer Settings",-1)),e("div",ue,[e("div",null,[l[7]||(l[7]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Case Sensitivity",-1)),p(e("select",{"onUpdate:modelValue":l[0]||(l[0]=c=>n.modelValue.settings.case_sensitive=c),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},l[6]||(l[6]=[e("option",{value:!1},"Case insensitive (default)",-1),e("option",{value:!0},"Case sensitive",-1)]),512),[[R,n.modelValue.settings.case_sensitive]])]),e("div",null,[l[9]||(l[9]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Answer Matching",-1)),p(e("select",{"onUpdate:modelValue":l[1]||(l[1]=c=>n.modelValue.settings.matching_type=c),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},l[8]||(l[8]=[e("option",{value:"exact"},"Exact match",-1),e("option",{value:"contains"},"Contains text",-1),e("option",{value:"regex"},"Regular expression",-1)]),512),[[R,n.modelValue.settings.matching_type]])]),n.modelValue.settings.matching_type==="regex"?(b(),g("div",ie,[l[10]||(l[10]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Regex Pattern",-1)),p(e("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>n.modelValue.settings.regex_pattern=c),type:"text",placeholder:"Enter regex pattern",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.regex_pattern]]),l[11]||(l[11]=e("p",{class:"mt-1 text-xs text-gray-500"},"Example: ^[A-Z][a-z]+$ (matches capitalized words)",-1))])):I("",!0)])]),e("div",null,[l[13]||(l[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Feedback",-1)),p(e("textarea",{"onUpdate:modelValue":l[3]||(l[3]=c=>n.modelValue.settings.feedback=c),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Optional feedback to show after answering"},null,512),[[w,n.modelValue.settings.feedback]])])]))}},de={class:"space-y-6"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ce={class:"mt-2 space-y-2"},ge={class:"inline-flex items-center"},be={class:"inline-flex items-center"},fe={class:"mt-2 space-y-3"},pe={class:"flex items-center h-5 mt-1.5"},xe=["onUpdate:modelValue"],ve={class:"ml-3 flex-1"},ye=["onUpdate:modelValue"],we=["onClick"],he={class:"mt-2 space-y-2"},ke={class:"inline-flex items-center"},Ve={class:"inline-flex items-center"},ht={__name:"EssayEditor",props:{modelValue:{type:Object,required:!0,default:()=>({type:"essay",correct_answers:[],settings:{min_words:100,max_words:500,allow_rich_text:!0,require_paragraphs:!1,sample_answer:"",rubric:[],enable_plagiarism_check:!1,allow_attachments:!1}})}},emits:["update:modelValue"],setup(n,{emit:h}){const i=n,s=()=>{i.modelValue.settings.rubric.push({points:5,description:""})},u=r=>{i.modelValue.settings.rubric.splice(r,1)};return(r,l)=>(b(),g("div",de,[e("div",me,[e("div",null,[l[7]||(l[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Minimum Word Count",-1)),p(e("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>n.modelValue.settings.min_words=c),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.min_words,void 0,{number:!0}]])]),e("div",null,[l[8]||(l[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Maximum Word Count",-1)),p(e("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>n.modelValue.settings.max_words=c),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.max_words,void 0,{number:!0}]])])]),e("div",null,[l[11]||(l[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"Formatting Requirements",-1)),e("div",ce,[e("label",ge,[p(e("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>n.modelValue.settings.allow_rich_text=c),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,n.modelValue.settings.allow_rich_text]]),l[9]||(l[9]=e("span",{class:"ml-2 text-sm text-gray-600"},"Allow rich text formatting",-1))]),e("label",be,[p(e("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>n.modelValue.settings.require_paragraphs=c),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,n.modelValue.settings.require_paragraphs]]),l[10]||(l[10]=e("span",{class:"ml-2 text-sm text-gray-600"},"Require multiple paragraphs",-1))])])]),e("div",null,[l[12]||(l[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Sample Answer (Optional)",-1)),p(e("textarea",{"onUpdate:modelValue":l[4]||(l[4]=c=>n.modelValue.settings.sample_answer=c),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Provide an example of a good answer"},null,512),[[w,n.modelValue.settings.sample_answer]])]),e("div",null,[l[13]||(l[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Grading Rubric",-1)),e("div",fe,[(b(!0),g($,null,C(n.modelValue.settings.rubric,(c,y)=>(b(),g("div",{key:y,class:"flex items-start"},[e("div",pe,[p(e("input",{"onUpdate:modelValue":x=>c.points=x,type:"number",min:"0",class:"focus:ring-blue-500 h-8 w-16 text-blue-600 border-gray-300 rounded"},null,8,xe),[[w,c.points]])]),e("div",ve,[p(e("input",{"onUpdate:modelValue":x=>c.description=x,type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Criterion description"},null,8,ye),[[w,c.description]]),e("button",{onClick:x=>u(y),class:"mt-1 text-sm text-red-600 hover:text-red-800"}," Remove criterion ",8,we)])]))),128)),e("button",{onClick:s,type:"button",class:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Add Grading Criterion ")])]),e("div",null,[l[16]||(l[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"Additional Settings",-1)),e("div",he,[e("label",ke,[p(e("input",{"onUpdate:modelValue":l[5]||(l[5]=c=>n.modelValue.settings.enable_plagiarism_check=c),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,n.modelValue.settings.enable_plagiarism_check]]),l[14]||(l[14]=e("span",{class:"ml-2 text-sm text-gray-600"},"Enable plagiarism check",-1))]),e("label",Ve,[p(e("input",{"onUpdate:modelValue":l[6]||(l[6]=c=>n.modelValue.settings.allow_attachments=c),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,n.modelValue.settings.allow_attachments]]),l[15]||(l[15]=e("span",{class:"ml-2 text-sm text-gray-600"},"Allow file attachments",-1))])])])]))}},_e={class:"space-y-6"},$e={class:"mt-1 relative"},Ce={key:0},Ae={class:"mt-2 space-y-3"},Ue={class:"inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium bg-blue-100 text-blue-800 mr-3"},ze={class:"flex-1"},Oe=["onUpdate:modelValue","placeholder"],Ee={class:"mt-1 flex space-x-2"},Ie=["onUpdate:modelValue"],qe={key:1},Se={class:"mt-2 space-y-3"},Me={class:"flex items-center"},Re={class:"inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium bg-blue-100 text-blue-800 mr-3"},De=["onClick"],Fe=["onUpdate:modelValue","placeholder"],Be=["onClick"],kt={__name:"FillInTheBlankEditor",props:{modelValue:{type:Object,required:!0,default:()=>({type:"fill_in_the_blank",question:"",correct_answers:[],settings:{case_sensitive:[],alternatives:[],feedback:""}})}},emits:["update:modelValue"],setup(n,{emit:h}){const i=q(null),s=n,u=h,r=q([]),l=()=>{Array.isArray(s.modelValue.correct_answers)||(s.modelValue.correct_answers=[]),Array.isArray(s.modelValue.settings.case_sensitive)||(s.modelValue.settings.case_sensitive=[]),Array.isArray(s.modelValue.settings.alternatives)||(s.modelValue.settings.alternatives=[])},c=()=>{l();const m=/\[blank\]/gi,o=s.modelValue.question.match(m);for(r.value=o?Array(o.length).fill(""):[];s.modelValue.correct_answers.length<r.value.length;)s.modelValue.correct_answers.push("");for(;s.modelValue.settings.case_sensitive.length<r.value.length;)s.modelValue.settings.case_sensitive.push(!1);for(;s.modelValue.settings.alternatives.length<r.value.length;)s.modelValue.settings.alternatives.push([]);s.modelValue.correct_answers.length>r.value.length&&(s.modelValue.correct_answers=s.modelValue.correct_answers.slice(0,r.value.length)),s.modelValue.settings.case_sensitive.length>r.value.length&&(s.modelValue.settings.case_sensitive=s.modelValue.settings.case_sensitive.slice(0,r.value.length)),s.modelValue.settings.alternatives.length>r.value.length&&(s.modelValue.settings.alternatives=s.modelValue.settings.alternatives.slice(0,r.value.length))},y=()=>{if(!i.value)return;const m=i.value.selectionStart,o=i.value.selectionEnd,t=i.value.value;i.value.value=t.substring(0,m)+"[blank]"+t.substring(o),i.value.focus(),i.value.selectionStart=m+7,i.value.selectionEnd=m+7,u("update:modelValue",{...s.modelValue,question:i.value.value})},x=m=>{s.modelValue.settings.alternatives[m].push("")},d=(m,o)=>{s.modelValue.settings.alternatives[m].splice(o,1)};return F(()=>{l(),c()}),(m,o)=>(b(),g("div",_e,[e("div",null,[o[2]||(o[2]=e("label",{class:"block text-sm font-medium text-gray-700"},"Question Text with Blanks",-1)),e("div",$e,[p(e("textarea",{ref_key:"textareaRef",ref:i,"onUpdate:modelValue":o[0]||(o[0]=t=>n.modelValue.question=t),rows:"4",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter your question text. Use [blank] to indicate where blanks should appear.",onInput:c},null,544),[[w,n.modelValue.question]]),e("div",{class:"absolute right-2 bottom-2"},[e("button",{onClick:y,type:"button",class:"inline-flex items-center px-2 py-1 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Insert Blank ")])]),o[3]||(o[3]=e("p",{class:"mt-1 text-sm text-gray-500"},' Use [blank] tags to mark where blanks should appear. Example: "The capital of France is [blank]." ',-1))]),r.value.length>0?(b(),g("div",Ce,[o[5]||(o[5]=e("label",{class:"block text-sm font-medium text-gray-700"},"Blank Answers",-1)),e("div",Ae,[(b(!0),g($,null,C(r.value,(t,a)=>(b(),g("div",{key:a,class:"flex items-start"},[e("span",Ue," Blank #"+U(a+1),1),e("div",ze,[p(e("input",{"onUpdate:modelValue":f=>n.modelValue.correct_answers[a]=f,type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Answer for blank #"+(a+1)},null,8,Oe),[[w,n.modelValue.correct_answers[a]]]),e("div",Ee,[p(e("input",{"onUpdate:modelValue":f=>n.modelValue.settings.case_sensitive[a]=f,type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ie),[[_,n.modelValue.settings.case_sensitive[a]]]),o[4]||(o[4]=e("label",{class:"text-sm text-gray-600"},"Case sensitive",-1))])])]))),128))])])):I("",!0),r.value.length>0?(b(),g("div",qe,[o[6]||(o[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Alternative Answers",-1)),e("div",Se,[(b(!0),g($,null,C(r.value,(t,a)=>(b(),g("div",{key:"alt-"+a,class:"space-y-2"},[e("div",Me,[e("span",Re," Blank #"+U(a+1),1),e("button",{onClick:f=>x(a),type:"button",class:"inline-flex items-center px-2 py-1 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Add Alternative ",8,De)]),(b(!0),g($,null,C(n.modelValue.settings.alternatives[a],(f,v)=>(b(),g("div",{key:v,class:"ml-8 flex items-center"},[p(e("input",{"onUpdate:modelValue":O=>n.modelValue.settings.alternatives[a][v]=O,type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Alternative "+(v+1)},null,8,Fe),[[w,n.modelValue.settings.alternatives[a][v]]]),e("button",{onClick:O=>d(a,v),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[k(V(z),{class:"h-4 w-4"})],8,Be)]))),128))]))),128))])])):I("",!0),e("div",null,[o[7]||(o[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Feedback",-1)),p(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=t=>n.modelValue.settings.feedback=t),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Optional feedback to show after answering"},null,512),[[w,n.modelValue.settings.feedback]])])]))}},Pe={class:"space-y-6"},je=["value"],Le={class:"space-y-4"},Te={class:"flex items-center justify-between"},Ne={class:"flex-1"},Ze=["value","onInput"],He={class:"flex items-center"},Ge={class:"flex-1"},Qe=["value","onInput"],We=["onClick"],Je={class:"mt-2 space-y-2"},Ke=["value","onInput"],Xe=["onClick"],Ye={class:"mt-2 space-y-2"},et={class:"inline-flex items-center"},tt=["checked"],st={class:"inline-flex items-center"},lt=["checked"],ot={class:"inline-flex items-center"},nt=["checked"],rt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},at=["value"],ut=["value"],it={class:"mt-4 p-2 bg-gray-100 rounded text-xs"},Vt={__name:"MatchingEditor",props:{modelValue:{type:Object,required:!0,default:()=>({options:[],settings:{instructions:"",distractors:[],randomize_left:!1,randomize_right:!1,show_instructions:!0,points_per_match:1,deduction_per_wrong:0}})}},emits:["update:modelValue"],setup(n,{emit:h}){const i=n,s=h,u=S({get(){return{options:i.modelValue.options||[],settings:{instructions:"",distractors:[],randomize_left:!1,randomize_right:!1,show_instructions:!0,points_per_match:1,deduction_per_wrong:0,...i.modelValue.settings}}},set(o){s("update:modelValue",{...i.modelValue,...o})}}),r=(o,t,a)=>{const f=[...u.value.options];f[o]={...f[o],[t]:a},s("update:modelValue",{...i.modelValue,options:f})},l=()=>{const o=[...u.value.options,{left:"",right:""}];s("update:modelValue",{...i.modelValue,options:o})},c=o=>{const t=[...u.value.options];t.splice(o,1),s("update:modelValue",{...i.modelValue,options:t})},y=(o,t)=>{const a=[...u.value.settings.distractors];a[o]=t,s("update:modelValue",{...i.modelValue,settings:{...u.value.settings,distractors:a}})},x=()=>{const o=[...u.value.settings.distractors,""];s("update:modelValue",{...i.modelValue,settings:{...u.value.settings,distractors:o}})},d=o=>{const t=[...u.value.settings.distractors];t.splice(o,1),s("update:modelValue",{...i.modelValue,settings:{...u.value.settings,distractors:t}})},m=(o,t)=>{s("update:modelValue",{...i.modelValue,settings:{...u.value.settings,[o]:t}})};return(o,t)=>(b(),g("div",Pe,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Instructions",-1)),e("input",{value:u.value.settings.instructions,onInput:t[0]||(t[0]=a=>m("instructions",a.target.value)),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"e.g., 'Match the items on the left with the correct options on the right'"},null,40,je)]),e("div",Le,[e("div",Te,[t[8]||(t[8]=e("h3",{class:"text-sm font-medium text-gray-700"},"Match Items",-1)),e("button",{onClick:l,type:"button",class:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[k(V(E),{class:"-ml-0.5 mr-1 h-4 w-4"}),t[7]||(t[7]=A(" Add Pair "))])]),(b(!0),g($,null,C(u.value.options,(a,f)=>(b(),g("div",{key:f,class:"flex items-center space-x-4"},[e("div",Ne,[e("input",{value:a.left,onInput:v=>r(f,"left",v.target.value),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Left item"},null,40,Ze)]),e("div",He,[k(V(j),{class:"h-5 w-5 text-gray-400"})]),e("div",Ge,[e("input",{value:a.right,onInput:v=>r(f,"right",v.target.value),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Right item"},null,40,Qe)]),e("button",{onClick:v=>c(f),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[k(V(z),{class:"h-4 w-4"})],8,We)]))),128))]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"Extra Options (Distractors)",-1)),e("div",Je,[(b(!0),g($,null,C(u.value.settings.distractors,(a,f)=>(b(),g("div",{key:"distractor-"+f,class:"flex items-center"},[e("input",{value:a,onInput:v=>y(f,v.target.value),type:"text",class:"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Extra option"},null,40,Ke),e("button",{onClick:v=>d(f),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[k(V(z),{class:"h-4 w-4"})],8,Xe)]))),128)),e("button",{onClick:x,type:"button",class:"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[k(V(E),{class:"-ml-0.5 mr-1 h-4 w-4"}),t[9]||(t[9]=A(" Add Distractor "))])])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Settings",-1)),e("div",Ye,[e("label",et,[e("input",{checked:u.value.settings.randomize_left,onChange:t[1]||(t[1]=a=>m("randomize_left",a.target.checked)),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,40,tt),t[11]||(t[11]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize left column",-1))]),e("label",st,[e("input",{checked:u.value.settings.randomize_right,onChange:t[2]||(t[2]=a=>m("randomize_right",a.target.checked)),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,40,lt),t[12]||(t[12]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize right column",-1))]),e("label",ot,[e("input",{checked:u.value.settings.show_instructions,onChange:t[3]||(t[3]=a=>m("show_instructions",a.target.checked)),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,40,nt),t[13]||(t[13]=e("span",{class:"ml-2 text-sm text-gray-600"},"Show instructions to students",-1))])])]),e("div",rt,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"Points per correct match",-1)),e("input",{value:u.value.settings.points_per_match,onInput:t[4]||(t[4]=a=>m("points_per_match",parseFloat(a.target.value)||0)),type:"number",min:"0",step:"0.5",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,40,at)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"Deduction per wrong match",-1)),e("input",{value:u.value.settings.deduction_per_wrong,onInput:t[5]||(t[5]=a=>m("deduction_per_wrong",parseFloat(a.target.value)||0)),type:"number",min:"0",step:"0.5",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,40,ut)])]),e("div",it,[t[17]||(t[17]=e("strong",null,"Debug:",-1)),t[18]||(t[18]=e("br",null,null,-1)),A(" Pairs: "+U(u.value.options),1),t[19]||(t[19]=e("br",null,null,-1)),A(" Distractors: "+U(u.value.settings.distractors),1),t[20]||(t[20]=e("br",null,null,-1)),A(" Settings: "+U(u.value.settings),1)])]))}},dt={class:"space-y-4"},mt={class:"flex items-center bg-gray-50 p-2 rounded-md shadow-sm"},ct=["onUpdate:modelValue"],gt=["onClick"],bt={class:"mt-2 space-y-1 pl-5 list-decimal text-sm text-gray-700"},ft={class:"mt-2 space-y-2"},pt={class:"inline-flex items-center"},_t={__name:"OrderingEditor",props:{modelValue:{type:Object,required:!0,default:()=>({options:[],correct_answers:[],settings:{randomize:!1}})}},emits:["update:modelValue"],setup(n,{emit:h}){const i=n,s=h,u=S({get:()=>i.modelValue.options||[],set:x=>{const d={...i.modelValue,options:x};d.correct_answers=x.map((m,o)=>m.text.trim()?o:null).filter(m=>m!==null),s("update:modelValue",d)}}),r=()=>{const x={id:Date.now(),text:""},d=[...i.modelValue.options||[],x],m={...i.modelValue,options:d,correct_answers:d.map((o,t)=>o.text.trim()?t:null).filter(o=>o!==null)};s("update:modelValue",m)},l=x=>{const d=[...i.modelValue.options||[]];d.splice(x,1);const m={...i.modelValue,options:d,correct_answers:d.map((o,t)=>o.text.trim()?t:null).filter(o=>o!==null)};s("update:modelValue",m)},c=()=>{const x={...i.modelValue,correct_answers:(i.modelValue.options||[]).map((d,m)=>d.text.trim()?m:null).filter(d=>d!==null)};s("update:modelValue",x)},y=()=>{const x={...i.modelValue,correct_answers:(i.modelValue.options||[]).map((d,m)=>d.text.trim()?m:null).filter(d=>d!==null)};s("update:modelValue",x)};return(x,d)=>(b(),g("div",dt,[e("div",null,[d[4]||(d[4]=e("label",{class:"block text-sm font-medium text-gray-700"},"Items to Order",-1)),d[5]||(d[5]=e("p",{class:"text-xs text-gray-500 mb-2"},"Enter the items in the correct order.",-1)),k(V(P),{modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=m=>u.value=m),onEnd:y,"item-key":"id",class:"space-y-2"},{item:B(({element:m,index:o})=>[e("div",mt,[d[2]||(d[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-5 h-5 text-gray-400 cursor-move mr-3"},[e("line",{x1:"9",y1:"18",x2:"9",y2:"6"}),e("line",{x1:"15",y1:"18",x2:"15",y2:"6"})],-1)),p(e("input",{"onUpdate:modelValue":t=>m.text=t,onInput:c,type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter an item"},null,40,ct),[[w,m.text]]),e("button",{onClick:t=>l(o),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[k(V(z),{class:"h-4 w-4"})],8,gt)])]),_:1},8,["modelValue"]),e("button",{onClick:r,type:"button",class:"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[k(V(E),{class:"-ml-0.5 mr-2 h-4 w-4"}),d[3]||(d[3]=A(" Add Item "))])]),e("div",null,[d[6]||(d[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Preview - Correct Order",-1)),e("ol",bt,[(b(!0),g($,null,C(u.value,(m,o)=>(b(),g("li",{key:m.id},U(m.text),1))),128))])]),e("div",null,[d[8]||(d[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Settings",-1)),e("div",ft,[e("label",pt,[p(e("input",{"onUpdate:modelValue":d[1]||(d[1]=m=>n.modelValue.settings.randomize=m),onChange:c,type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,544),[[_,n.modelValue.settings.randomize]]),d[7]||(d[7]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize item order when displayed",-1))])])])]))}};export{vt as _,yt as a,wt as b,ht as c,kt as d,Vt as e,_t as f};
