import{C as c,r as p}from"./chart-DUfl3Dpl.js";import{_ as u}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{d as b,s as f,B as g,P as y,e as h,o as m,a as C}from"./app-BYM1Msdw.js";const B={class:"chart-container relative"},_={__name:"BarChart",props:{data:{type:Object,required:!0,validator:n=>Array.isArray(n.labels)&&Array.isArray(n.datasets)},options:{type:Object,default:()=>({responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}})},aspectRatio:{type:Number,default:2}},setup(n){c.register(...p);const t=n,i=b(null);let a=null;const l=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],d=()=>{if(!i.value)return;const s=t.data.datasets.map((e,r)=>({...e,backgroundColor:e.backgroundColor||l[r%l.length],borderColor:e.borderColor||"#FFFFFF",borderWidth:e.borderWidth||1,borderRadius:e.borderRadius||4,barPercentage:e.barPercentage||.8,categoryPercentage:e.categoryPercentage||.9})),o={labels:t.data.labels,datasets:s};a&&a.destroy(),a=new c(i.value,{type:"bar",data:o,options:{...t.options,aspectRatio:t.aspectRatio,plugins:{legend:{position:"top",labels:{boxWidth:12,padding:20}},tooltip:{enabled:!0,mode:"index",intersect:!1,callbacks:{label:function(e){let r=e.dataset.label||"";return r&&(r+=": "),e.parsed.y!==null&&(r+=e.parsed.y),r}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{drawBorder:!1},ticks:{precision:0}}},animation:{duration:800,easing:"easeOutQuart"},responsive:!0,maintainAspectRatio:!1}})};return f(()=>t.data,s=>{a&&(a.data.labels=s.labels,a.data.datasets=s.datasets.map((o,e)=>({...o,backgroundColor:o.backgroundColor||l[e%l.length]})),a.update())},{deep:!0}),g(()=>{d()}),y(()=>{a&&a.destroy()}),(s,o)=>(m(),h("div",B,[C("canvas",{ref_key:"chartCanvas",ref:i},null,512)]))}},A=u(_,[["__scopeId","data-v-13a61a9c"]]);export{A as B};
