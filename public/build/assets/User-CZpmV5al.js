import{i as d,K as N,c as D,o as a,w as p,a as e,b as r,k as g,d as n,h as U,F as A,l as S,t as u,j as V,S as M,g as L,W as f}from"./app-Do1sSIaC.js";import{A as E}from"./AppLayout-DUw_ZWTf.js";import{_ as F}from"./InputLabel-CoAPtlZS.js";import{_ as $}from"./TextInput-CbC0PeBd.js";import{_ as j}from"./Modal-ggGwXBJY.js";import{_ as z}from"./Pagination-g71SnpNx.js";import{F as B}from"./FeatureLimitModal-DgxIgkN8.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},I={class:"p-6 bg-white border-b border-gray-200"},H={class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200"},R={class:"bg-white divide-y divide-gray-200"},T={class:"px-6 py-4 whitespace-nowrap"},Y={class:"text-sm font-medium text-gray-900"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},J={class:"px-6 py-4 whitespace-nowrap"},P={key:0,class:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800"},Q={key:1,class:"text-sm text-gray-500"},X={class:"px-6 py-4 whitespace-nowrap"},Z={class:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},te={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},se={class:"flex justify-start items-center gap-2"},oe=["onClick"],ae={key:0},ne={class:"p-6"},ie={class:"mb-4"},re={class:"flex justify-end gap-2 mt-6"},le=["disabled"],de={key:0},ue={key:1},_e={__name:"User",props:{users:Object,designations:Array,organization_id:Object,examineeLimit:Number,examinerLimit:Number,currentexamineeCount:Number,currentexaminerCount:Number},setup(m){const c=m,x=d(!1),y=d(""),b=d("");function v(o,t){y.value=o,b.value=t,x.value=!0}N();const l=d(!1),i=d({name:"",organization_id:null}),_=()=>{l.value=!0},w=()=>{f.post(route("examiner.users.designations.store"),i.value,{preserveScroll:!0,onSuccess:()=>{l.value=!1,i.value.name=""},onError:o=>{console.error("Error creating designation:",o)}})},k=o=>{confirm("Are you sure you want to delete this user?")&&f.delete(route("examiner.user.destroy",o),{preserveScroll:!0})};function C(){const o=c.currentexamineeCount<c.examineeLimit,t=c.currentexaminerCount<c.examinerLimit;if(!o&&!t){v("Add User","You have reached the user limit. Upgrade your plan to add more users.");return}f.visit(route("examiner.user.create"))}return(o,t)=>(a(),D(E,{title:"Users"},{header:p(()=>t[4]||(t[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," User Management ",-1)])),default:p(()=>[e("div",q,[e("div",O,[e("div",W,[e("div",I,[e("div",{class:"flex flex-col sm:flex-row justify-end items-start sm:items-center mb-6 gap-2"},[e("button",{onClick:_,class:"w-full sm:w-auto text-center bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out"},t[5]||(t[5]=[e("i",{class:"bx bx-plus mr-1"},null,-1),g(" New Designation ")])),e("button",{onClick:C,class:"w-full sm:w-auto text-center bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out"},t[6]||(t[6]=[e("i",{class:"bx bx-plus mr-1"},null,-1),g(" Add User ")]))]),e("div",H,[e("table",K,[t[10]||(t[10]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Designation "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Unique ID "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created On "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",R,[(a(!0),n(A,null,S(m.users.data,s=>{var h;return a(),n("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",T,[e("div",Y,u(s.name),1)]),e("td",G,u(s.email),1),e("td",J,[(h=s.organization_member)!=null&&h.designation?(a(),n("span",P,u(s.organization_member.designation.name),1)):(a(),n("span",Q,"-"))]),e("td",X,[e("span",Z,u(s.organization_member.unique_code||"No ID"),1)]),e("td",ee,u(new Date(s.created_at).toLocaleDateString()),1),t[8]||(t[8]=e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("span",{class:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800"}," Active ")],-1)),e("td",te,[e("div",se,[r(V(M),{href:o.route("examiner.user.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 bg-indigo-50 hover:bg-indigo-100 px-3 py-1 rounded-md transition duration-150 ease-in-out"},{default:p(()=>t[7]||(t[7]=[g(" Edit ")])),_:2,__:[7]},1032,["href"]),e("button",{onClick:me=>k(s.id),class:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-3 py-1 rounded-md transition duration-150 ease-in-out"}," Delete ",8,oe)])])])}),128)),m.users.data.length===0?(a(),n("tr",ae,t[9]||(t[9]=[e("td",{colspan:"7",class:"px-6 py-4 text-center text-sm text-gray-500"}," No users found. ",-1)]))):U("",!0)])])]),r(z,{links:m.users.links,class:"mt-6"},null,8,["links"])])])])]),r(j,{show:l.value,onClose:t[2]||(t[2]=s=>l.value=!1),maxWidth:"md"},{default:p(()=>[e("div",ne,[t[11]||(t[11]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Create New Designation",-1)),e("form",{onSubmit:L(w,["prevent"])},[e("div",ie,[r(F,{for:"designation",value:"Designation Name"}),r($,{id:"designation",modelValue:i.value.name,"onUpdate:modelValue":t[0]||(t[0]=s=>i.value.name=s),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",placeholder:"e.g. Senior Developer, HR Manager"},null,8,["modelValue"])]),e("div",re,[e("button",{type:"button",onClick:t[1]||(t[1]=s=>l.value=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:i.value.processing},[i.value.processing?(a(),n("span",de,"Creating...")):(a(),n("span",ue,"Create Designation"))],8,le)])],32)])]),_:1},8,["show"]),r(B,{modelValue:x.value,"onUpdate:modelValue":t[3]||(t[3]=s=>x.value=s),featureName:y.value,message:b.value},null,8,["modelValue","featureName","message"])]),_:1}))}};export{_e as default};
