import{x as V,i as v,c as C,o as a,w as N,a as i,b as h,g as A,e as n,d as t,h as d,n as u,j as o,A as c,t as l,s as b,F as k,l as w,V as q}from"./app-Do1sSIaC.js";import{A as E}from"./AppLayout-DUw_ZWTf.js";import{F}from"./FeatureLimitModal-DgxIgkN8.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"container-xxl flex-grow-1 container-p-y"},M={class:"row"},D={class:"col-xl"},S={class:"card mb-4"},B={class:"card-body"},j={class:"mb-3"},O={key:0,class:"invalid-feedback"},P={class:"mb-3"},T={key:0,class:"invalid-feedback"},Y={class:"mb-3"},z={key:0,class:"invalid-feedback"},G={class:"mb-3"},H={key:0,class:"invalid-feedback"},I={class:"mb-3"},J={key:0,class:"invalid-feedback"},R={class:"mb-3"},K=["value"],Q={key:0,class:"invalid-feedback"},W={class:"mb-3"},X=["value"],Z={key:0,class:"invalid-feedback"},$={class:"mb-3"},ee={class:"form-check"},se={key:0,class:"invalid-feedback"},oe=["disabled"],ie={key:0},re={key:1},ue={__name:"Create",props:{groups:Object,designations:Array,examineeLimit:Number,examinerLimit:Number,currentexamineeCount:Number,currentexaminerCount:Number},setup(_){const m=_,s=V({name:"",email:"",unique_code:"",password:"",user_type:"",designation_id:null,groups:[],notify_user:!1}),f=v(!1),y=v(""),x=v("");function g(p,e){y.value=p,x.value=e,f.value=!0}const U=()=>{const p=m.currentexamineeCount<m.examineeLimit,e=m.currentexaminerCount<m.examinerLimit;if(s.user_type=="examinee"&&!p){g("Add Examinee","You have reached the examinee limit. Upgrade your plan to add more examinees.");return}if(s.user_type=="examiner"&&!e){g("Add Examiner","You have reached the examiner limit. Upgrade your plan to add more examiners.");return}s.post("/examiner/user")};return(p,e)=>(a(),C(E,{title:"Add User"},{default:N(()=>[i("div",L,[e[20]||(e[20]=i("h4",{class:"fw-bold py-3 mb-4"},"Create a User",-1)),i("div",M,[i("div",D,[i("div",S,[e[19]||(e[19]=i("div",{class:"card-header d-flex justify-content-between align-items-center"},[i("h5",{class:"mb-0"},"Login Details"),i("small",{class:"text-muted float-end"},"Required fields")],-1)),i("div",B,[i("form",{onSubmit:A(U,["prevent"])},[i("div",j,[e[9]||(e[9]=i("label",{class:"form-label",for:"name"},"Full Name",-1)),n(i("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o(s).name=r),type:"text",class:u(["form-control",{"is-invalid":o(s).errors.name}]),id:"name",placeholder:"John Doe"},null,2),[[c,o(s).name]]),o(s).errors.name?(a(),t("div",O,l(o(s).errors.name),1)):d("",!0)]),i("div",P,[e[10]||(e[10]=i("label",{class:"form-label",for:"email"},"Email",-1)),n(i("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o(s).email=r),type:"email",class:u(["form-control",{"is-invalid":o(s).errors.email}]),id:"email",placeholder:"email@example.com"},null,2),[[c,o(s).email]]),o(s).errors.email?(a(),t("div",T,l(o(s).errors.email),1)):d("",!0)]),i("div",Y,[e[11]||(e[11]=i("label",{class:"form-label",for:"unique_code"},"Identification Number",-1)),n(i("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>o(s).unique_code=r),type:"text",class:u(["form-control",{"is-invalid":o(s).errors.unique_code}]),id:"unique_code",placeholder:"U09CH1767"},null,2),[[c,o(s).unique_code]]),o(s).errors.unique_code?(a(),t("div",z,l(o(s).errors.unique_code),1)):d("",!0)]),i("div",G,[e[12]||(e[12]=i("label",{class:"form-label",for:"password"},"Password",-1)),n(i("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>o(s).password=r),type:"password",class:u(["form-control",{"is-invalid":o(s).errors.password}]),id:"password",placeholder:"Password"},null,2),[[c,o(s).password]]),o(s).errors.password?(a(),t("div",H,l(o(s).errors.password),1)):d("",!0)]),i("div",I,[e[14]||(e[14]=i("label",{for:"user_type",class:"form-label"},"User Type",-1)),n(i("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>o(s).user_type=r),class:u(["form-select",{"is-invalid":o(s).errors.user_type}]),id:"user_type"},e[13]||(e[13]=[i("option",{disabled:"",value:""},"Select One",-1),i("option",{value:"admin"},"Admin (full access)",-1),i("option",{value:"examiner"},"Examiner (staff/teacher)",-1),i("option",{value:"examinee"},"Examinee (student/candidate)",-1)]),2),[[b,o(s).user_type]]),o(s).errors.user_type?(a(),t("div",J,l(o(s).errors.user_type),1)):d("",!0)]),i("div",R,[e[16]||(e[16]=i("label",{for:"designation_id",class:"form-label"},"Designation",-1)),n(i("select",{"onUpdate:modelValue":e[5]||(e[5]=r=>o(s).designation_id=r),class:u(["form-select",{"is-invalid":o(s).errors.designation_id}]),id:"designation_id"},[e[15]||(e[15]=i("option",{value:""},"Select Designation",-1)),(a(!0),t(k,null,w(_.designations,r=>(a(),t("option",{key:r.id,value:r.id},l(r.name),9,K))),128))],2),[[b,o(s).designation_id]]),o(s).errors.designation_id?(a(),t("div",Q,l(o(s).errors.designation_id),1)):d("",!0)]),i("div",W,[e[17]||(e[17]=i("label",{for:"groups",class:"form-label"},"Assign Group(s)",-1)),n(i("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>o(s).groups=r),multiple:"",class:u(["form-select",{"is-invalid":o(s).errors.groups}]),id:"groups"},[(a(!0),t(k,null,w(m.groups.data,r=>(a(),t("option",{key:r.id,value:r.id},l(r.name),9,X))),128))],2),[[b,o(s).groups]]),o(s).errors.groups?(a(),t("div",Z,l(o(s).errors.groups),1)):d("",!0)]),i("div",$,[i("div",ee,[n(i("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>o(s).notify_user=r),class:u(["form-check-input",{"is-invalid":o(s).errors.notify_user}]),type:"checkbox",id:"notify-user"},null,2),[[q,o(s).notify_user]]),e[18]||(e[18]=i("label",{class:"form-check-label",for:"notify-user"}," Notify user via email about account creation ",-1)),o(s).errors.notify_user?(a(),t("div",se,l(o(s).errors.notify_user),1)):d("",!0)])]),i("button",{type:"submit",class:"btn btn-primary",disabled:o(s).processing},[o(s).processing?(a(),t("span",ie,"Creating...")):(a(),t("span",re,"Create User"))],8,oe)],32)])])])])]),h(F,{modelValue:f.value,"onUpdate:modelValue":e[8]||(e[8]=r=>f.value=r),featureName:y.value,message:x.value},null,8,["modelValue","featureName","message"])]),_:1}))}};export{ue as default};
