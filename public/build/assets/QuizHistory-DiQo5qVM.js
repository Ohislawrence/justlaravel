import{i as S,f as B,c as m,o as a,w as g,a as e,e as f,s as v,d as u,h as w,F as h,l as y,t as o,n as b,k as n,b as C,j as _,S as k,W as j}from"./app-Do1sSIaC.js";import{l as V}from"./lodash-DMgXO6nE.js";import{A as H}from"./AppLayout-DUw_ZWTf.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"py-6"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},A={class:"mb-8"},F={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},N={class:"flex flex-col sm:flex-row gap-3"},D={class:"relative"},Q={class:"relative"},T={class:"bg-white shadow-sm rounded-xl border border-gray-100 overflow-hidden"},O={class:"overflow-x-auto"},P={class:"min-w-full divide-y divide-gray-100"},E={class:"bg-white divide-y divide-gray-100"},U={class:"px-6 py-5 whitespace-nowrap"},W={class:"flex items-center"},$={class:"ml-4"},Y={class:"text-sm font-medium text-gray-900"},G={class:"text-sm text-gray-500"},I={class:"px-6 py-5 whitespace-nowrap"},J={class:"text-sm text-gray-900"},K={class:"px-6 py-5 whitespace-nowrap"},R={class:"px-6 py-5 whitespace-nowrap"},X={class:"text-sm text-gray-900 font-medium"},Z={class:"text-gray-500"},ee={class:"px-6 py-5 whitespace-nowrap text-sm text-gray-600"},te={class:"px-6 py-5 whitespace-nowrap text-sm text-gray-600"},se={key:0,class:"px-6 py-16 text-center"},oe={class:"mx-auto max-w-sm"},re={class:"mt-6"},ie={key:1,class:"bg-white px-6 py-4 flex items-center justify-between border-t border-gray-100 rounded-b-xl"},le={class:"flex-1 flex items-center justify-between"},ae={class:"text-sm text-gray-700"},ne={class:"font-medium"},de={class:"font-medium"},ue={class:"font-medium"},ce={class:"relative z-0 inline-flex rounded-lg shadow-sm -space-x-px","aria-label":"Pagination"},ve={__name:"QuizHistory",props:{attempts:Object,filters:Object},setup(i){const c=i,l=S({status:c.filters.status||"all",sort:c.filters.sort||"newest"}),p=B(()=>c.attempts.data.filter(r=>l.value.status==="passed"?r.is_passed:l.value.status==="failed"?!r.is_passed:!0)),x=()=>{j.get(route("examinee.history"),V.pickBy(l.value),{preserveState:!0,replace:!0})},z=r=>{if(!r)return"";const t={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(r).toLocaleDateString(void 0,t)},M=r=>{if(!r)return"0m";const t=Math.floor(r/3600),s=Math.floor(r%3600/60);let d="";return t>0&&(d+=`${t}h `),d+=`${s}m`,d};return(r,t)=>(a(),m(H,{title:"My Quiz History"},{default:g(()=>[e("div",L,[e("div",q,[e("div",A,[e("div",F,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"My Quiz History"),e("p",{class:"mt-2 text-gray-600"},"View all your completed quiz attempts")],-1)),e("div",N,[e("div",D,[f(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.status=s),onChange:x,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-4 pr-10 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},t[2]||(t[2]=[e("option",{value:"all"},"All Statuses",-1),e("option",{value:"passed"},"Passed",-1),e("option",{value:"failed"},"Failed",-1)]),544),[[v,l.value.status]]),t[3]||(t[3]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500"},[e("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))]),e("div",Q,[f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.sort=s),onChange:x,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-4 pr-10 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},t[4]||(t[4]=[e("option",{value:"newest"},"Newest First",-1),e("option",{value:"oldest"},"Oldest First",-1),e("option",{value:"highest"},"Highest Score",-1),e("option",{value:"lowest"},"Lowest Score",-1)]),544),[[v,l.value.sort]]),t[5]||(t[5]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500"},[e("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])])]),e("div",T,[e("div",O,[e("table",P,[t[8]||(t[8]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Quiz "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Organization "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Score "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Time Spent "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Completed ")])],-1)),e("tbody",E,[(a(!0),u(h,null,y(p.value,s=>(a(),u("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",U,[e("div",W,[t[7]||(t[7]=e("div",{class:"flex-shrink-0 h-10 w-10"},[e("div",{class:"h-10 w-10 rounded-lg bg-indigo-50 flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",$,[e("div",Y,o(s.quiz.title),1),e("div",G," Attempt #"+o(s.attempt_number),1)])])]),e("td",I,[e("div",J,o(s.quiz.organization.name),1)]),e("td",K,[e("span",{class:b(["px-2.5 py-1 inline-flex text-xs leading-4 font-semibold rounded-full",s.is_passed?"bg-green-50 text-green-700 border border-green-100":"bg-red-50 text-red-700 border border-red-100"])},o(s.is_passed?"Passed":"Failed"),3)]),e("td",R,[e("div",X,[n(o(s.score)+" / "+o(s.max_score)+" ",1),e("span",Z,"("+o(s.percentage)+"%)",1)])]),e("td",ee,o(M(s.time_spent)),1),e("td",te,o(z(s.completed_at)),1)]))),128))])])]),p.value.length===0?(a(),u("div",se,[e("div",oe,[t[10]||(t[10]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[11]||(t[11]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No quiz attempts found",-1)),t[12]||(t[12]=e("p",{class:"mt-2 text-gray-500"},"You haven't completed any quizzes yet.",-1)),e("div",re,[C(_(k),{href:r.route("examinee.quizzes.index"),class:"inline-flex items-center px-4 py-2.5 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"},{default:g(()=>t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),n(" Browse Quizzes ")])),_:1,__:[9]},8,["href"])])])])):w("",!0),i.attempts.meta&&i.attempts.meta.total>0?(a(),u("div",ie,[e("div",le,[e("div",null,[e("p",ae,[t[13]||(t[13]=n(" Showing ")),e("span",ne,o(i.attempts.meta.from),1),t[14]||(t[14]=n(" to ")),e("span",de,o(i.attempts.meta.to),1),t[15]||(t[15]=n(" of ")),e("span",ue,o(i.attempts.meta.total),1),t[16]||(t[16]=n(" results "))])]),e("div",null,[e("nav",ce,[(a(!0),u(h,null,y(i.attempts.meta.links,(s,d)=>(a(),m(_(k),{key:d,href:s.url||"#",class:b([{"bg-indigo-50 border-indigo-500 text-indigo-600 z-10":s.active,"bg-white border-gray-200 text-gray-600 hover:bg-gray-50":!s.active&&s.url,"bg-white border-gray-200 text-gray-300 cursor-not-allowed":!s.url},"relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-lg transition-colors duration-200 first:rounded-r-none last:rounded-l-none"]),"preserve-scroll":"",innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])])):w("",!0)])])])]),_:1}))}};export{ve as default};
