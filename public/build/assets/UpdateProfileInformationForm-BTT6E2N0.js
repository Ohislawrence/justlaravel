import{x as j,i as g,d as i,o as l,a as e,g as m,h as f,b as a,e as v,v as b,E,j as s,k as $,w as B,T as F,W as P}from"./app-CFKp1s14.js";/* empty css                                                                  */import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as h}from"./InputError-KZVYGvL8.js";import{_}from"./InputLabel-BEcUIb7L.js";import{_ as S}from"./TextInput-DIRysnqB.js";const A={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-6 bg-white border-b border-gray-200"},L={class:"max-w-3xl"},W={key:0,class:"mb-6"},z={class:"mt-2 flex items-center"},M={class:"mr-4"},O=["src","alt"],Y={class:"mr-4"},G={class:"mb-6"},H={class:"mb-6"},J={key:0},K={class:"text-sm mt-2 text-gray-600"},Q={class:"mt-2 font-medium text-sm text-green-600"},X={class:"flex items-center gap-4"},Z=["disabled"],ee={key:0},oe={key:1},te={key:0,class:"text-sm text-gray-600"},se={__name:"UpdateProfileInformationForm",props:{user:Object},setup(d){const y=d,t=j({_method:"PUT",name:y.user.name,email:y.user.email,photo:null}),x=g(null),u=g(null),n=g(null),V=()=>{n.value&&(t.photo=n.value.files[0]),t.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>w()})},I=()=>{P.post(route("verification.send"),{},{onSuccess:()=>{x.value=!0}})},C=()=>{n.value.click()},N=()=>{const r=n.value.files[0];if(!r)return;const o=new FileReader;o.onload=c=>{u.value=c.target.result},o.readAsDataURL(r)},U=()=>{P.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{u.value=null,w()}})},w=()=>{var r;(r=n.value)!=null&&r.value&&(n.value.value=null)};return(r,o)=>{var c,k;return l(),i("div",A,[e("div",R,[e("div",q,[e("div",D,[e("div",L,[o[3]||(o[3]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Profile Information",-1)),o[4]||(o[4]=e("p",{class:"text-gray-600 mb-6"},"Update your account's profile information and email address.",-1)),e("form",{onSubmit:m(V,["prevent"])},[(c=r.$page.props.jetstream)!=null&&c.managesProfilePhotos?(l(),i("div",W,[a(_,{for:"photo",value:"Photo",class:"mb-2"}),e("div",z,[v(e("div",M,[e("img",{src:d.user.profile_photo_url,alt:d.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,O)],512),[[b,!u.value]]),v(e("div",Y,[e("span",{class:"block rounded-full h-20 w-20 bg-cover bg-no-repeat bg-center",style:E("background-image: url('"+u.value+"');")},null,4)],512),[[b,u.value]]),e("div",null,[e("input",{id:"photo",ref_key:"photoInput",ref:n,type:"file",class:"hidden",onChange:N},null,544),e("button",{type:"button",class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-25 transition ease-in-out duration-150",onClick:m(C,["prevent"])}," Select A New Photo "),d.user.profile_photo_path?(l(),i("button",{key:0,type:"button",class:"ml-2 inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-25 transition ease-in-out duration-150",onClick:m(U,["prevent"])}," Remove Photo ")):f("",!0)])]),a(h,{message:s(t).errors.photo,class:"mt-2"},null,8,["message"])])):f("",!0),e("div",G,[a(_,{for:"name",value:"Name",class:"mb-2"}),a(S,{id:"name",modelValue:s(t).name,"onUpdate:modelValue":o[0]||(o[0]=p=>s(t).name=p),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:"",autocomplete:"name"},null,8,["modelValue"]),a(h,{message:s(t).errors.name,class:"mt-2"},null,8,["message"])]),e("div",H,[a(_,{for:"email",value:"Email",class:"mb-2"}),a(S,{id:"email",modelValue:s(t).email,"onUpdate:modelValue":o[1]||(o[1]=p=>s(t).email=p),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:"",autocomplete:"username"},null,8,["modelValue"]),a(h,{message:s(t).errors.email,class:"mt-2"},null,8,["message"]),(k=r.$page.props.jetstream)!=null&&k.hasEmailVerification&&d.user.email_verified_at===null?(l(),i("div",J,[e("p",K,[o[2]||(o[2]=$(" Your email address is unverified. ")),e("button",{type:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:m(I,["prevent"])}," Click here to re-send the verification email. ")]),v(e("div",Q," A new verification link has been sent to your email address. ",512),[[b,x.value]])])):f("",!0)]),e("div",X,[e("button",{type:"submit",disabled:s(t).processing,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition ease-in-out duration-150"},[s(t).processing?(l(),i("span",ee,"Saving...")):(l(),i("span",oe,"Save"))],8,Z),a(F,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:B(()=>[s(t).recentlySuccessful?(l(),i("p",te,"Saved.")):f("",!0)]),_:1})])],32)])])])])])}}},ue=T(se,[["__scopeId","data-v-e217b390"]]);export{ue as default};
