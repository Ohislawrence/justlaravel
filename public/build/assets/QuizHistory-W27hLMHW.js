import{i as S,f as B,c as g,o as l,w as f,a as e,e as h,q as v,d as a,h as y,F as w,l as b,n as c,t as o,k as d,G as C,b as L,j as _,S as k,W as j}from"./app-6u0ri86-.js";import{l as H}from"./lodash-Br-JjIWi.js";import{A as V}from"./AppLayout-5Luvue_m.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const A={class:"py-6"},F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},N={class:"mb-8"},Q={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},D={class:"flex flex-col sm:flex-row gap-3"},T={class:"relative"},O={class:"relative"},P={class:"bg-white rounded-xl border border-gray-100 overflow-hidden shadow-sm"},$={class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-100"},U={class:"divide-y divide-gray-100"},W={class:"px-4 py-4"},G={class:"flex items-center"},I={class:"flex-shrink-0 h-9 w-9"},Y={xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},J=["d"],K={class:"ml-3"},R={class:"text-sm font-medium text-gray-900 group-hover:text-green-700 transition-colors"},X={class:"text-xs text-gray-500 mt-0.5"},Z={class:"px-4 py-4 hidden sm:table-cell"},ee={class:"text-sm text-gray-700"},te={class:"px-4 py-4"},se={xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},oe=["d"],re={class:"px-4 py-4"},le={class:"text-sm font-medium text-gray-900"},ie={class:"text-gray-500 ml-1"},ne={class:"mt-1.5 w-full bg-gray-100 rounded-full h-1.5 overflow-hidden"},ae={class:"px-4 py-4 text-sm text-gray-600 hidden md:table-cell"},de={class:"px-4 py-4 text-sm text-gray-600 hidden md:table-cell"},ue={key:0,class:"px-6 py-16 text-center"},ce={class:"mx-auto max-w-sm"},me={class:"mt-5"},xe={key:1,class:"px-4 py-3 flex items-center justify-between border-t border-gray-100 bg-gray-50/50 rounded-b-xl"},pe={class:"text-xs text-gray-600"},ge={class:"font-medium"},fe={class:"font-medium"},he={class:"font-medium"},ve={class:"inline-flex rounded-lg shadow-sm -space-x-px","aria-label":"Pagination"},ye={__name:"QuizHistory",props:{attempts:Object,filters:Object},setup(i){const m=i,n=S({status:m.filters.status||"all",sort:m.filters.sort||"newest"}),x=B(()=>m.attempts.data.filter(r=>n.value.status==="passed"?r.is_passed:n.value.status==="failed"?!r.is_passed:!0)),p=()=>{j.get(route("examinee.history"),H.pickBy(n.value),{preserveState:!0,replace:!0})},z=r=>{if(!r)return"";const t={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(r).toLocaleDateString(void 0,t)},M=r=>{if(!r)return"0m";const t=Math.floor(r/3600),s=Math.floor(r%3600/60);let u="";return t>0&&(u+=`${t}h `),u+=`${s}m`,u};return(r,t)=>(l(),g(V,{title:"My Quiz History"},{default:f(()=>[e("div",A,[e("div",F,[e("div",N,[e("div",Q,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"My Quiz History"),e("p",{class:"mt-1 text-sm text-gray-600"},"View all your completed quiz attempts")],-1)),e("div",D,[e("div",T,[h(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.value.status=s),onChange:p,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-3.5 pr-9 py-2 text-xs font-medium focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},t[2]||(t[2]=[e("option",{value:"all"},"All Statuses",-1),e("option",{value:"passed"},"Passed",-1),e("option",{value:"failed"},"Failed",-1)]),544),[[v,n.value.status]]),t[3]||(t[3]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2.5 text-gray-400"},[e("svg",{class:"h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))]),e("div",O,[h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.sort=s),onChange:p,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-3.5 pr-9 py-2 text-xs font-medium focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},t[4]||(t[4]=[e("option",{value:"newest"},"Newest First",-1),e("option",{value:"oldest"},"Oldest First",-1),e("option",{value:"highest"},"Highest Score",-1),e("option",{value:"lowest"},"Lowest Score",-1)]),544),[[v,n.value.sort]]),t[5]||(t[5]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2.5 text-gray-400"},[e("svg",{class:"h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])])]),e("div",P,[e("div",$,[e("table",E,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Quiz"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider hidden sm:table-cell"},"Organization"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Status"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Score"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider hidden md:table-cell"},"Time Spent"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider hidden md:table-cell"},"Completed")])],-1)),e("tbody",U,[(l(!0),a(w,null,b(x.value,s=>(l(),a("tr",{key:s.id,class:"hover:bg-gray-50/70 transition-colors duration-150 group"},[e("td",W,[e("div",G,[e("div",I,[e("div",{class:c(["h-9 w-9 rounded-md flex items-center justify-center",s.is_passed?"bg-green-50 text-green-600":"bg-red-50 text-red-600"])},[(l(),a("svg",Y,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.is_passed?"M5 13l4 4L19 7":"M6 18L18 6M6 6l12 12"},null,8,J)]))],2)]),e("div",K,[e("div",R,o(s.quiz.title),1),e("div",X," Attempt #"+o(s.attempt_number),1)])])]),e("td",Z,[e("div",ee,o(s.quiz.organization.name),1)]),e("td",te,[e("span",{class:c(["inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-md border",s.is_passed?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"])},[(l(),a("svg",se,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.is_passed?"M5 13l4 4L19 7":"M6 18L18 6M6 6l12 12"},null,8,oe)])),d(" "+o(s.is_passed?"Passed":"Failed"),1)],2)]),e("td",re,[e("div",le,[d(o(s.score)+"/"+o(s.max_score)+" ",1),e("span",ie,"("+o(s.percentage)+"%)",1)]),e("div",ne,[e("div",{class:c(["h-full bg-gradient-to-r transition-all duration-500 ease-out",s.is_passed?"from-green-500 to-green-600":"from-red-500 to-red-600"]),style:C(`width: ${Math.min(s.percentage,100)}%`)},null,6)])]),e("td",ae,o(M(s.time_spent)),1),e("td",de,o(z(s.completed_at)),1)]))),128))])])]),x.value.length===0?(l(),a("div",ue,[e("div",ce,[t[9]||(t[9]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-14 w-14 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[10]||(t[10]=e("h3",{class:"mt-4 text-lg font-semibold text-gray-900"},"No quiz attempts found",-1)),t[11]||(t[11]=e("p",{class:"mt-1 text-sm text-gray-500"},"You haven't completed any quizzes yet.",-1)),e("div",me,[L(_(k),{href:r.route("examinee.quizzes.index"),class:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-lg shadow-sm transition-colors duration-200"},{default:f(()=>t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"-ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),d(" Browse Quizzes ")])),_:1,__:[8]},8,["href"])])])])):y("",!0),i.attempts.meta&&i.attempts.meta.total>0?(l(),a("div",xe,[e("div",pe,[t[12]||(t[12]=d(" Showing ")),e("span",ge,o(i.attempts.meta.from),1),t[13]||(t[13]=d(" to ")),e("span",fe,o(i.attempts.meta.to),1),t[14]||(t[14]=d(" of ")),e("span",he,o(i.attempts.meta.total),1)]),e("nav",ve,[(l(!0),a(w,null,b(i.attempts.meta.links,(s,u)=>(l(),g(_(k),{key:u,href:s.url||"#",class:c([{"bg-green-600 border-green-600 text-white z-10 hover:bg-green-700":s.active,"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:text-gray-900":!s.active&&s.url,"bg-gray-50 border-gray-200 text-gray-400 cursor-not-allowed":!s.url},"relative inline-flex items-center px-3 py-1.5 border text-xs font-medium transition-colors duration-200 first:rounded-l-lg last:rounded-r-lg"]),"preserve-scroll":"",innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):y("",!0)])])])]),_:1}))}},Me=q(ye,[["__scopeId","data-v-0479478c"]]);export{Me as default};
