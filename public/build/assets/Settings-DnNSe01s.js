import{K as M,i as t,c as Y,o as u,w as d,a as s,n as S,e as P,g as q,b as a,d as c,v as U,k as z,t as A,W as E}from"./app-Do1sSIaC.js";import{A as H}from"./AppLayout-DUw_ZWTf.js";import{_ as i}from"./InputLabel-CoAPtlZS.js";import{_ as m}from"./TextInput-CbC0PeBd.js";import{_ as N}from"./PrimaryButton-Ch7jOFNf.js";import{_ as v}from"./InputError-BalbFUZ-.js";import{_ as V}from"./Checkbox-DtNwaiTW.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const Q={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"p-6 bg-white border-b border-gray-200"},ee={class:"border-b border-gray-200 mb-6"},se={class:"-mb-px flex space-x-8","aria-label":"Tabs"},ae=["aria-current"],oe=["aria-current"],te=["aria-current"],re={class:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},ie={class:"flex items-center justify-end mt-6"},le={key:0},ne={key:1},de={class:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},ue={class:"sm:col-span-2"},me={class:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},pe={class:"flex items-center justify-end mt-6"},ce={key:0},ge={key:1},fe={class:"space-y-4"},ve={class:"flex items-center"},_e={class:"flex items-center"},be={class:"flex items-center"},we={class:"flex items-center"},xe={class:"flex items-center justify-end mt-8"},ye={key:0},ke={key:1},he={class:"bg-gray-50 p-4 rounded-md mb-6"},ze={class:"text-base font-semibold text-gray-800"},Ve={class:"text-sm text-gray-500 mt-1"},Se={class:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},Pe={__name:"Settings",props:{user:Object,organization:Object},setup(W){var $,F,O,j,B,D;const _=M(),b=W,r=t("general"),g=t({name:"",email:""}),w=t(!1),x=t({}),l=t({current_password:"",password:"",password_confirmation:""}),y=t(!1),f=t({}),n=t({email_quiz_results:(($=_.props.userPreferences)==null?void 0:$.email_quiz_results)??!0,email_new_assignments:((F=_.props.userPreferences)==null?void 0:F.email_new_assignments)??!0,email_reminders:((O=_.props.userPreferences)==null?void 0:O.email_reminders)??!0,in_app_notifications:((j=_.props.userPreferences)==null?void 0:j.in_app_notifications)??!0}),k=t(!1),C=t({}),h=t({name:((B=b.organization)==null?void 0:B.name)||"",slug:((D=b.organization)==null?void 0:D.slug)||""});t(!1),t({});const G=()=>{w.value=!0,x.value={},E.put(route("profile.update"),g.value,{preserveScroll:!0,onSuccess:()=>{console.log("Profile updated")},onError:p=>{x.value=p},onFinish:()=>{w.value=!1}})},K=()=>{y.value=!0,f.value={},E.put(route("password.update"),l.value,{preserveScroll:!0,onSuccess:()=>{console.log("Password updated"),l.value.current_password="",l.value.password="",l.value.password_confirmation=""},onError:p=>{f.value=p},onFinish:()=>{y.value=!1}})},L=()=>{k.value=!0,C.value={},E.put(route("settings.notifications.update"),n.value,{preserveScroll:!0,onSuccess:()=>{console.log("Notifications updated")},onError:p=>{C.value=p},onFinish:()=>{k.value=!1}})};return(p,e)=>(u(),Y(H,{title:"Settings"},{header:d(()=>e[14]||(e[14]=[s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Settings ",-1)])),default:d(()=>{var T,I;return[s("div",Q,[s("div",R,[s("div",X,[s("div",Z,[s("div",ee,[s("nav",se,[s("button",{onClick:e[0]||(e[0]=o=>r.value="general"),class:S([r.value==="general"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"]),"aria-current":r.value==="general"?"page":void 0}," General ",10,ae),s("button",{onClick:e[1]||(e[1]=o=>r.value="notification"),class:S([r.value==="notification"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"]),"aria-current":r.value==="notification"?"page":void 0}," Notification ",10,oe),s("button",{onClick:e[2]||(e[2]=o=>r.value="organization"),class:S([r.value==="organization"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"]),"aria-current":r.value==="organization"?"page":void 0}," Organization ",10,te)])]),s("div",null,[P(s("div",null,[e[15]||(e[15]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Profile Information",-1)),s("form",{onSubmit:q(G,["prevent"]),class:"mb-10"},[s("div",re,[s("div",null,[a(i,{for:"profile_name",value:"Name"}),a(m,{id:"profile_name",modelValue:g.value.name,"onUpdate:modelValue":e[3]||(e[3]=o=>g.value.name=o),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),a(v,{message:x.value.name,class:"mt-2"},null,8,["message"])]),s("div",null,[a(i,{for:"profile_email",value:"Email"}),a(m,{id:"profile_email",modelValue:g.value.email,"onUpdate:modelValue":e[4]||(e[4]=o=>g.value.email=o),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),a(v,{message:x.value.email,class:"mt-2"},null,8,["message"])])]),s("div",ie,[a(N,{disabled:w.value},{default:d(()=>[w.value?(u(),c("span",le,"Saving...")):(u(),c("span",ne,"Save Changes"))]),_:1},8,["disabled"])])],32),e[16]||(e[16]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Update Password",-1)),s("form",{onSubmit:q(K,["prevent"])},[s("div",de,[s("div",ue,[a(i,{for:"current_password",value:"Current Password"}),a(m,{id:"current_password",modelValue:l.value.current_password,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.current_password=o),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"current-password"},null,8,["modelValue"]),a(v,{message:f.value.current_password,class:"mt-2"},null,8,["message"])])]),s("div",me,[s("div",null,[a(i,{for:"password",value:"New Password"}),a(m,{id:"password",modelValue:l.value.password,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.password=o),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue"]),a(v,{message:f.value.password,class:"mt-2"},null,8,["message"])]),s("div",null,[a(i,{for:"password_confirmation",value:"Confirm Password"}),a(m,{id:"password_confirmation",modelValue:l.value.password_confirmation,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.password_confirmation=o),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue"]),a(v,{message:f.value.password_confirmation,class:"mt-2"},null,8,["message"])])]),s("div",pe,[a(N,{disabled:y.value},{default:d(()=>[y.value?(u(),c("span",ce,"Updating...")):(u(),c("span",ge,"Update Password"))]),_:1},8,["disabled"])])],32)],512),[[U,r.value==="general"]]),P(s("div",null,[e[21]||(e[21]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Notification Preferences",-1)),s("form",{onSubmit:q(L,["prevent"])},[s("div",fe,[s("div",ve,[a(V,{id:"email_quiz_results",checked:n.value.email_quiz_results,"onUpdate:checked":e[8]||(e[8]=o=>n.value.email_quiz_results=o),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,["checked"]),a(i,{for:"email_quiz_results",class:"ml-2 block text-sm text-gray-700"},{default:d(()=>e[17]||(e[17]=[z(" Email quiz results to me ")])),_:1,__:[17]})]),s("div",_e,[a(V,{id:"email_new_assignments",checked:n.value.email_new_assignments,"onUpdate:checked":e[9]||(e[9]=o=>n.value.email_new_assignments=o),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,["checked"]),a(i,{for:"email_new_assignments",class:"ml-2 block text-sm text-gray-700"},{default:d(()=>e[18]||(e[18]=[z(" Email me when assigned new quizzes ")])),_:1,__:[18]})]),s("div",be,[a(V,{id:"email_reminders",checked:n.value.email_reminders,"onUpdate:checked":e[10]||(e[10]=o=>n.value.email_reminders=o),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,["checked"]),a(i,{for:"email_reminders",class:"ml-2 block text-sm text-gray-700"},{default:d(()=>e[19]||(e[19]=[z(" Send email reminders for upcoming quizzes ")])),_:1,__:[19]})]),s("div",we,[a(V,{id:"in_app_notifications",checked:n.value.in_app_notifications,"onUpdate:checked":e[11]||(e[11]=o=>n.value.in_app_notifications=o),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,["checked"]),a(i,{for:"in_app_notifications",class:"ml-2 block text-sm text-gray-700"},{default:d(()=>e[20]||(e[20]=[z(" Show in-app notifications ")])),_:1,__:[20]})])]),s("div",xe,[a(N,{disabled:k.value},{default:d(()=>[k.value?(u(),c("span",ye,"Saving...")):(u(),c("span",ke,"Save Preferences"))]),_:1},8,["disabled"])])],32)],512),[[U,r.value==="notification"]]),P(s("div",null,[e[25]||(e[25]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"},"Organization Details",-1)),s("div",he,[e[22]||(e[22]=s("p",{class:"text-sm text-gray-600 mb-2"},"You are currently viewing settings for:",-1)),s("h4",ze,A((T=b.organization)==null?void 0:T.name),1),s("p",Ve,"ID: "+A((I=b.organization)==null?void 0:I.slug),1)]),s("div",Se,[s("div",null,[a(i,{for:"org_name",value:"Organization Name"}),a(m,{id:"org_name",modelValue:h.value.name,"onUpdate:modelValue":e[12]||(e[12]=o=>h.value.name=o),type:"text",class:"mt-1 block w-full",disabled:"",readonly:""},null,8,["modelValue"]),e[23]||(e[23]=s("p",{class:"mt-1 text-xs text-gray-500"},"Organization name cannot be changed here.",-1))]),s("div",null,[a(i,{for:"org_slug",value:"Organization Slug"}),a(m,{id:"org_slug",modelValue:h.value.slug,"onUpdate:modelValue":e[13]||(e[13]=o=>h.value.slug=o),type:"text",class:"mt-1 block w-full",disabled:"",readonly:""},null,8,["modelValue"]),e[24]||(e[24]=s("p",{class:"mt-1 text-xs text-gray-500"},"This is your organization's unique identifier.",-1))])])],512),[[U,r.value==="organization"]])])])])])])]}),_:1}))}},Be=J(Pe,[["__scopeId","data-v-177e3ddc"]]);export{Be as default};
