import{x as P,f as C,m as D,c as $,o as n,w as f,a,g as Q,b as l,j as s,d,h as v,F as q,l as b,t as m,k as U,n as j}from"./app-Ba3QO07z.js";import{A as B}from"./AppLayout-4TPH_oq1.js";import{_ as u}from"./InputError-Cqul_9-c.js";import{_ as r}from"./InputLabel-Chek1Wyb.js";import{_ as p}from"./TextInput-BN5ucXR0.js";import{_ as I}from"./Textarea-vbLWQgBC.js";import{_ as g}from"./Checkbox-D9VkArKa.js";import{_ as x}from"./SelectInput-BkvFRsuF.js";import{_ as S}from"./DateTimePicker-CcdVGVLx.js";import{R as T}from"./RichtextEditorNormal-ZCsNQp3p.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */import"./format-3b8xIHeq.js";const R={class:"flex justify-between items-center"},L={class:"font-semibold text-xl text-gray-800 leading-tight"},G={class:"py-12"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white shadow-sm sm:rounded-lg"},O={class:"p-6 bg-white border-b border-gray-200"},Y={class:"grid grid-cols-1 gap-6"},H={class:"space-y-6"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},K=["value","selected"],W=["value","selected"],X={key:0},Z={class:"space-y-6"},ee={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},se={class:"flex items-center"},te={class:"flex items-center"},ie={class:"flex items-center"},le={class:"flex items-center"},ae={class:"flex items-center"},oe={class:"flex items-center"},re={class:"flex items-center"},ne={class:"space-y-6"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ue={key:0},me={key:1},ce={class:"space-y-6"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pe={class:"relative"},ge={class:"relative"},fe={class:"space-y-6"},ye=["value","selected"],ve={key:0,class:"mt-3 p-3 bg-green-50 rounded"},qe={class:"font-medium"},be={class:"mt-2"},xe={key:0},ze={key:1},ke={key:0,class:"text-sm text-gray-500"},we={class:"space-y-6"},he={class:"card mt-4"},Ve={class:"card-body"},Ue={class:"form-check form-switch mb-3"},Se={key:0,class:"mt-3"},Te={class:"mb-3"},Ae=["value","selected"],Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pe={class:"flex items-center justify-end mt-6"},Ce=["disabled"],De={__name:"Edit",props:{quiz:Object,quizTypes:Object,industries:Object,certificateTemplates:{type:Array,default:()=>[]},gradingSystems:{type:Array,default:()=>[]}},setup(_){var k,w,h,V;const o=_,e=P({title:o.quiz.title,description:o.quiz.description||"",instructions:o.quiz.instructions,grading_system_id:o.quiz.grading_system_id||null,quiz_type:o.quiz.quiz_type,industry:o.quiz.industry||"",is_published:o.quiz.is_published,is_public:o.quiz.is_public,is_proctored:o.quiz.is_proctored,randomize_questions:o.quiz.randomize_questions,randomize_answers:o.quiz.randomize_answers,show_correct_answers:o.quiz.show_correct_answers,show_leaderboard:o.quiz.show_leaderboard,enable_discussions:o.quiz.enable_discussions,max_attempts:o.quiz.max_attempts,max_participants:o.quiz.max_participants,time_limit:o.quiz.time_limit,passing_score:o.quiz.passing_score,starts_at:o.quiz.starts_at||null,ends_at:o.quiz.ends_at||null,settings:o.quiz.settings,survey_thank_you_message:o.quiz.survey_thank_you_message,enable_certificates:o.quiz.enable_certificates||!1,certificate_template_id:o.quiz.certificate_template_id||null,certificate_pass_percentage:o.quiz.certificate_pass_percentage,certificate_expiry_days:o.quiz.certificate_expiry_days,settings:{show_scores:((k=o.quiz.settings)==null?void 0:k.show_scores)||!1,review_questions:((w=o.quiz.settings)==null?void 0:w.review_questions)||!1,per_question_timing:((h=o.quiz.settings)==null?void 0:h.per_question_timing)||!1,default_time_per_question:(V=o.quiz.settings)==null?void 0:V.default_time_per_question}}),A=()=>{e.put(route("examiner.quizzes.update",o.quiz.id))},y=C(()=>e.grading_system_id?o.gradingSystems.find(z=>z.id==e.grading_system_id):null);return(z,t)=>{const E=D("Link");return n(),$(B,{title:`Edit ${_.quiz.title}`},{header:f(()=>[a("div",R,[a("h2",L," Edit Quiz: "+m(_.quiz.title),1),l(E,{href:z.route("examiner.quizzes.show",_.quiz.id),class:"text-sm text-gray-600 hover:text-gray-900"},{default:f(()=>t[25]||(t[25]=[U(" Back to Quiz ")])),_:1,__:[25]},8,["href"])])]),default:f(()=>[a("div",G,[a("div",M,[a("div",F,[a("div",O,[a("form",{onSubmit:Q(A,["prevent"])},[a("div",Y,[a("div",H,[t[27]||(t[27]=a("h3",{class:"text-lg font-medium"},"Basic Information",-1)),a("div",null,[l(r,{for:"title",value:"Quiz Title *"}),l(p,{id:"title",modelValue:s(e).title,"onUpdate:modelValue":t[0]||(t[0]=i=>s(e).title=i),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.title},null,8,["message"])]),a("div",null,[l(r,{for:"description",value:"Description"}),l(T,{id:"description",modelValue:s(e).description,"onUpdate:modelValue":t[1]||(t[1]=i=>s(e).description=i),error:s(e).errors.description,content:s(e).description,class:"mt-1 block w-full"},null,8,["modelValue","error","content"]),l(u,{class:"mt-2",message:s(e).errors.description},null,8,["message"])]),a("div",null,[l(r,{for:"instructions",value:"Instructions"}),l(T,{id:"instructions",modelValue:s(e).instructions,"onUpdate:modelValue":t[2]||(t[2]=i=>s(e).instructions=i),content:s(e).instructions,error:s(e).errors.instructions,class:"mt-1 block w-full"},null,8,["modelValue","content","error"]),l(u,{class:"mt-2",message:s(e).errors.instructions},null,8,["message"])]),a("div",J,[a("div",null,[l(r,{for:"quiz_type",value:"Quiz Type *"}),l(x,{id:"quiz_type",modelValue:s(e).quiz_type,"onUpdate:modelValue":t[3]||(t[3]=i=>s(e).quiz_type=i),class:"mt-1 block w-full",required:""},{default:f(()=>[(n(!0),d(q,null,b(_.quizTypes,(i,c)=>(n(),d("option",{key:c,value:c,selected:s(e).quiz_type===c},m(i),9,K))),128))]),_:1},8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.quiz_type},null,8,["message"])]),a("div",null,[l(r,{for:"industry",value:"Industry"}),l(x,{id:"industry",modelValue:s(e).industry,"onUpdate:modelValue":t[4]||(t[4]=i=>s(e).industry=i),class:"mt-1 block w-full"},{default:f(()=>[t[26]||(t[26]=a("option",{value:null},"Select Industry",-1)),(n(!0),d(q,null,b(_.industries,(i,c)=>(n(),d("option",{key:c,value:c,selected:s(e).industry===c},m(i),9,W))),128))]),_:1,__:[26]},8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.industry},null,8,["message"])]),s(e).quiz_type==="survey"?(n(),d("div",X,[l(r,{for:"survey_thank_you_message",value:"Survey Thank You Message"}),l(I,{id:"survey_thank_you_message",modelValue:s(e).survey_thank_you_message,"onUpdate:modelValue":t[5]||(t[5]=i=>s(e).survey_thank_you_message=i),class:"mt-1 block w-full",rows:"3",placeholder:"Thank you for completing our survey!"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.survey_thank_you_message},null,8,["message"])])):v("",!0)])]),a("div",Z,[t[28]||(t[28]=a("h3",{class:"text-lg font-medium"},"Quiz Settings",-1)),a("div",ee,[a("div",se,[l(g,{id:"is_published",checked:s(e).is_published,"onUpdate:checked":t[6]||(t[6]=i=>s(e).is_published=i)},null,8,["checked"]),l(r,{for:"is_published",value:"Publish",class:"ml-2"})]),a("div",te,[l(g,{id:"is_proctored",checked:s(e).is_proctored,"onUpdate:checked":t[7]||(t[7]=i=>s(e).is_proctored=i)},null,8,["checked"]),l(r,{for:"is_proctored",value:"Use Proctor",class:"ml-2"})]),a("div",ie,[l(g,{id:"randomize_questions",checked:s(e).randomize_questions,"onUpdate:checked":t[8]||(t[8]=i=>s(e).randomize_questions=i)},null,8,["checked"]),l(r,{for:"randomize_questions",value:"Randomize Questions",class:"ml-2"})]),a("div",le,[l(g,{id:"randomize_answers",checked:s(e).randomize_answers,"onUpdate:checked":t[9]||(t[9]=i=>s(e).randomize_answers=i)},null,8,["checked"]),l(r,{for:"randomize_answers",value:"Randomize Answers",class:"ml-2"})]),a("div",ae,[l(g,{id:"show_scores",checked:s(e).settings.show_scores,"onUpdate:checked":t[10]||(t[10]=i=>s(e).settings.show_scores=i)},null,8,["checked"]),l(r,{for:"show_scores",value:"Show scores summary when done",class:"ml-2"})]),a("div",oe,[l(g,{id:"review_questions",checked:s(e).settings.review_questions,"onUpdate:checked":t[11]||(t[11]=i=>s(e).settings.review_questions=i)},null,8,["checked"]),l(r,{for:"review_questions",value:"Show questions & answers when done",class:"ml-2"})]),a("div",re,[l(g,{id:"per_question_timing",checked:s(e).settings.per_question_timing,"onUpdate:checked":t[12]||(t[12]=i=>s(e).settings.per_question_timing=i)},null,8,["checked"]),l(r,{for:"per_question_timing",value:"Timed per question",class:"ml-2"})])])]),a("div",ne,[t[31]||(t[31]=a("h3",{class:"text-lg font-medium"},"Access Restrictions",-1)),a("div",de,[a("div",null,[l(r,{for:"max_attempts",value:"Max Attempts (0 for unlimited)"}),l(p,{id:"max_attempts",modelValue:s(e).max_attempts,"onUpdate:modelValue":t[13]||(t[13]=i=>s(e).max_attempts=i),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.max_attempts},null,8,["message"])]),a("div",null,[l(r,{for:"max_participants",value:"Max Participants (0 for unlimited)"}),l(p,{id:"max_participants",modelValue:s(e).max_participants,"onUpdate:modelValue":t[14]||(t[14]=i=>s(e).max_participants=i),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.max_participants},null,8,["message"])]),s(e).settings.per_question_timing?(n(),d("div",ue,[l(r,{for:"time_per_question",value:"Default Time per question (seconds)"}),l(p,{modelValue:s(e).settings.default_time_per_question,"onUpdate:modelValue":t[15]||(t[15]=i=>s(e).settings.default_time_per_question=i),type:"number",id:"default_time_per_question",min:"5",max:"300",class:"mt-1 block w-full",placeholder:"60"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors["settings.default_time_per_question"]},null,8,["message"]),t[29]||(t[29]=a("p",{class:"text-xs text-gray-500 mt-1"}," Each question will have a countdown timer. If a question does not have it own time, this will be used. Previous button is disabled. ",-1))])):(n(),d("div",me,[l(r,{for:"time_limit",value:"Time Limit (minutes)"}),l(p,{id:"time_limit",modelValue:s(e).time_limit,"onUpdate:modelValue":t[16]||(t[16]=i=>s(e).time_limit=i),type:"number",min:"1",class:"mt-1 block w-full"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.time_limit},null,8,["message"]),t[30]||(t[30]=a("p",{class:"text-xs text-gray-500 mt-1"}," Previous button is enabled. ",-1))])),a("div",null,[l(r,{for:"passing_score",value:"Passing Score (%)"}),l(p,{id:"passing_score",modelValue:s(e).passing_score,"onUpdate:modelValue":t[17]||(t[17]=i=>s(e).passing_score=i),type:"number",min:"0",max:"100",class:"mt-1 block w-full"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.passing_score},null,8,["message"])])])]),a("div",ce,[t[32]||(t[32]=a("h3",{class:"text-lg font-medium"},"Schedule",-1)),a("div",_e,[a("div",pe,[l(r,{for:"starts_at",value:"Start Date & Time"}),l(S,{id:"starts_at",modelValue:s(e).starts_at,"onUpdate:modelValue":t[18]||(t[18]=i=>s(e).starts_at=i),timezone:"UTC",class:"mt-1 block w-full"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.starts_at},null,8,["message"])]),a("div",ge,[l(r,{for:"ends_at",value:"End Date & Time"}),l(S,{id:"ends_at",modelValue:s(e).ends_at,"onUpdate:modelValue":t[19]||(t[19]=i=>s(e).ends_at=i),timezone:"UTC",class:"mt-1 block w-full"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.ends_at},null,8,["message"])])])]),a("div",fe,[t[34]||(t[34]=a("h3",{class:"text-lg font-medium"},"Grading System",-1)),a("div",null,[l(r,{for:"grading_system_id",value:"Select Grading System"}),l(x,{id:"grading_system_id",modelValue:s(e).grading_system_id,"onUpdate:modelValue":t[20]||(t[20]=i=>s(e).grading_system_id=i),class:"mt-1 block w-full"},{default:f(()=>[t[33]||(t[33]=a("option",{value:null},"Default (Pass/Fail)",-1)),(n(!0),d(q,null,b(_.gradingSystems,i=>(n(),d("option",{key:i.id,value:i.id,selected:s(e).grading_system_id==i.id},m(i.name)+" ("+m(i.type)+") ",9,ye))),128))]),_:1,__:[33]},8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.grading_system_id},null,8,["message"]),y.value?(n(),d("div",ve,[a("h4",qe,m(y.value.name)+" Grade Ranges:",1),a("div",be,[(n(!0),d(q,null,b(Array.isArray(y.value.grade_ranges)?y.value.grade_ranges:[],(i,c)=>(n(),d("div",{key:c,class:"text-sm"},[U(m(i.min)+"% - "+m(i.max)+"%: "+m(i.grade)+" ",1),i.points?(n(),d("span",xe,"("+m(i.points)+" points)",1)):v("",!0),i.interpretation?(n(),d("span",ze,"- "+m(i.interpretation),1)):v("",!0)]))),128)),!Array.isArray(y.value.grade_ranges)||y.value.grade_ranges.length===0?(n(),d("div",ke," No grade ranges defined for this system. ")):v("",!0)])])):v("",!0)])]),a("div",we,[t[36]||(t[36]=a("h3",{class:"text-lg font-medium"},"Certificate Settings",-1)),a("div",he,[a("div",Ve,[a("div",Ue,[l(g,{id:"enable_certificates",checked:s(e).enable_certificates,"onUpdate:checked":t[21]||(t[21]=i=>s(e).enable_certificates=i)},null,8,["checked"]),l(r,{for:"enable_certificates",value:"Enable certificates for this quiz",class:"ml-2"}),l(u,{class:"mt-2",message:s(e).errors.enable_certificates},null,8,["message"])]),s(e).enable_certificates?(n(),d("div",Se,[a("div",Te,[l(r,{for:"certificate_template_id",value:"Certificate Template"}),l(x,{id:"certificate_template_id",modelValue:s(e).certificate_template_id,"onUpdate:modelValue":t[22]||(t[22]=i=>s(e).certificate_template_id=i),class:"mt-1 block w-full"},{default:f(()=>[t[35]||(t[35]=a("option",{value:null},"Use Default Template",-1)),(n(!0),d(q,null,b(_.certificateTemplates,i=>(n(),d("option",{key:i.id,value:i.id,selected:s(e).certificate_template_id===i.id},m(i.name),9,Ae))),128))]),_:1,__:[35]},8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.certificate_template_id},null,8,["message"])]),a("div",Ee,[a("div",null,[l(r,{for:"certificate_pass_percentage",value:"Passing Percentage"}),l(p,{id:"certificate_pass_percentage",modelValue:s(e).certificate_pass_percentage,"onUpdate:modelValue":t[23]||(t[23]=i=>s(e).certificate_pass_percentage=i),type:"number",min:"0",max:"100",class:"mt-1 block w-full"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.certificate_pass_percentage},null,8,["message"])]),a("div",null,[l(r,{for:"certificate_expiry_days",value:"Expiry Days (leave blank for no expiry)"}),l(p,{id:"certificate_expiry_days",modelValue:s(e).certificate_expiry_days,"onUpdate:modelValue":t[24]||(t[24]=i=>s(e).certificate_expiry_days=i),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.certificate_expiry_days},null,8,["message"])])])])):v("",!0)])])]),a("div",Pe,[a("button",{type:"submit",class:j(["inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150",{"opacity-25":s(e).processing}]),disabled:s(e).processing}," Update Quiz ",10,Ce)])])],32)])])])])]),_:1},8,["title"])}}},He=N(De,[["__scopeId","data-v-b09fa4fe"]]);export{He as default};
