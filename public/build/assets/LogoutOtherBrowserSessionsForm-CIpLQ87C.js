import{i as y,x as V,d as t,o,a as s,h,F as v,l as B,t as a,k as b,b as m,w as C,j as i,T as L,a1 as S,n as O}from"./app-D4wzVpQR.js";import{_ as A}from"./InputError-CnjA91OL.js";import{_ as j}from"./TextInput-DLu-NW27.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"p-6 bg-white border-b border-gray-200"},z={class:"max-w-3xl"},I={key:0,class:"mt-4 space-y-6"},F={key:0,class:"size-8 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},N={key:1,class:"size-8 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},T={class:"ml-3"},P={class:"text-sm font-medium text-gray-800"},U={class:"text-xs text-gray-500"},D={key:0,class:"text-green-600 font-semibold"},E={key:1,class:"italic"},K={key:1,class:"text-gray-500 text-sm"},Z={class:"flex items-center mt-8"},$={key:0,class:"ml-3 text-sm text-gray-600"},q={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},G={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},J={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Q={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},R={class:"sm:flex sm:items-start"},W={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},X={class:"mt-2"},Y={class:"mt-4"},ss={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},es=["disabled"],ts={key:0,class:"flex items-center"},os={key:1},rs={__name:"LogoutOtherBrowserSessionsForm",props:{sessions:Array},setup(u){const l=y(!1),d=y(null),r=V({password:""}),_=()=>{l.value=!0,r.reset()},f=()=>{r.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>c(),onError:()=>{l.value&&d.value&&setTimeout(()=>d.value.focus(),10)},onFinish:()=>r.reset()})},c=()=>{l.value=!1,r.reset()};return(ns,e)=>{var g;return o(),t(v,null,[s("div",M,[s("div",z,[e[3]||(e[3]=s("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Browser Sessions",-1)),e[4]||(e[4]=s("p",{class:"text-gray-600 mb-6"},"Manage and log out your active sessions on other browsers and devices.",-1)),e[5]||(e[5]=s("div",{class:"max-w-xl text-sm text-gray-600 mb-6"}," If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password. ",-1)),((g=u.sessions)==null?void 0:g.length)>0?(o(),t("div",I,[(o(!0),t(v,null,B(u.sessions,(n,k)=>{var p,w,x;return o(),t("div",{key:k,class:"flex items-center p-3 bg-gray-50 rounded-md"},[s("div",null,[(p=n.agent)!=null&&p.is_desktop?(o(),t("svg",F,e[1]||(e[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"},null,-1)]))):(o(),t("svg",N,e[2]||(e[2]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"},null,-1)])))]),s("div",T,[s("div",P,a(((w=n.agent)==null?void 0:w.platform)||"Unknown Platform")+" - "+a(((x=n.agent)==null?void 0:x.browser)||"Unknown Browser"),1),s("div",U,[b(" IP: "+a(n.ip_address)+", ",1),n.is_current_device?(o(),t("span",D,"This device")):(o(),t("span",E,"Last active "+a(n.last_active),1))])])])}),128))])):(o(),t("div",K," No other active browser sessions found. ")),s("div",Z,[s("button",{type:"button",onClick:_,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition ease-in-out duration-150"}," Log Out Other Browser Sessions "),m(L,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:C(()=>[i(r).recentlySuccessful?(o(),t("p",$,"Done.")):h("",!0)]),_:1})])])]),l.value?(o(),t("div",q,[s("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:c}),s("div",G,[e[10]||(e[10]=s("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),s("div",J,[s("div",Q,[s("div",R,[e[8]||(e[8]=s("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[s("svg",{class:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])],-1)),s("div",W,[e[7]||(e[7]=s("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Log Out Other Browser Sessions ",-1)),s("div",X,[e[6]||(e[6]=s("p",{class:"text-sm text-gray-500"}," Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices. ",-1)),s("div",Y,[m(j,{ref_key:"passwordInput",ref:d,modelValue:i(r).password,"onUpdate:modelValue":e[0]||(e[0]=n=>i(r).password=n),type:"password",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Password",autocomplete:"current-password",onKeyup:S(f,["enter"])},null,8,["modelValue"]),m(A,{message:i(r).errors.password,class:"mt-2"},null,8,["message"])])])])])]),s("div",ss,[s("button",{type:"button",disabled:i(r).processing,class:O({"opacity-50 cursor-not-allowed":i(r).processing,"inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm":!i(r).processing}),onClick:f},[i(r).processing?(o(),t("span",ts,e[9]||(e[9]=[s("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),b(" Logging Out... ")]))):(o(),t("span",os,"Log Out Other Browser Sessions"))],10,es),s("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:c}," Cancel ")])])])])):h("",!0)],64)}}},cs=H(rs,[["__scopeId","data-v-6e0110e0"]]);export{cs as default};
