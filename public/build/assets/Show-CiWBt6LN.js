import{A as q}from"./AppLayout-DUw_ZWTf.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{i as A,d as a,o,a as e,h as x,t as r,n as _,F as b,l as k,c as N,w as C,b as D}from"./app-Do1sSIaC.js";/* empty css                                                                  */const S={class:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200"},T={class:"bg-gray-50 px-4 py-3 border-b border-gray-200"},O={class:"flex justify-between items-center"},j={class:"text-lg font-medium text-gray-800"},B={key:0,class:"text-sm text-gray-600 mt-1"},F={class:"p-4"},L={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},E={class:"col-span-2"},M={class:"bg-gray-50 p-3 rounded-md"},Q={class:"font-medium"},U={key:0,class:"text-sm text-gray-600 mt-1"},I={class:"inline-block px-2 py-1 bg-blue-50 text-blue-800 rounded text-sm"},R={key:2,class:"whitespace-pre-wrap"},V={class:"space-y-3"},z={class:"font-medium"},J={class:"font-medium"},P={key:0},G={class:"text-sm"},H={key:0,class:"mt-4 pt-4 border-t border-gray-200"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"text-sm"},X={class:"text-sm"},Y={key:0},Z={class:"text-xs bg-gray-50 p-2 rounded"},ee={__name:"QuestionResponseCard",props:{question:{type:Object,required:!0,default:()=>({question:"",description:"",type:"",points:0,options:[],correct_answers:[]})},response:{type:Object,required:!0,default:()=>({answer:"",is_correct:!1,points_earned:0,time_spent:0,feedback:"",grading_data:null,created_at:""})},questionNumber:{type:Number,required:!0}},setup(t){const u=t,m=A(!1),l=n=>({multiple_choice:"Multiple Choice",true_false:"True/False",short_answer:"Short Answer",essay:"Essay",fill_in_blank:"Fill in Blank",matching:"Matching",ordering:"Ordering"})[n]||n,d=n=>{if(!n)return"N/A";const s=Math.floor(n/60),i=n%60;return`${s}m ${i}s`},g=n=>n?new Date(n).toLocaleString():"N/A",p=n=>n?typeof n=="string"?n:typeof n=="object"?n.text||n.value||JSON.stringify(n):String(n):"No answer provided",y=()=>{var n,s;try{return!((n=u.question)!=null&&n.options)||!((s=u.question)!=null&&s.correct_answers)?"Correct answer not available":u.question.correct_answers.map(i=>{const c=u.question.options[i];return c?p(c):`Option ${i}`}).filter(Boolean).join(", ")}catch(i){return console.error("Error getting correct answers:",i),"Correct answer not available"}};return(n,s)=>(o(),a("div",S,[e("div",T,[e("div",O,[e("h3",j," Question "+r(t.questionNumber)+": "+r(t.question.question),1),e("span",{class:_(["px-2 py-1 text-xs font-semibold rounded-full",t.response.is_correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},r(t.response.is_correct?"Correct":"Incorrect"),3)]),t.question.description?(o(),a("p",B,r(t.question.description),1)):x("",!0)]),e("div",F,[e("div",L,[e("div",E,[s[1]||(s[1]=e("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Student Response",-1)),e("div",M,[t.question.type==="multiple_choice"?(o(),a(b,{key:0},[e("p",Q,r(p(t.response.answer)),1),t.response.is_correct?x("",!0):(o(),a("p",U," Correct answer: "+r(y()),1))],64)):t.question.type==="fill_in_blank"?(o(!0),a(b,{key:1},k(Array.isArray(t.response.answer)?t.response.answer:[t.response.answer],(i,c)=>(o(),a("div",{key:c,class:"mb-1"},[e("span",I,r(i),1)]))),128)):(o(),a("p",R,r(t.response.answer),1))])]),e("div",null,[s[5]||(s[5]=e("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Performance",-1)),e("div",V,[e("div",null,[s[2]||(s[2]=e("p",{class:"text-xs text-gray-500"},"Points Earned",-1)),e("p",z,r(t.response.points_earned)+" / "+r(t.question.points),1)]),e("div",null,[s[3]||(s[3]=e("p",{class:"text-xs text-gray-500"},"Time Spent",-1)),e("p",J,r(d(t.response.time_spent)),1)]),t.response.feedback?(o(),a("div",P,[s[4]||(s[4]=e("p",{class:"text-xs text-gray-500"},"Feedback",-1)),e("p",G,r(t.response.feedback),1)])):x("",!0)])])]),m.value?(o(),a("div",H,[s[9]||(s[9]=e("h4",{class:"text-sm font-medium text-gray-500 mb-2"},"Details",-1)),e("div",K,[e("div",null,[s[6]||(s[6]=e("p",{class:"text-xs text-gray-500"},"Question Type",-1)),e("p",W,r(l(t.question.type)),1)]),e("div",null,[s[7]||(s[7]=e("p",{class:"text-xs text-gray-500"},"Answered At",-1)),e("p",X,r(g(t.response.created_at)),1)]),t.response.grading_data?(o(),a("div",Y,[s[8]||(s[8]=e("p",{class:"text-xs text-gray-500"},"Grading Data",-1)),e("pre",Z,r(JSON.stringify(t.response.grading_data,null,2)),1)])):x("",!0)])])):x("",!0),e("button",{onClick:s[0]||(s[0]=i=>m.value=!m.value),class:"mt-3 text-sm text-blue-600 hover:text-blue-800 focus:outline-none"},r(m.value?"Hide Details":"Show Details"),1)])]))}},te=$(ee,[["__scopeId","data-v-0c5f2b51"]]),se={class:"py-6"},ne={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},re={class:"bg-white shadow-sm sm:rounded-lg mb-6 p-6"},oe={class:"flex justify-between items-start"},ie={class:"text-gray-600"},ae={class:"text-gray-600"},le={class:"text-right"},de={class:"text-sm text-gray-500 mt-1"},ce={class:"space-y-6"},xe={__name:"Show",props:{quiz:{type:Object,default:()=>({})},attempt:{type:Object,default:()=>({})},questions:{type:Array,default:()=>[]}},setup(t){const u=l=>{if(!l)return"N/A";try{return new Date(l).toLocaleString()}catch{return"Invalid Date"}},m=l=>{if(!l)return"N/A";const d=Math.floor(l/60),g=l%60;return`${d}m ${g}s`};return(l,d)=>{var g;return o(),N(q,{title:`Attempt #${((g=t.attempt)==null?void 0:g.attempt_number)||"Unknown"}`},{default:C(()=>{var p,y,n,s,i,c,h,v;return[e("div",se,[e("div",ne,[e("div",re,[e("div",oe,[e("div",null,[d[0]||(d[0]=e("h2",{class:"text-xl font-semibold"},"Attempt Details",-1)),e("p",ie," User: "+r(((y=(p=t.attempt)==null?void 0:p.user)==null?void 0:y.name)||"Unknown User")+" ("+r(((s=(n=t.attempt)==null?void 0:n.user)==null?void 0:s.email)||"No email")+") ",1),e("p",ae," Completed: "+r(u((i=t.attempt)==null?void 0:i.completed_at)),1)]),e("div",le,[e("span",{class:_(["px-3 py-1 rounded-full text-sm font-medium",(c=t.attempt)!=null&&c.is_passed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])}," Score: "+r(((h=t.attempt)==null?void 0:h.percentage)||0)+"% ",3),e("p",de," Time: "+r(m((v=t.attempt)==null?void 0:v.time_spent)),1)])])]),e("div",ce,[(o(!0),a(b,null,k(t.questions,f=>{var w;return o(),a("div",{key:f.id,class:"bg-white shadow-sm sm:rounded-lg p-6"},[D(te,{question:f,response:(w=f.responses)==null?void 0:w[0]},null,8,["question","response"])])}),128))])])])]}),_:1},8,["title"])}}};export{xe as default};
