import{d as g,o as b,a as e,f as I,F as _,l as $,b as h,j as k,k as C,e as p,H as q,A as w,Q as A,y as F,h as E,z as M,i as D,E as R,t as U,w as B,I as P}from"./app-DPrmhUy0.js";function j(n,V){return b(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function z(n,V){return b(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}function O(n,V){return b(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}const T={class:"space-y-4"},L=["checked","onChange","name"],N=["checked","onChange"],Z=["value","onInput"],H=["onClick"],G={class:"mt-2 space-y-2"},Q={class:"inline-flex items-center"},W=["checked"],J={class:"inline-flex items-center"},K=["checked"],wt={__name:"MultipleChoiceEditor",props:{modelValue:{type:Object,required:!0,default:()=>({options:[],correct_answers:[],settings:{randomize:!1,multiple_selection:!1}})}},emits:["update:modelValue"],setup(n,{emit:V}){const a=n,s=V,r=I({get(){var l,t;return{options:a.modelValue.options||[],correct_answers:a.modelValue.correct_answers||[],settings:{randomize:((l=a.modelValue.settings)==null?void 0:l.randomize)||!1,multiple_selection:((t=a.modelValue.settings)==null?void 0:t.multiple_selection)||!1,...a.modelValue.settings}}},set(l){s("update:modelValue",{...a.modelValue,...l})}}),f=l=>{const t=r.value.options[l];s("update:modelValue",{...a.modelValue,correct_answers:[t]})},o=(l,t)=>{const u=r.value.options[l];let c=Array.isArray(r.value.correct_answers)?[...r.value.correct_answers]:[];t?c.includes(u)||c.push(u):c=c.filter(v=>v!==u),s("update:modelValue",{...a.modelValue,correct_answers:c})},m=l=>{const t=[...r.value.options],u=t[l];t.splice(l,1);let c=Array.isArray(r.value.correct_answers)?[...r.value.correct_answers]:[];c=c.filter(v=>v!==u),s("update:modelValue",{...a.modelValue,options:t,correct_answers:c})},y=()=>{const l=[...r.value.options,""];s("update:modelValue",{...a.modelValue,options:l})},x=(l,t)=>{s("update:modelValue",{...a.modelValue,settings:{...r.value.settings,[l]:t}})},i=(l,t)=>{const u=[...r.value.options];u[l]=t,s("update:modelValue",{...a.modelValue,options:u})},d=l=>{let t=Array.isArray(r.value.correct_answers)?[...r.value.correct_answers]:[];!l&&t.length>1&&(t=t.slice(0,1)),s("update:modelValue",{...a.modelValue,correct_answers:t,settings:{...r.value.settings,multiple_selection:l}})};return(l,t)=>(b(),g("div",T,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700"},"Options",-1)),(b(!0),g(_,null,$(r.value.options,(u,c)=>(b(),g("div",{key:c,class:"mt-2 flex items-start"},[r.value.settings.multiple_selection?(b(),g("input",{key:1,checked:r.value.correct_answers.includes(c),onChange:v=>o(c,v.target.checked),type:"checkbox",class:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"},null,40,N)):(b(),g("input",{key:0,checked:r.value.correct_answers.includes(c),onChange:v=>f(c),type:"radio",name:`correct-answer-${Math.random()}`,class:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300"},null,40,L)),e("input",{value:u,onInput:v=>i(c,v.target.value),type:"text",class:"ml-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Option text"},null,40,Z),e("button",{onClick:v=>m(c),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[h(k(O),{class:"h-4 w-4"})],8,H)]))),128)),e("button",{onClick:y,type:"button",class:"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[h(k(z),{class:"-ml-0.5 mr-2 h-4 w-4"}),t[2]||(t[2]=C(" Add Option "))])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Settings",-1)),e("div",G,[e("label",Q,[e("input",{checked:r.value.settings.randomize,onChange:t[0]||(t[0]=u=>x("randomize",u.target.checked)),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,40,W),t[4]||(t[4]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize option order",-1))]),e("label",J,[e("input",{checked:r.value.settings.multiple_selection,onChange:t[1]||(t[1]=u=>d(u.target.checked)),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,40,K),t[5]||(t[5]=e("span",{class:"ml-2 text-sm text-gray-600"},"Allow multiple correct answers",-1))])])])]))}},X={class:"space-y-6"},Y={class:"flex items-center space-x-4"},ee={class:"inline-flex items-center"},te={class:"inline-flex items-center"},se={class:"space-y-4"},le={class:"space-y-2"},oe={class:"inline-flex items-center"},ne={class:"inline-flex items-center"},Vt={__name:"TrueFalseEditor",props:{modelValue:{type:Object,required:!0,default:()=>({type:"true_false",correct_answers:["true"],settings:{randomize:!1,show_feedback:!0,true_feedback:"",false_feedback:""}})}},emits:["update:modelValue"],setup(n,{emit:V}){return(a,s)=>(b(),g("div",X,[e("div",null,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Correct Answer",-1)),e("div",Y,[e("label",ee,[p(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>n.modelValue.correct_answers=r),type:"radio",value:["true"],class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[q,n.modelValue.correct_answers]]),s[6]||(s[6]=e("span",{class:"ml-2 text-sm text-gray-700"},"True",-1))]),e("label",te,[p(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>n.modelValue.correct_answers=r),type:"radio",value:["false"],class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[q,n.modelValue.correct_answers]]),s[7]||(s[7]=e("span",{class:"ml-2 text-sm text-gray-700"},"False",-1))])])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Feedback Messages",-1)),e("div",se,[e("div",null,[s[9]||(s[9]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Feedback when answered True",-1)),p(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>n.modelValue.settings.true_feedback=r),type:"text",placeholder:"Optional feedback message",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.true_feedback]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Feedback when answered False",-1)),p(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>n.modelValue.settings.false_feedback=r),type:"text",placeholder:"Optional feedback message",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.false_feedback]])])])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Settings",-1)),e("div",le,[e("label",oe,[p(e("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>n.modelValue.settings.randomize=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[A,n.modelValue.settings.randomize]]),s[12]||(s[12]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize True/False order",-1))]),e("label",ne,[p(e("input",{"onUpdate:modelValue":s[5]||(s[5]=r=>n.modelValue.settings.show_feedback=r),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[A,n.modelValue.settings.show_feedback]]),s[13]||(s[13]=e("span",{class:"ml-2 text-sm text-gray-600"},"Show feedback after answering",-1))])])])]))}},re={class:"space-y-6"},ae={class:"space-y-2"},ue=["onUpdate:modelValue"],ie=["onClick"],de={class:"space-y-4"},me={key:0},ht={__name:"ShortAnswerEditor",props:{modelValue:{type:Object,required:!0,default:()=>({type:"short_answer",correct_answers:[],settings:{case_sensitive:!1,matching_type:"exact",regex_pattern:"",feedback:""}})}},emits:["update:modelValue"],setup(n,{emit:V}){const a=n;F(()=>a.modelValue,f=>{Array.isArray(f.correct_answers)||(f.correct_answers=[])},{immediate:!0});const s=()=>{Array.isArray(a.modelValue.correct_answers)||(a.modelValue.correct_answers=[]),a.modelValue.correct_answers.push("")},r=f=>{a.modelValue.correct_answers.splice(f,1)};return(f,o)=>(b(),g("div",re,[e("div",null,[o[5]||(o[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Accepted Answers",-1)),e("div",ae,[(b(!0),g(_,null,$(n.modelValue.correct_answers,(m,y)=>(b(),g("div",{key:y,class:"flex items-center"},[p(e("input",{"onUpdate:modelValue":x=>n.modelValue.correct_answers[y]=x,type:"text",class:"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter an accepted answer"},null,8,ue),[[w,n.modelValue.correct_answers[y]]]),e("button",{onClick:x=>r(y),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[h(k(O),{class:"h-4 w-4"})],8,ie)]))),128))]),e("button",{onClick:s,type:"button",class:"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[h(k(z),{class:"-ml-0.5 mr-2 h-4 w-4"}),o[4]||(o[4]=C(" Add Another Accepted Answer "))])]),e("div",null,[o[12]||(o[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Answer Settings",-1)),e("div",de,[e("div",null,[o[7]||(o[7]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Case Sensitivity",-1)),p(e("select",{"onUpdate:modelValue":o[0]||(o[0]=m=>n.modelValue.settings.case_sensitive=m),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},o[6]||(o[6]=[e("option",{value:!1},"Case insensitive (default)",-1),e("option",{value:!0},"Case sensitive",-1)]),512),[[M,n.modelValue.settings.case_sensitive]])]),e("div",null,[o[9]||(o[9]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Answer Matching",-1)),p(e("select",{"onUpdate:modelValue":o[1]||(o[1]=m=>n.modelValue.settings.matching_type=m),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},o[8]||(o[8]=[e("option",{value:"exact"},"Exact match",-1),e("option",{value:"contains"},"Contains text",-1),e("option",{value:"regex"},"Regular expression",-1)]),512),[[M,n.modelValue.settings.matching_type]])]),n.modelValue.settings.matching_type==="regex"?(b(),g("div",me,[o[10]||(o[10]=e("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Regex Pattern",-1)),p(e("input",{"onUpdate:modelValue":o[2]||(o[2]=m=>n.modelValue.settings.regex_pattern=m),type:"text",placeholder:"Enter regex pattern",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.regex_pattern]]),o[11]||(o[11]=e("p",{class:"mt-1 text-xs text-gray-500"},"Example: ^[A-Z][a-z]+$ (matches capitalized words)",-1))])):E("",!0)])]),e("div",null,[o[13]||(o[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Feedback",-1)),p(e("textarea",{"onUpdate:modelValue":o[3]||(o[3]=m=>n.modelValue.settings.feedback=m),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Optional feedback to show after answering"},null,512),[[w,n.modelValue.settings.feedback]])])]))}},ce={class:"space-y-6"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},be={class:"mt-2 space-y-2"},fe={class:"inline-flex items-center"},pe={class:"inline-flex items-center"},xe={class:"mt-2 space-y-3"},ve={class:"flex items-center h-5 mt-1.5"},ye=["onUpdate:modelValue"],we={class:"ml-3 flex-1"},Ve=["onUpdate:modelValue"],he=["onClick"],ke={class:"mt-2 space-y-2"},_e={class:"inline-flex items-center"},$e={class:"inline-flex items-center"},kt={__name:"EssayEditor",props:{modelValue:{type:Object,required:!0,default:()=>({type:"essay",correct_answers:[],settings:{min_words:100,max_words:500,allow_rich_text:!0,require_paragraphs:!1,sample_answer:"",rubric:[],enable_plagiarism_check:!1,allow_attachments:!1}})}},emits:["update:modelValue"],setup(n,{emit:V}){const a=n,s=()=>{a.modelValue.settings.rubric.push({points:5,description:""})},r=f=>{a.modelValue.settings.rubric.splice(f,1)};return(f,o)=>(b(),g("div",ce,[e("div",ge,[e("div",null,[o[7]||(o[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Minimum Word Count",-1)),p(e("input",{"onUpdate:modelValue":o[0]||(o[0]=m=>n.modelValue.settings.min_words=m),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.min_words,void 0,{number:!0}]])]),e("div",null,[o[8]||(o[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Maximum Word Count",-1)),p(e("input",{"onUpdate:modelValue":o[1]||(o[1]=m=>n.modelValue.settings.max_words=m),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[w,n.modelValue.settings.max_words,void 0,{number:!0}]])])]),e("div",null,[o[11]||(o[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"Formatting Requirements",-1)),e("div",be,[e("label",fe,[p(e("input",{"onUpdate:modelValue":o[2]||(o[2]=m=>n.modelValue.settings.allow_rich_text=m),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[A,n.modelValue.settings.allow_rich_text]]),o[9]||(o[9]=e("span",{class:"ml-2 text-sm text-gray-600"},"Allow rich text formatting",-1))]),e("label",pe,[p(e("input",{"onUpdate:modelValue":o[3]||(o[3]=m=>n.modelValue.settings.require_paragraphs=m),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[A,n.modelValue.settings.require_paragraphs]]),o[10]||(o[10]=e("span",{class:"ml-2 text-sm text-gray-600"},"Require multiple paragraphs",-1))])])]),e("div",null,[o[12]||(o[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Sample Answer (Optional)",-1)),p(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=m=>n.modelValue.settings.sample_answer=m),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Provide an example of a good answer"},null,512),[[w,n.modelValue.settings.sample_answer]])]),e("div",null,[o[13]||(o[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Grading Rubric",-1)),e("div",xe,[(b(!0),g(_,null,$(n.modelValue.settings.rubric,(m,y)=>(b(),g("div",{key:y,class:"flex items-start"},[e("div",ve,[p(e("input",{"onUpdate:modelValue":x=>m.points=x,type:"number",min:"0",class:"focus:ring-blue-500 h-8 w-16 text-blue-600 border-gray-300 rounded"},null,8,ye),[[w,m.points]])]),e("div",we,[p(e("input",{"onUpdate:modelValue":x=>m.description=x,type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Criterion description"},null,8,Ve),[[w,m.description]]),e("button",{onClick:x=>r(y),class:"mt-1 text-sm text-red-600 hover:text-red-800"}," Remove criterion ",8,he)])]))),128)),e("button",{onClick:s,type:"button",class:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Add Grading Criterion ")])]),e("div",null,[o[16]||(o[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"Additional Settings",-1)),e("div",ke,[e("label",_e,[p(e("input",{"onUpdate:modelValue":o[5]||(o[5]=m=>n.modelValue.settings.enable_plagiarism_check=m),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[A,n.modelValue.settings.enable_plagiarism_check]]),o[14]||(o[14]=e("span",{class:"ml-2 text-sm text-gray-600"},"Enable plagiarism check",-1))]),e("label",$e,[p(e("input",{"onUpdate:modelValue":o[6]||(o[6]=m=>n.modelValue.settings.allow_attachments=m),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[A,n.modelValue.settings.allow_attachments]]),o[15]||(o[15]=e("span",{class:"ml-2 text-sm text-gray-600"},"Allow file attachments",-1))])])])]))}},Ce={class:"space-y-6"},Ae={class:"mt-1 relative"},Ue={key:0},Oe={class:"mt-2 space-y-3"},ze={class:"inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium bg-blue-100 text-blue-800 mr-3"},Ee={class:"flex-1"},Ie=["onUpdate:modelValue","placeholder"],Se={class:"mt-1 flex space-x-2"},qe=["onUpdate:modelValue"],Me={key:1},De={class:"mt-2 space-y-3"},Fe={class:"flex items-center"},Re={class:"inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium bg-blue-100 text-blue-800 mr-3"},Be=["onClick"],Pe=["onUpdate:modelValue","placeholder"],je=["onClick"],_t={__name:"FillInTheBlankEditor",props:{modelValue:{type:Object,required:!0,default:()=>({type:"fill_in_the_blank",question:"",correct_answers:[],settings:{case_sensitive:[],alternatives:[],feedback:""}})}},emits:["update:modelValue"],setup(n,{emit:V}){const a=D(null),s=n,r=V,f=D([]),o=()=>{Array.isArray(s.modelValue.correct_answers)||(s.modelValue.correct_answers=[]),Array.isArray(s.modelValue.settings.case_sensitive)||(s.modelValue.settings.case_sensitive=[]),Array.isArray(s.modelValue.settings.alternatives)||(s.modelValue.settings.alternatives=[])},m=()=>{o();const d=/\[blank\]/gi,l=s.modelValue.question.match(d);for(f.value=l?Array(l.length).fill(""):[];s.modelValue.correct_answers.length<f.value.length;)s.modelValue.correct_answers.push("");for(;s.modelValue.settings.case_sensitive.length<f.value.length;)s.modelValue.settings.case_sensitive.push(!1);for(;s.modelValue.settings.alternatives.length<f.value.length;)s.modelValue.settings.alternatives.push([]);s.modelValue.correct_answers.length>f.value.length&&(s.modelValue.correct_answers=s.modelValue.correct_answers.slice(0,f.value.length)),s.modelValue.settings.case_sensitive.length>f.value.length&&(s.modelValue.settings.case_sensitive=s.modelValue.settings.case_sensitive.slice(0,f.value.length)),s.modelValue.settings.alternatives.length>f.value.length&&(s.modelValue.settings.alternatives=s.modelValue.settings.alternatives.slice(0,f.value.length))},y=()=>{if(!a.value)return;const d=a.value.selectionStart,l=a.value.selectionEnd,t=a.value.value;a.value.value=t.substring(0,d)+"[blank]"+t.substring(l),a.value.focus(),a.value.selectionStart=d+7,a.value.selectionEnd=d+7,r("update:modelValue",{...s.modelValue,question:a.value.value})},x=d=>{s.modelValue.settings.alternatives[d].push("")},i=(d,l)=>{s.modelValue.settings.alternatives[d].splice(l,1)};return R(()=>{o(),m()}),(d,l)=>(b(),g("div",Ce,[e("div",null,[l[2]||(l[2]=e("label",{class:"block text-sm font-medium text-gray-700"},"Question Text with Blanks",-1)),e("div",Ae,[p(e("textarea",{ref_key:"textareaRef",ref:a,"onUpdate:modelValue":l[0]||(l[0]=t=>n.modelValue.question=t),rows:"4",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter your question text. Use [blank] to indicate where blanks should appear.",onInput:m},null,544),[[w,n.modelValue.question]]),e("div",{class:"absolute right-2 bottom-2"},[e("button",{onClick:y,type:"button",class:"inline-flex items-center px-2 py-1 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Insert Blank ")])]),l[3]||(l[3]=e("p",{class:"mt-1 text-sm text-gray-500"},' Use [blank] tags to mark where blanks should appear. Example: "The capital of France is [blank]." ',-1))]),f.value.length>0?(b(),g("div",Ue,[l[5]||(l[5]=e("label",{class:"block text-sm font-medium text-gray-700"},"Blank Answers",-1)),e("div",Oe,[(b(!0),g(_,null,$(f.value,(t,u)=>(b(),g("div",{key:u,class:"flex items-start"},[e("span",ze," Blank #"+U(u+1),1),e("div",Ee,[p(e("input",{"onUpdate:modelValue":c=>n.modelValue.correct_answers[u]=c,type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Answer for blank #"+(u+1)},null,8,Ie),[[w,n.modelValue.correct_answers[u]]]),e("div",Se,[p(e("input",{"onUpdate:modelValue":c=>n.modelValue.settings.case_sensitive[u]=c,type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,qe),[[A,n.modelValue.settings.case_sensitive[u]]]),l[4]||(l[4]=e("label",{class:"text-sm text-gray-600"},"Case sensitive",-1))])])]))),128))])])):E("",!0),f.value.length>0?(b(),g("div",Me,[l[6]||(l[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Alternative Answers",-1)),e("div",De,[(b(!0),g(_,null,$(f.value,(t,u)=>(b(),g("div",{key:"alt-"+u,class:"space-y-2"},[e("div",Fe,[e("span",Re," Blank #"+U(u+1),1),e("button",{onClick:c=>x(u),type:"button",class:"inline-flex items-center px-2 py-1 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Add Alternative ",8,Be)]),(b(!0),g(_,null,$(n.modelValue.settings.alternatives[u],(c,v)=>(b(),g("div",{key:v,class:"ml-8 flex items-center"},[p(e("input",{"onUpdate:modelValue":S=>n.modelValue.settings.alternatives[u][v]=S,type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Alternative "+(v+1)},null,8,Pe),[[w,n.modelValue.settings.alternatives[u][v]]]),e("button",{onClick:S=>i(u,v),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[h(k(O),{class:"h-4 w-4"})],8,je)]))),128))]))),128))])])):E("",!0),e("div",null,[l[7]||(l[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Feedback",-1)),p(e("textarea",{"onUpdate:modelValue":l[1]||(l[1]=t=>n.modelValue.settings.feedback=t),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Optional feedback to show after answering"},null,512),[[w,n.modelValue.settings.feedback]])])]))}},Te={class:"space-y-6"},Le=["value"],Ne={class:"space-y-4"},Ze={class:"flex items-center justify-between"},He={class:"flex-1"},Ge=["value","onInput"],Qe={class:"flex items-center"},We={class:"flex-1"},Je=["value","onInput"],Ke=["onClick"],Xe={class:"mt-2 space-y-2"},Ye=["value","onInput"],et=["onClick"],tt={class:"mt-2 space-y-2"},st={class:"inline-flex items-center"},lt=["checked"],ot={class:"inline-flex items-center"},nt=["checked"],rt={class:"inline-flex items-center"},at=["checked"],ut={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},it=["value"],dt=["value"],mt={class:"mt-4 p-2 bg-gray-100 rounded text-xs"},$t={__name:"MatchingEditor",props:{modelValue:{type:Object,required:!0,default:()=>({options:[],settings:{instructions:"",distractors:[],randomize_left:!1,randomize_right:!1,show_instructions:!0,points_per_match:1,deduction_per_wrong:0}})}},emits:["update:modelValue"],setup(n,{emit:V}){const a=n,s=V,r=I({get(){return{options:a.modelValue.options||[],settings:{instructions:"",distractors:[],randomize_left:!1,randomize_right:!1,show_instructions:!0,points_per_match:1,deduction_per_wrong:0,...a.modelValue.settings}}},set(l){s("update:modelValue",{...a.modelValue,...l})}}),f=(l,t,u)=>{const c=[...r.value.options];c[l]={...c[l],[t]:u},s("update:modelValue",{...a.modelValue,options:c})},o=()=>{const l=[...r.value.options,{left:"",right:""}];s("update:modelValue",{...a.modelValue,options:l})},m=l=>{const t=[...r.value.options];t.splice(l,1),s("update:modelValue",{...a.modelValue,options:t})},y=(l,t)=>{const u=[...r.value.settings.distractors];u[l]=t,s("update:modelValue",{...a.modelValue,settings:{...r.value.settings,distractors:u}})},x=()=>{const l=[...r.value.settings.distractors,""];s("update:modelValue",{...a.modelValue,settings:{...r.value.settings,distractors:l}})},i=l=>{const t=[...r.value.settings.distractors];t.splice(l,1),s("update:modelValue",{...a.modelValue,settings:{...r.value.settings,distractors:t}})},d=(l,t)=>{s("update:modelValue",{...a.modelValue,settings:{...r.value.settings,[l]:t}})};return(l,t)=>(b(),g("div",Te,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Instructions",-1)),e("input",{value:r.value.settings.instructions,onInput:t[0]||(t[0]=u=>d("instructions",u.target.value)),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"e.g., 'Match the items on the left with the correct options on the right'"},null,40,Le)]),e("div",Ne,[e("div",Ze,[t[8]||(t[8]=e("h3",{class:"text-sm font-medium text-gray-700"},"Match Items",-1)),e("button",{onClick:o,type:"button",class:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[h(k(z),{class:"-ml-0.5 mr-1 h-4 w-4"}),t[7]||(t[7]=C(" Add Pair "))])]),(b(!0),g(_,null,$(r.value.options,(u,c)=>(b(),g("div",{key:c,class:"flex items-center space-x-4"},[e("div",He,[e("input",{value:u.left,onInput:v=>f(c,"left",v.target.value),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Left item"},null,40,Ge)]),e("div",Qe,[h(k(j),{class:"h-5 w-5 text-gray-400"})]),e("div",We,[e("input",{value:u.right,onInput:v=>f(c,"right",v.target.value),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Right item"},null,40,Je)]),e("button",{onClick:v=>m(c),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[h(k(O),{class:"h-4 w-4"})],8,Ke)]))),128))]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"Extra Options (Distractors)",-1)),e("div",Xe,[(b(!0),g(_,null,$(r.value.settings.distractors,(u,c)=>(b(),g("div",{key:"distractor-"+c,class:"flex items-center"},[e("input",{value:u,onInput:v=>y(c,v.target.value),type:"text",class:"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Extra option"},null,40,Ye),e("button",{onClick:v=>i(c),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[h(k(O),{class:"h-4 w-4"})],8,et)]))),128)),e("button",{onClick:x,type:"button",class:"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[h(k(z),{class:"-ml-0.5 mr-1 h-4 w-4"}),t[9]||(t[9]=C(" Add Distractor "))])])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Settings",-1)),e("div",tt,[e("label",st,[e("input",{checked:r.value.settings.randomize_left,onChange:t[1]||(t[1]=u=>d("randomize_left",u.target.checked)),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,40,lt),t[11]||(t[11]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize left column",-1))]),e("label",ot,[e("input",{checked:r.value.settings.randomize_right,onChange:t[2]||(t[2]=u=>d("randomize_right",u.target.checked)),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,40,nt),t[12]||(t[12]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize right column",-1))]),e("label",rt,[e("input",{checked:r.value.settings.show_instructions,onChange:t[3]||(t[3]=u=>d("show_instructions",u.target.checked)),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,40,at),t[13]||(t[13]=e("span",{class:"ml-2 text-sm text-gray-600"},"Show instructions to students",-1))])])]),e("div",ut,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"Points per correct match",-1)),e("input",{value:r.value.settings.points_per_match,onInput:t[4]||(t[4]=u=>d("points_per_match",parseFloat(u.target.value)||0)),type:"number",min:"0",step:"0.5",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,40,it)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"Deduction per wrong match",-1)),e("input",{value:r.value.settings.deduction_per_wrong,onInput:t[5]||(t[5]=u=>d("deduction_per_wrong",parseFloat(u.target.value)||0)),type:"number",min:"0",step:"0.5",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,40,dt)])]),e("div",mt,[t[17]||(t[17]=e("strong",null,"Debug:",-1)),t[18]||(t[18]=e("br",null,null,-1)),C(" Pairs: "+U(r.value.options),1),t[19]||(t[19]=e("br",null,null,-1)),C(" Distractors: "+U(r.value.settings.distractors),1),t[20]||(t[20]=e("br",null,null,-1)),C(" Settings: "+U(r.value.settings),1)])]))}},ct={class:"space-y-4"},gt={class:"flex items-center bg-gray-50 p-2 rounded-md shadow-sm"},bt=["onUpdate:modelValue"],ft=["onClick"],pt={class:"mt-2 space-y-1 pl-5 list-decimal text-sm text-gray-700"},xt={class:"mt-2 space-y-2"},vt={class:"inline-flex items-center"},Ct={__name:"OrderingEditor",props:{modelValue:{type:Object,required:!0,default:()=>({options:[],correct_answers:[],settings:{randomize:!1}})}},emits:["update:modelValue"],setup(n,{emit:V}){const a=n,s=V,r=I({get:()=>a.modelValue.options||[],set:x=>{const i={...a.modelValue,options:x};i.correct_answers=x.map((d,l)=>d.text.trim()?l:null).filter(d=>d!==null),s("update:modelValue",i)}}),f=()=>{const x={id:Date.now(),text:""},i=[...a.modelValue.options||[],x],d={...a.modelValue,options:i,correct_answers:i.map((l,t)=>l.text.trim()?t:null).filter(l=>l!==null)};s("update:modelValue",d)},o=x=>{const i=[...a.modelValue.options||[]];i.splice(x,1);const d={...a.modelValue,options:i,correct_answers:i.map((l,t)=>l.text.trim()?t:null).filter(l=>l!==null)};s("update:modelValue",d)},m=()=>{const x={...a.modelValue,correct_answers:(a.modelValue.options||[]).map((i,d)=>i.text.trim()?d:null).filter(i=>i!==null)};s("update:modelValue",x)},y=()=>{const x={...a.modelValue,correct_answers:(a.modelValue.options||[]).map((i,d)=>i.text.trim()?d:null).filter(i=>i!==null)};s("update:modelValue",x)};return(x,i)=>(b(),g("div",ct,[e("div",null,[i[4]||(i[4]=e("label",{class:"block text-sm font-medium text-gray-700"},"Items to Order",-1)),i[5]||(i[5]=e("p",{class:"text-xs text-gray-500 mb-2"},"Enter the items in the correct order.",-1)),h(k(P),{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=d=>r.value=d),onEnd:y,"item-key":"id",class:"space-y-2"},{item:B(({element:d,index:l})=>[e("div",gt,[i[2]||(i[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-5 h-5 text-gray-400 cursor-move mr-3"},[e("line",{x1:"9",y1:"18",x2:"9",y2:"6"}),e("line",{x1:"15",y1:"18",x2:"15",y2:"6"})],-1)),p(e("input",{"onUpdate:modelValue":t=>d.text=t,onInput:m,type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter an item"},null,40,bt),[[w,d.text]]),e("button",{onClick:t=>o(l),type:"button",class:"ml-2 inline-flex items-center p-1 border border-transparent rounded-full text-red-700 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[h(k(O),{class:"h-4 w-4"})],8,ft)])]),_:1},8,["modelValue"]),e("button",{onClick:f,type:"button",class:"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[h(k(z),{class:"-ml-0.5 mr-2 h-4 w-4"}),i[3]||(i[3]=C(" Add Item "))])]),e("div",null,[i[6]||(i[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Preview - Correct Order",-1)),e("ol",pt,[(b(!0),g(_,null,$(r.value,(d,l)=>(b(),g("li",{key:d.id},U(d.text),1))),128))])]),e("div",null,[i[8]||(i[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Settings",-1)),e("div",xt,[e("label",vt,[p(e("input",{"onUpdate:modelValue":i[1]||(i[1]=d=>n.modelValue.settings.randomize=d),onChange:m,type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,544),[[A,n.modelValue.settings.randomize]]),i[7]||(i[7]=e("span",{class:"ml-2 text-sm text-gray-600"},"Randomize item order when displayed",-1))])])])]))}};export{wt as _,Vt as a,ht as b,kt as c,_t as d,$t as e,Ct as f};
