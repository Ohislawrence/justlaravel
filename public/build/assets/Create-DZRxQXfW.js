import{x as V,i as f,c as N,o as r,w as h,a as o,b as q,g as A,e as n,d as a,h as d,n as u,j as i,A as v,t as l,q as b,F as k,l as U,Q as w}from"./app-DvBnAnlC.js";import{A as E}from"./AppLayout-DrgNT64Z.js";import{F}from"./FeatureLimitModal-WFHMxf4g.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const M={class:"container-xxl flex-grow-1 container-p-y"},D={class:"row"},S={class:"col-xl"},B={class:"card mb-4"},j={class:"card-body"},I={class:"mb-3"},O={key:0,class:"invalid-feedback"},T={class:"mb-3"},Y={key:0,class:"invalid-feedback"},z={class:"mb-3"},G={key:0,class:"invalid-feedback"},H={class:"mb-3"},J={key:0,class:"invalid-feedback"},Q={class:"mb-3"},R=["value"],K={key:0,class:"invalid-feedback"},P={class:"mb-3"},W=["value"],X={key:0,class:"invalid-feedback"},Z={class:"mb-3"},$={class:"form-check"},ee={key:0,class:"invalid-feedback"},se=["disabled"],oe={key:0},ie={key:1},te={__name:"Create",props:{groups:Object,designations:Array,examineeLimit:Number,examinerLimit:Number,currentexamineeCount:Number,currentexaminerCount:Number},setup(_){const m=_,s=V({name:"",email:"",unique_code:"",user_type:"",designation_id:null,group:null,notify_user:!1}),p=f(!1),y=f(""),x=f("");function g(c,e){y.value=c,x.value=e,p.value=!0}const C=()=>{const c=m.currentexamineeCount<m.examineeLimit,e=m.currentexaminerCount<m.examinerLimit;if(s.user_type=="examinee"&&!c){g("Add Examinee","You have reached the examinee limit. Upgrade your plan to add more examinees.");return}if(s.user_type=="examiner"&&!e){g("Add Examiner","You have reached the examiner limit. Upgrade your plan to add more examiners.");return}s.post("/examiner/user")};return(c,e)=>(r(),N(E,{title:"Add User"},{default:h(()=>[o("div",M,[e[19]||(e[19]=o("h4",{class:"fw-bold py-3 mb-4"},"Create a User",-1)),o("div",D,[o("div",S,[o("div",B,[e[18]||(e[18]=o("div",{class:"card-header d-flex justify-content-between align-items-center"},[o("h5",{class:"mb-0"},"Login Details"),o("small",{class:"text-muted float-end"},"Required fields")],-1)),o("div",j,[o("form",{onSubmit:A(C,["prevent"])},[o("div",I,[e[8]||(e[8]=o("label",{class:"form-label",for:"name"},"Full Name",-1)),n(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i(s).name=t),type:"text",class:u(["form-control",{"is-invalid":i(s).errors.name}]),id:"name",placeholder:"John Doe"},null,2),[[v,i(s).name]]),i(s).errors.name?(r(),a("div",O,l(i(s).errors.name),1)):d("",!0)]),o("div",T,[e[9]||(e[9]=o("label",{class:"form-label",for:"email"},"Email",-1)),n(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i(s).email=t),type:"email",class:u(["form-control",{"is-invalid":i(s).errors.email}]),id:"email",placeholder:"email@example.com"},null,2),[[v,i(s).email]]),i(s).errors.email?(r(),a("div",Y,l(i(s).errors.email),1)):d("",!0)]),o("div",z,[e[10]||(e[10]=o("label",{class:"form-label",for:"unique_code"},"Identification Number",-1)),n(o("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i(s).unique_code=t),type:"text",class:u(["form-control",{"is-invalid":i(s).errors.unique_code}]),id:"unique_code",placeholder:"U09CH1767"},null,2),[[v,i(s).unique_code]]),i(s).errors.unique_code?(r(),a("div",G,l(i(s).errors.unique_code),1)):d("",!0)]),o("div",H,[e[12]||(e[12]=o("label",{for:"user_type",class:"form-label"},"User Type",-1)),n(o("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>i(s).user_type=t),class:u(["form-select",{"is-invalid":i(s).errors.user_type}]),id:"user_type"},e[11]||(e[11]=[o("option",{disabled:"",value:""},"Select One",-1),o("option",{value:"examiner"},"Examiner (full access)",-1),o("option",{value:"instructor"},"Instructor (staff/teacher)",-1),o("option",{value:"examinee"},"Examinee (student/candidate)",-1)]),2),[[b,i(s).user_type]]),i(s).errors.user_type?(r(),a("div",J,l(i(s).errors.user_type),1)):d("",!0)]),o("div",Q,[e[14]||(e[14]=o("label",{for:"designation_id",class:"form-label"},"Designation",-1)),n(o("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i(s).designation_id=t),class:u(["form-select",{"is-invalid":i(s).errors.designation_id}]),id:"designation_id"},[e[13]||(e[13]=o("option",{disabled:"",value:""},"Select Designation",-1)),(r(!0),a(k,null,U(_.designations,t=>(r(),a("option",{key:t.id,value:t.id},l(t.name),9,R))),128))],2),[[b,i(s).designation_id]]),i(s).errors.designation_id?(r(),a("div",K,l(i(s).errors.designation_id),1)):d("",!0)]),o("div",P,[e[16]||(e[16]=o("label",{for:"groups",class:"form-label"},"Assign Group",-1)),n(o("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>i(s).group=t),class:u(["form-select",{"is-invalid":i(s).errors.group}]),id:"group"},[e[15]||(e[15]=o("option",{disabled:"",value:null},"-- Select a group --",-1)),(r(!0),a(k,null,U(m.groups.data,t=>(r(),a("option",{key:t.id,value:t.id},l(t.name),9,W))),128))],2),[[b,i(s).group]]),i(s).errors.group?(r(),a("div",X,l(i(s).errors.group),1)):d("",!0)]),o("div",Z,[o("div",$,[n(o("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i(s).notify_user=t),class:u(["form-check-input",{"is-invalid":i(s).errors.notify_user}]),type:"checkbox",id:"notify-user"},null,2),[[w,i(s).notify_user]]),e[17]||(e[17]=o("label",{class:"form-check-label",for:"notify-user"}," Notify user via email about account creation ",-1)),i(s).errors.notify_user?(r(),a("div",ee,l(i(s).errors.notify_user),1)):d("",!0)])]),o("button",{type:"submit",class:"btn btn-success",disabled:i(s).processing},[i(s).processing?(r(),a("span",oe,"Creating...")):(r(),a("span",ie,"Create User"))],8,se)],32)])])])])]),q(F,{modelValue:p.value,"onUpdate:modelValue":e[7]||(e[7]=t=>p.value=t),featureName:y.value,message:x.value},null,8,["modelValue","featureName","message"])]),_:1}))}},ue=L(te,[["__scopeId","data-v-950f08c9"]]);export{ue as default};
