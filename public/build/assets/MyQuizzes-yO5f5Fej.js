import{i as j,f as C,c as B,o,w as d,a as t,d as n,h as g,F as c,l as w,t as i,b as f,j as p,S as x,k as l,e as b,y as _,n as Q,W as V}from"./app-24fF8AFT.js";import{l as A}from"./lodash-C4EyLG11.js";import{A as S}from"./AppLayout-5b-F9HoC.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"py-6"},N={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},L={key:0,class:"mb-10"},E={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},F={class:"px-5 py-6"},T={class:"flex items-start justify-between"},I={class:"min-w-0 flex-1"},R={class:"text-lg font-semibold text-gray-900 truncate"},U={class:"mt-1 text-sm text-gray-500 truncate"},$={class:"mt-5 space-y-3"},H={class:"flex items-center text-sm text-gray-600"},O={class:"flex items-center text-sm text-gray-600"},P={class:"mt-6"},W={class:"mb-8"},Y={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},G={class:"flex flex-col sm:flex-row gap-3"},J={class:"relative"},K={class:"relative"},X=["value"],Z={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},q={class:"px-5 py-6"},tt={class:"flex items-start justify-between"},et={class:"min-w-0 flex-1"},st={class:"text-lg font-semibold text-gray-900 truncate"},ot={class:"mt-1 text-sm text-gray-500 truncate"},nt={class:"mt-5 space-y-3"},rt={class:"flex items-center text-sm text-gray-600"},it={class:"flex items-center text-sm text-gray-600"},at={key:0},lt={key:1},dt={key:2},ut={key:3},mt={key:0,class:"flex items-center text-sm text-gray-600"},gt={key:0,class:"text-green-600 font-medium"},ct={key:1,class:"text-red-600 font-medium"},ft={class:"mt-6"},pt={key:0},xt={key:1},ht={key:2},vt={key:3},wt={disabled:"",class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-gray-500 bg-gray-100 cursor-not-allowed"},yt={key:0},bt={key:1},_t={key:1,class:"bg-white text-center rounded-xl shadow-sm border border-gray-100 px-6 py-16"},Bt={__name:"MyQuizzes",props:{quizzes:Array,organizations:Array,filters:Object,ongoingQuizzes:{type:Array,default:()=>[]}},setup(u){const h=u,a=j({status:h.filters.status||"all",organization:h.filters.organization||"all"}),y=C(()=>h.quizzes.filter(r=>!(a.value.status!=="all"&&r.status!==a.value.status||a.value.organization!=="all"&&r.organization.id!==parseInt(a.value.organization)))),k=r=>{if(!r)return"0:00";const s=Math.floor(r/60),e=r%60;return`${s}:${e.toString().padStart(2,"0")}`},z=r=>{if(!r)return"";const s={month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(r).toLocaleDateString(void 0,s)},v=()=>{V.get(route("examinee.quizzes.index"),A.pickBy(a.value),{preserveState:!0,replace:!0})},M=()=>{a.value={status:"all",organization:"all"},v()},m=r=>{if(!r)return"";const s={year:"numeric",month:"short",day:"numeric"};return new Date(r).toLocaleDateString(void 0,s)};return(r,s)=>(o(),B(S,{title:"My Quizzes"},{default:d(()=>[t("div",D,[t("div",N,[u.ongoingQuizzes.length>0?(o(),n("div",L,[s[6]||(s[6]=t("div",{class:"flex items-center justify-between mb-4"},[t("h2",{class:"text-xl font-semibold text-gray-900"},"Continue Quiz")],-1)),t("div",E,[(o(!0),n(c,null,w(u.ongoingQuizzes,e=>(o(),n("div",{key:e.id,class:"bg-white overflow-hidden rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-200"},[t("div",F,[t("div",T,[t("div",I,[t("h3",R,i(e.title),1),t("p",U,i(e.organization.name),1)]),s[2]||(s[2]=t("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ml-3 flex-shrink-0 whitespace-nowrap bg-yellow-50 text-yellow-700 border border-yellow-100"}," In Progress ",-1))]),t("div",$,[t("div",H,[s[3]||(s[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",null," Time spent: "+i(k(e.attempt.time_spent)),1)]),t("div",O,[s[4]||(s[4]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t("span",null," Started "+i(z(e.attempt.started_at)),1)])]),t("div",P,[f(p(x),{href:r.route("examinee.attempt",{quiz:e.id,attempt:e.attempt.id}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"},{default:d(()=>s[5]||(s[5]=[l(" Continue Quiz ")])),_:2,__:[5]},1032,["href"])])])]))),128))])])):g("",!0),t("div",W,[t("div",Y,[s[11]||(s[11]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"My Quizzes"),t("p",{class:"mt-2 text-gray-600"},"All quizzes assigned to you")],-1)),t("div",G,[t("div",J,[b(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>a.value.status=e),onChange:v,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-4 pr-10 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},s[7]||(s[7]=[t("option",{value:"all"},"All Statuses",-1),t("option",{value:"available"},"Available",-1),t("option",{value:"upcoming"},"Upcoming",-1),t("option",{value:"expired"},"Expired",-1),t("option",{value:"completed"},"Completed",-1)]),544),[[_,a.value.status]]),s[8]||(s[8]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500"},[t("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))]),t("div",K,[b(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>a.value.organization=e),onChange:v,class:"appearance-none bg-white border border-gray-200 rounded-lg pl-4 pr-10 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition-all duration-200 w-full sm:w-auto"},[s[9]||(s[9]=t("option",{value:"all"},"All Organizations",-1)),(o(!0),n(c,null,w(u.organizations,e=>(o(),n("option",{key:e.id,value:e.id},i(e.name),9,X))),128))],544),[[_,a.value.organization]]),s[10]||(s[10]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500"},[t("svg",{class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])])])]),t("div",Z,[(o(!0),n(c,null,w(y.value,e=>(o(),n("div",{key:e.id,class:"bg-white overflow-hidden rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-200"},[t("div",q,[t("div",tt,[t("div",et,[t("h3",st,i(e.title),1),t("p",ot,i(e.organization.name),1)]),t("span",{class:Q(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ml-3 flex-shrink-0 whitespace-nowrap",{"bg-blue-50 text-blue-700 border border-blue-100":e.status==="available","bg-gray-50 text-gray-700 border border-gray-100":e.status==="upcoming","bg-red-50 text-red-700 border border-red-100":e.status==="expired","bg-green-50 text-green-700 border border-green-100":e.status==="completed"}])},i(e.statusDisplay),3)]),t("div",nt,[t("div",rt,[s[12]||(s[12]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",null,[l(i(e.time_limit?`${e.time_limit} min`:"No time limit")+" ",1),e.attempts_remaining!==null?(o(),n(c,{key:0},[l(" â€¢ "+i(e.attempts_remaining)+" "+i(e.attempts_remaining===1?"attempt":"attempts")+" left ",1)],64)):g("",!0)])]),t("div",it,[s[13]||(s[13]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e.starts_at&&e.ends_at?(o(),n("span",at,i(m(e.starts_at))+" - "+i(m(e.ends_at)),1)):e.starts_at?(o(),n("span",lt," Starts "+i(m(e.starts_at)),1)):e.ends_at?(o(),n("span",dt," Ends "+i(m(e.ends_at)),1)):(o(),n("span",ut," Always available "))]),e.best_attempt?(o(),n("div",mt,[s[14]||(s[14]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",null,[l(" Best score: "+i(e.best_attempt.percentage)+"% ",1),e.best_attempt.is_passed?(o(),n("span",gt,"(Passed)")):(o(),n("span",ct,"(Failed)"))])])):g("",!0)]),t("div",ft,[e.status==="available"?(o(),n("div",pt,[f(p(x),{href:r.route("quiz.show",{quiz:e.id,token:e.share_token}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"},{default:d(()=>s[15]||(s[15]=[l(" Take Quiz ")])),_:2,__:[15]},1032,["href"])])):e.status==="completed"&&e.attempts_remaining>0?(o(),n("div",xt,[f(p(x),{href:r.route("quiz.show",{quiz:e.id,token:e.share_token}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200"},{default:d(()=>s[16]||(s[16]=[l(" Retake Quiz ")])),_:2,__:[16]},1032,["href"])])):e.status==="completed"?(o(),n("div",ht,[f(p(x),{href:r.route("examinee.quiz.results",{quiz:e.id,attemptId:e.best_attempt.id}),class:"w-full flex justify-center items-center px-4 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},{default:d(()=>s[17]||(s[17]=[l(" View Results ")])),_:2,__:[17]},1032,["href"])])):(o(),n("div",vt,[t("button",wt,[e.status==="upcoming"?(o(),n("span",yt,"Not Available Yet")):(o(),n("span",bt,"Quiz Expired"))])]))])])]))),128))]),y.value.length===0?(o(),n("div",_t,[t("div",{class:"mx-auto max-w-sm"},[s[18]||(s[18]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s[19]||(s[19]=t("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No quizzes found",-1)),s[20]||(s[20]=t("p",{class:"mt-2 text-gray-500"},"You don't have any quizzes matching your current filters.",-1)),t("div",{class:"mt-6"},[t("button",{onClick:M,type:"button",class:"inline-flex items-center px-4 py-2.5 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"}," Reset Filters ")])])])):g("",!0)])])]),_:1}))}};export{Bt as default};
