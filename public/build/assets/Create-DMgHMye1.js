import{P as B,x as G,i as k,m as S,c as $,o as n,w as m,d as l,h as p,a as e,j as o,t as v,g as j,b as r,F as U,l as M,k as _,n as N}from"./app-QoN49EH_.js";import{A as P}from"./AppLayout-D8ExmrQZ.js";import{_ as g}from"./InputError-DJUl_G0o.js";import{_ as u}from"./InputLabel-8K_v1vm7.js";import{_ as w}from"./TextInput-3wySODnA.js";import{_ as F}from"./Textarea-Bgw6uVNA.js";import{_ as h}from"./Checkbox-zxogP_J2.js";import{_ as L}from"./SelectInput-BFKR2GvQ.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                  */const I={class:"flex items-center justify-between"},q={class:"flex items-center space-x-2"},D={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4"},H={class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative"},O={class:"block sm:inline"},Q={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4"},T={class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"},E={class:"block sm:inline"},J={class:"py-8"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},R={class:"bg-white shadow overflow-hidden sm:rounded-lg"},W={class:"px-4 py-5 sm:p-6"},X={class:"space-y-6"},Y={class:"grid grid-cols-1 gap-4"},Z={key:0},ee=["value"],se={class:"space-y-4"},te={class:"flex items-center"},oe={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},re={class:"mt-1 relative rounded-md shadow-sm"},ie={class:"flex items-center"},ne={class:"flex justify-end pt-6 border-t border-gray-200"},le=["disabled"],ae={key:0,class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},de={key:1,class:"flex items-center"},ue={key:2},me={__name:"Create",props:{organization:Object,parentGroups:Array},setup(f){const b=f,{flash:a}=B().props,t=G({name:"",description:"",price:null,is_active:!0,parent_id:null}),x=k(null),d=k(!1),C=()=>{t.post(route("examiner.quiz-groups.store"),{preserveScroll:!0,onSuccess:()=>{t.reset()}})},V=()=>{if(t.price){let c=t.price.toString().replace(/[^0-9.]/g,"");t.price=parseFloat(c).toFixed(2)}},z=()=>{d.value=!d.value,d.value&&x.value?x.value.focus():t.price=null};return(c,s)=>{const y=S("Link");return n(),$(P,{title:"Create Quiz Group"},{header:m(()=>[e("div",I,[s[9]||(s[9]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create New Quiz Group ",-1)),e("div",q,[r(y,{href:c.route("examiner.quiz-groups.index",b.organization.id),class:"text-sm text-gray-600 hover:text-gray-900"},{default:m(()=>s[8]||(s[8]=[_(" Back to Groups ")])),_:1,__:[8]},8,["href"])])])]),default:m(()=>[o(a).success?(n(),l("div",D,[e("div",H,[e("span",O,v(o(a).success),1),e("button",{type:"button",onClick:s[0]||(s[0]=i=>o(a).success=null),class:"absolute top-0 bottom-0 right-0 px-4 py-3","aria-label":"Close success message"},s[10]||(s[10]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):p("",!0),o(a).error?(n(),l("div",Q,[e("div",T,[e("span",E,v(o(a).error),1),e("button",{type:"button",onClick:s[1]||(s[1]=i=>o(a).error=null),class:"absolute top-0 bottom-0 right-0 px-4 py-3","aria-label":"Close error message"},s[11]||(s[11]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):p("",!0),e("div",J,[e("div",K,[e("div",R,[e("div",W,[e("form",{onSubmit:j(C,["prevent"])},[e("div",X,[e("div",null,[s[13]||(s[13]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"}," Basic Information ",-1)),e("div",Y,[e("div",null,[r(u,{for:"name",value:"Group Name *"}),r(w,{id:"name",modelValue:o(t).name,"onUpdate:modelValue":s[2]||(s[2]=i=>o(t).name=i),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),r(g,{class:"mt-2",message:o(t).errors.name},null,8,["message"])]),e("div",null,[r(u,{for:"description",value:"Description"}),r(F,{id:"description",modelValue:o(t).description,"onUpdate:modelValue":s[3]||(s[3]=i=>o(t).description=i),class:"mt-1 block w-full",rows:"3"},null,8,["modelValue"]),r(g,{class:"mt-2",message:o(t).errors.description},null,8,["message"])]),f.parentGroups.length>0?(n(),l("div",Z,[r(u,{for:"parent_id",value:"Parent Group (optional)"}),r(L,{id:"parent_id",modelValue:o(t).parent_id,"onUpdate:modelValue":s[4]||(s[4]=i=>o(t).parent_id=i),class:"mt-1 block w-full"},{default:m(()=>[s[12]||(s[12]=e("option",{value:null},"No parent group",-1)),(n(!0),l(U,null,M(f.parentGroups,i=>(n(),l("option",{key:i.id,value:i.id},v(i.name),9,ee))),128))]),_:1,__:[12]},8,["modelValue"]),r(g,{class:"mt-2",message:o(t).errors.parent_id},null,8,["message"])])):p("",!0)])]),e("div",null,[s[17]||(s[17]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"}," Pricing Options ",-1)),e("div",se,[e("div",te,[r(h,{id:"has_price",checked:d.value,"onUpdate:checked":s[5]||(s[5]=i=>d.value=i),onChange:z},null,8,["checked"]),r(u,{for:"has_price",value:"This is a paid group",class:"ml-2"})]),d.value?(n(),l("div",oe,[e("div",null,[r(u,{for:"price",value:"Price (USD)"}),e("div",re,[s[14]||(s[14]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),r(w,{ref_key:"priceInput",ref:x,id:"price",modelValue:o(t).price,"onUpdate:modelValue":s[6]||(s[6]=i=>o(t).price=i),type:"number",min:"0",step:"0.01",class:"block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",onBlur:V},null,8,["modelValue"]),s[15]||(s[15]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"USD")],-1))]),s[16]||(s[16]=e("p",{class:"mt-1 text-sm text-gray-500"}," Set a price if this group contains premium content ",-1)),r(g,{class:"mt-2",message:o(t).errors.price},null,8,["message"])])])):p("",!0)])]),e("div",null,[s[18]||(s[18]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"}," Status ",-1)),e("div",ie,[r(h,{id:"is_active",checked:o(t).is_active,"onUpdate:checked":s[7]||(s[7]=i=>o(t).is_active=i)},null,8,["checked"]),r(u,{for:"is_active",value:"Active (visible to users)",class:"ml-2"})]),s[19]||(s[19]=e("p",{class:"mt-1 text-sm text-gray-500"}," Inactive groups won't be visible to students ",-1))]),e("div",ne,[r(y,{href:c.route("examiner.quiz-groups.index",b.organization.id),class:"px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200"},{default:m(()=>s[20]||(s[20]=[_(" Cancel ")])),_:1,__:[20]},8,["href"]),e("button",{type:"submit",class:N(["ml-3 inline-flex justify-center py-2 px-6 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 flex items-center",{"opacity-25 cursor-not-allowed":o(t).processing}]),disabled:o(t).processing},[o(t).processing?p("",!0):(n(),l("svg",ae,s[21]||(s[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},null,-1)]))),o(t).processing?(n(),l("span",de,s[22]||(s[22]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),_(" Creating... ")]))):(n(),l("span",ue,"Create Group"))],10,le)])])],32)])])])])]),_:1})}}},we=A(me,[["__scopeId","data-v-63cc7dff"]]);export{we as default};
